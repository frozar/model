Content-type: text/html

<HTML><HEAD><TITLE>Manpage of CAPGET</TITLE>
</HEAD><BODY>
<H1>CAPGET</H1>
Section: Linux Programmer's Manual (2)<BR>Updated: 1999-09-09<BR><A HREF="#index">Index</A>
<A HREF="http://madchat.org/netadm">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

capget, capset - set/get process capabilities
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>#undef _POSIX_SOURCE</B>

<BR>

<B>#include &lt;<A HREF="file:/usr/include/sys/capability.h">sys/capability.h</A>&gt;</B>

<P>
<B>int capget(cap_user_header_t </B><I>header</I><B>, cap_user_data_t </B><I>data</I><B>);</B>

<P>
<B>int capset(cap_user_header_t </B><I>header</I><B>, const cap_user_data_t </B><I>data</I><B>);</B>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

As of Linux 2.2, the power of the superuser (root) has been partitioned into
a set of discrete capabilities.
Every process has a set of effective capabilities identifying
which capabilities (if any) it may currently exercise.
Every process also has a set of inheritable capabilities that may be
passed through an <A HREF="http://dev/null">execve</A>(2) and a set of permitted capabilites
that it can make effective or inheritable.
<P>

These two functions are the raw kernel interface for getting and
setting capabilities.  Not only are these system calls specific to Linux,
but the kernel API is likely to change and use of
these functions (in particular the format of the
<B>cap_user_*_t</B>

types) is subject to change with each kernel revision.
<P>
The portable interfaces are
<I><A HREF="http://dev/null">cap_set_proc</A></I>(3)

and
<I><A HREF="http://dev/null">cap_get_proc</A></I>(3);

if possible you should use those interfaces in applications.
If you wish to use the Linux extensions in applications, you should
use the easier-to-use interfaces
<I><A HREF="http://dev/null">capsetp</A></I>(3)

and 
<I><A HREF="http://dev/null">capgetp</A></I>(3).

<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

On success, zero is returned.  On error, -1 is returned, and
<I>errno</I>

is set appropriately.
<A NAME="lbAF">&nbsp;</A>
<H2>ERRORS</H2>

<DL COMPACT>
<DT><FONT SIZE="-1"><B>EINVAL</B></FONT>
<DD>
One of the arguments was invalid.
<DT><FONT SIZE="-1"><B>EPERM</B></FONT>
<DD>
An attempt was made to add a capability to the Permitted set, or to set
a capability in the Effective or Inheritable sets that is not in the
Permitted set.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>FURTHER INFORMATION</H2>

The portable interface to the capability querying and setting
functions is provided by the
<B>libcap</B>

library and is available from here:
<BR>

<B><A HREF="ftp://linux.kernel.org/pub/linux/libs/security/linux-privs">ftp://linux.kernel.org/pub/linux/libs/security/linux-privs</A></B>

<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="http://dev/null">capabilities</A></B>(7)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT><A HREF="#lbAF">ERRORS</A><DD>
<DT><A HREF="#lbAG">FURTHER INFORMATION</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="http://dev/null">man2html</A>,
using the manual pages.<BR>
Time: 10:35:31 GMT, October 01, 2003
</BODY>
</HTML>
