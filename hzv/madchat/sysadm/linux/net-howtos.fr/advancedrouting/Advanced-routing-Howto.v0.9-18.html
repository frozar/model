<!-- NAME: main.tpl -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
  <head>
    <title>L i n u x [inetdoc]: (Guides) </title>
    <meta HTTP-EQUIV="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="Content-Language" content="fr">
    <meta name="description" content="inet doc linux">
    <meta name="author" content="philippe.latu@linux-france.org">
    <meta name="copyright" content="(c)2000 Philippe Latu">
    <meta name="publisher" content="philippe.latu@linux-france.org">
    <meta name="keywords" content="documentation, ethernet, formation, guide, ieee, ifconfig, inet, interface, ip, iproute2, iptables, isdn, IUT, IUP, latu, linux, net, OSI, ping, reseau, RNIS, route, routage, TCP, TCP/IP, UDP">
    <meta name="audience" content="All, Tous">
    <meta name="robots" content="INDEX,FOLLOW">
    <link rel="STYLESHEET" type="text/css" href="/prj/inetdoc/style/docstyle.css">
    <script language="javascript" type="text/javascript">
      <!-- for javascript enabled browser's only
        if (top.location != location) top.location.href = location.href;
	
        function popup(form) {
          optionIndex = form.banner.SelectedIndex;
          if (optionIndex == 0) return;
          location.href = form.banner.options[form.banner.selectedIndex].value;
          }
      // end script hiding -->
    </script>
  </head>
<BODY BGCOLOR="#FFFFFF" TEXT="#990000" LINK="#990000" VLINK="#990000" ALINK="#990000" leftMargin="0" topMargin="0" marginheight="0" marginwidth="0">
<TABLE width=100% border=0 cellspacing=2 cellpadding=0 align=center>
  <TR>
    <TD width=25% bgcolor=#990000 align=center valign=top>
      <TABLE width=100% border=0 cellspacing=0 cellpadding=0 align=center>
        <TR align=right> 
	  <TD bgcolor=#FF9966><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=2 alt=""></TD>
	</TR>
	<TR align=right> 
	  <TD bgcolor=#330066><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=1 alt=""></TD>
	</TR>
	<TR align=right> 
	  <TD bgcolor=#990000><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=4 alt=""></TD>
      	</TR>
	<TR>
	  <TD bgcolor=#990000 align=center>
	    <a class="nodecor" href="/prj/inetdoc">
              <IMG src="/prj/inetdoc/images/upleft.png" border=0 width=158 height=96 hspace=10 alt="logo">
      	    </a>
	  <TD>
	</TR>
      </TABLE>
    </TD>
    <TD width=75% bgcolor=#FFFFFF align=left valign=top>
      <!-- banner menu start -->
      <form>
        <TABLE width=100% border=0 cellspacing=0 cellpadding=0 align=center>
	  <!-- 1st row -->
	  <TR align=right> 
	    <TD bgcolor=#FF9966><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=2 alt=""></TD>
	  </TR>
	  <TR align=right> 
	    <TD bgcolor=#330066><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=1 alt=""></TD>
	  </TR>
	  <TR align=right> 
	    <TD bgcolor=#990000><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=4 alt=""></TD>
	  </TR>
	  <TR>
	    <TD bgcolor=#FF9966>
	      <TABLE width="100%" border="0" cellspacing="3" cellpadding="0" width="100%">
	        <TR>
		  <th align="left" valign="top" bgcolor="#FFCC99">
  <a class="reduced" href="/prj/inetdoc/i/net/">&nbsp;Accueil</a>
</th>
<th align="left" valign="top" bgcolor="#FFCC99">
  <a class="reduced" href="/prj/inetdoc/i/net/articles/">&nbsp;Articles</a>
</th>
<th align="left" valign="top" bgcolor="#FFCC99">
  <a class="reduced" href="/prj/inetdoc/i/net/courses/">&nbsp;Cours</a>
</th>
<th align="left" valign="top" bgcolor="white">
  <a class="reduced" href="/prj/inetdoc/i/net/guides/">&nbsp;Guides</a>
</th>
<th align="left" valign="top" bgcolor="#FFCC99">
  <a class="reduced" href="/prj/inetdoc/i/net/formation/">&nbsp;Formation</a>
</th>
<th align="left" valign="top" bgcolor="#FFCC99">
  <a class="reduced" href="/prj/inetdoc/i/net/download/">&nbsp;Téléchargement</a>
</th>
<th align="left" valign="top" bgcolor="#FFCC99">
  <a class="reduced" href="/prj/inetdoc/i/net/source/">&nbsp;Source</a>
</th>

		</TR>
	      </TABLE>
	    </TD>
	  </TR>
	  <TR align=right> 
	    <TD bgcolor=#330066><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=1 alt=""></TD>
	  </TR>
	  <TR align=right> 
	    <TD bgcolor=#FFFFFF><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=4 alt=""></TD>
	  </TR>
	  <!-- 2nd row -->
	  <TR align=right> 
	    <TD bgcolor=#FF9966><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=2 alt=""></TD>
	  </TR>
	  <TR align=right> 
	    <TD bgcolor=#330066><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=1 alt=""></TD>
	  </TR>
	  <TR align=right> 
	    <TD bgcolor=#990000><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=4 alt=""></TD>
	  </TR>
	  <TR>
	    <TD bgcolor=#FFCC66>
	      <FONT color=#990000 size=-1 face="Arial, 'Myriad Web', Syntax, sans-serif"><B>
	       <SELECT name="banner" onChange="popup(this.form)">
	         <OPTION value="/prj/inetdoc/i/net/articles/model/tcpip.html">
  Modélisation TCP/IP
</OPTION>
<OPTION value="/prj/inetdoc/i/net/../../download/Advanced-routing-Howto.pdf">
  Téléchargement Linux 2.4 Advanced Routing HOWTO VF
</OPTION>
<OPTION value="/prj/inetdoc/i/net/guides/">
  Autres guides
</OPTION>

	       </SELECT>
	      </B></FONT>
	    </TD>
	  </TR>
	  <TR align=right> 
	    <TD bgcolor=#330066><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=1 alt=""></TD>
	  </TR>
	  <TR align=right> 
	    <TD bgcolor=#FFFFFF><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=4 alt=""></TD>
	  </TR>
	  <!-- 3rd row -->
	  <TR align=right> 
	    <TD bgcolor=#FF9966><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=2 alt=""></TD>
	  </TR>
	  <TR align=right> 
	    <TD bgcolor=#330066><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=1 alt=""></TD>
	  </TR>
	  <TR align=right> 
	    <TD bgcolor=#990000><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=4 alt=""></TD>
	  </TR>
	  <TR>
	    <TD bgcolor="#990000" align="left" valign="middle" width="100%" height="100%">
	      <div class="browse"><font size=1>&nbsp;&nbsp;Références : <a href="http://netfilter.samba.org/" class="browse"><font size=1>Netfilter Home</font></a>&nbsp;|&nbsp;
<a href="http://lartc.org/" class="browse"><font size=1>Linux Advanced Routing & Traffic Control Home</font></a>&nbsp;|&nbsp;
<a href="http://www.linux-france.org/prj/inetdoc/download/Advanced-routing-Howto.pdf" class="browse"><font size=1>Version Française en PDF</font></a>&nbsp;
</font></div>
	    </TD>
	  </TR>
	  <TR align=right> 
	    <TD bgcolor=#990000><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=4 alt=""></TD>
	  </TR>
	  <TR align=right> 
	    <TD bgcolor=#330066><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=1 alt=""></TD>
	  </TR>
	</TABLE>
      </form>
      <!-- banner menu end -->
    </TD>
  </TR>
  <TR>
    <TD width=25% bgcolor=#330066 align=left valign=top>
      <TABLE width=100% border=0 cellspacing=0 cellpadding=0 align=center>
        <TR align=right> 
	  <TD bgcolor=#FF9966><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=2 alt=""></TD>
	</TR>
	<TR align=right> 
	  <TD bgcolor=#330066><IMG src="/prj/inetdoc/images/blank.gif" width=1 height=1 alt=""></TD>
	</TR>
	<TR>
	  <TD bgcolor=#330066 align=center>
	    &nbsp;<!-- no Toc section in guides/Advanced-routing-Howto/Advanced-routing-Howto.v0.9.html -->
      	    <br>
      	    <TABLE width=100% border=0 cellpadding=0 cellspacing=4>
              <TR>
	  	<TD bgcolor=#000000 align=center>
	    	  <TABLE width=100% border=0 cellpadding=2 cellspacing=1>
              	    <TR>
	              <TH bgcolor=#FFCC66 align="center" valign="top" class="toc-title">
		        <a class="toc-title" href="mailto:philippe.latu@linux-france.org">
	        	  Contact<img src="/prj/inetdoc/images/envelope.gif" border=0 width=50 height=35 align="middle" alt="mail">
		  	</a>
		      </TH>
              	    </TR>
              	    <TR>
	              <TD bgcolor=#FFCC99 align=center valign=top class="toc-item">
		        &nbsp;<a class="toc-item" href="/prj/inetdoc/log/">Carnet de bord</a>
		      </TD>
              	    </TR>
              	    <TR>
	              <TD bgcolor=#FFCC99 align=center valign=top class="toc-item">
		  	&nbsp;<a class="toc-item" href="/prj/inetdoc/legal/">Notice légale</a>
		      </TD>
              	    </TR>
            	  </TABLE>
	  	</TD>
              </TR>
      	    </TABLE>
          </TD>
        </TR>
      </TABLE>
    </TD>
    <TD width=75% bgcolor=#FFFFFF align=left valign=top>
      <TABLE width=100% border=0 cellspacing=0 cellpadding=8 align=center>
        <TR>
	  <TD bgcolor=#FFFFFF align=left valign=top>
            <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<meta name="generator" content=
"HTML Tidy for Linux/x86 (vers 1st February 2002), see www.w3.org">
<meta name="GENERATOR" content="LinuxDoc-Tools 0.9.18">
<title>HOWTO du routage avancé et du contrôle de trafic sous Linux:
Autres possibilités</title>
<link href="Advanced-routing-Howto.v0.9-19.html" rel="next">
<link href="Advanced-routing-Howto.v0.9-17.html" rel="previous">
<link href="Advanced-routing-Howto.v0.9.html#toc18" rel="contents">
</head>
<body>
<a href="Advanced-routing-Howto.v0.9-19.html">Page suivante</a> <a
href="Advanced-routing-Howto.v0.9-17.html">Page précédente</a> <a
href="Advanced-routing-Howto.v0.9.html#toc18">Table des
matières</a> 

<hr>
<h2><a name="s18">18.</a> <a href=
"Advanced-routing-Howto.v0.9.html#toc18">Autres
possibilités</a></h2>

<p>Ce chapitre est une liste des projets ayant une relation avec le
routage avancé et la mise en forme du trafic sous Linux. Certains
de ces liens mériteraient des chapitres spécifiques, d'autres sont
très bien documentés, et n'ont pas besoin de HOWTO en plus.</p>

<dl>
<dt><b>Implémentation VLAN 802.1Q pour Linux <a href=
"http://scry.wanfear.com/~greear/vlan.html">(site)</a></b></dt>

<dd>
<p>VLAN est une façon très sympa de diviser vos réseaux d'une
manière plus virtuelle que physique. De bonnes informations sur les
VLAN pourront être trouvées <a href=
"ftp://ftp.netlab.ohio-state.edu/pub/jain/courses/cis788-97/virtual_lans/index.htm">
ici</a>. Avec cette implémentation, votre boite Linux pourra
dialoguer VLAN avec des machines comme les Cisco Catalyst, 3Com:
{Corebuilder, Netbuilder II, SuperStack II switch 630}, Extreme
Ntwks Summit 48, Foundry: {ServerIronXL, FastIron}.</p>
</dd>

<dt><b>Implémantation alternative VLAN 802.1Q pour Linux <a href=
"http://vlan.sourceforge.net%20">(site)</a></b></dt>

<dd>
<p>Une implémantation alternative de VLAN pour Linux. Ce projet a
démarré suite au désaccord avec l'architecture et le style de
codage du projet VLAN 'établi', avec comme résultat une structure
de l'ensemble plus clair. Mise à jour&nbsp;: a été inclus dans le
noyau 2.4.14 (peut-être dans le 2.4.13).</p>
</dd>

<dt><b>Serveur Linux Virtuel (Linux Virtual Server ) <a href=
"http://www.LinuxVirtualServer.org/">(site)</a></b></dt>

<dd>
<p>Ces personnes sont très talentueuses. Le Serveur Virtuel Linux
est un serveur à haute disponibilité, hautement évolutif, construit
autour d'une grappe (cluster) de serveurs, avec un équilibreur de
charge tournant sur le système d'exploitation Linux. L'architecture
du cluster est transparente pour les utilisateurs finaux, qui ne
voient qu'un simple serveur virtuel.</p>

<p>En résumé, que vous ayez besoin d'équilibrer votre charge ou de
contrôler votre trafic, LVS aura une manière de le faire. Certaines
de leurs techniques sont positivement diaboliques&nbsp;!. Par
exemple, ils permettent à plusieurs machines d'avoir une même
adresse IP, mais en désactivant l'ARP dessus. Seule la machine LVS
qui a, elle, l'ARP actif, décide de l'hôte qui manipulera le paquet
entrant. Celui-ci est envoyé avec la bonne adresse MAC au serveur
choisi. Le trafic sortant passe directement par le routeur, et non
par la machine LVS, qui, par conséquent n'a pas besoin de voir vos
5Gbit/s de données allant sur Internet. Cette machine LVS ne peut
alors pas être un goulot d'étranglement.</p>

<p>L'implémentation de LVS nécessite une mise à jour pour les
noyaux 2.0 et 2.2, alors qu'un module Netfilter est disponible dans
le 2.4. Il n'y a donc pas besoin de mise à jour pour cette version
du noyau. Le support 2.4 est encore en développement. Battez-vous
donc avec et envoyez vos commentaires ou vos mises à jour.</p>
</dd>

<dt><b>CBQ.init <a href=
"ftp://ftp.equinox.gu.net/pub/linux/cbq/">(site)</a></b></dt>

<dd>
<p>Configurer CBQ peut être un peu intimidant, spécialement si
votre seul souhait est de mettre en forme le trafic d'ordinateurs
placés derrière un routeur. CBQ.init peut vous aider à configurer
Linux à l'aide d'une syntaxe simplifiée.</p>

<p>Par exemple, si vous voulez que tous les ordinateurs de votre
réseau 192.168.1.0/24 (sur eth1 10&nbsp;Mbits) aient leur vitesse
de téléchargement limitée à 28&nbsp;Kbits, remplissez le fichier de
configuration de CBQ.init avec ce qui suit&nbsp;:</p>

<blockquote>
<pre>
<code>DEVICE=eth1,10Mbit,1Mbit
RATE=28Kbit
WEIGHT=2Kbit
PRIO=5
RULE=192.168.1.0/24
</code>
</pre>
</blockquote>

<br>
<br>
 

<p>Utiliser simplement ce programme si le 'comment et pourquoi' ne
vous intéresse pas. Nous utilisons CBQ.init en production et il
marche très bien. On peut même faire des choses plus avancées,
comme la mise en forme dépendant du temps. La documentation est
directement intégrée dans le script, ce qui explique l'absence d'un
fichier README.</p>
</dd>

<dt><b>Scripts faciles de mise en forme Chronox <a href=
"http://www.chronox.de">(site)</a></b></dt>

<dd>
<p>Stephan Mueller (smueller@chronox.de) a écrit deux scripts
utiles, "limit.conn" et "shaper". Le premier vous permet de
maîtriser une session de téléchargement, comme ceci&nbsp;:</p>

<blockquote>
<pre>
<code># limit.conn -s SERVERIP -p SERVERPORT -l LIMIT
</code>
</pre>
</blockquote>

<br>
<br>
 

<p>Il fonctionne avec Linux 2.2 et 2.4.</p>

<p>Le second script est plus compliqué et peut être utilisé pour
mettre en place des files d'attente différentes basées sur les
règles iptables. Celles-ci sont utilisées pour marquer les paquets
qui sont alors mis en forme.</p>
</dd>

<dt><b>Implémentation du Protocole Redondant Routeur Virtuel <a
href=
"http://w3.arobas.net/~jetienne/vrrpd/index.html">(site)</a></b></dt>

<dd>
<p>Ceci est purement pour la redondance. Deux machines avec leurs
propres adresses IP et MAC créent une troisième adresse IP et MAC
virtuelle. Bien que destiné à l'origine uniquement aux routeurs,
qui ont besoin d'adresses MAC constantes, cela marche également
pour les autres serveurs.</p>

<p>La beauté de cette approche est l'incroyable facilité de la
configuration. Pas de compilation de noyau ou de nécessité de mise
à jour, tout se passe dans l'espace utilisateur.</p>

<p>Lancer simplement ceci sur toutes les machines participant au
service&nbsp;:</p>

<blockquote>
<pre>
<code># vrrpd -i eth0 -v 50 10.0.0.22
</code>
</pre>
</blockquote>

<br>
<br>
 

<p>Et vous voilà opérationnel&nbsp;! 10.0.0.22 est maintenant géré
par l'un de vos serveurs, probablement le premier à avoir lancé le
démon vrrp. Déconnectez maintenant cet ordinateur du réseau et très
rapidement, l'adresse 10.0.0.22 et l'adresse MAC seront gérées par
l'un des autres ordinateurs.</p>

<p>J'ai essayé ceci et il a été actif et opérationnel en 1 minute.
Pour une raison étrange, ma passerelle par défaut a été supprimée.
Cependant, l'option -n permet de prévenir cela.</p>

<p>Voici une défaillance en "direct"&nbsp;:</p>

<blockquote>
<pre>
<code>64 bytes from 10.0.0.22: icmp_seq=3 ttl=255 time=0.2 ms
64 bytes from 10.0.0.22: icmp_seq=4 ttl=255 time=0.2 ms
64 bytes from 10.0.0.22: icmp_seq=5 ttl=255 time=16.8 ms
64 bytes from 10.0.0.22: icmp_seq=6 ttl=255 time=1.8 ms
64 bytes from 10.0.0.22: icmp_seq=7 ttl=255 time=1.7 ms
</code>
</pre>
</blockquote>

<br>
<br>
 

<p>Pas *un* paquet ping n'a été perdu&nbsp;! Après 4 paquets, j'ai
déconnecté mon P200 du réseau, et mon 486 a pris le relais, ce qui
est visible par l'augmentation du temps de latence.</p>
</dd>
</dl>

<br>
<br>
 

<hr>
<a href="Advanced-routing-Howto.v0.9-19.html">Page suivante</a> <a
href="Advanced-routing-Howto.v0.9-17.html">Page précédente</a> <a
href="Advanced-routing-Howto.v0.9.html#toc18">Table des
matières</a>
</body>
</html>


	  </TD>
	</TR>
      </TABLE>
    </TD>
  </TR>
  <TR>
    <TD colspan=2 width=100% bgcolor=#990000 align=left>
      <TABLE width=100% border=0 cellpadding=0 cellspacing=4>
        <TR>
	  <TD bgcolor=#990000 align=right>
	    <div class="filemodtime">
	      <i>Dernière modification le : 4 March 2002 12:04</i>
	    </div>
      	    <a style="text-decoration:none" href="http://www.php.net">
              <img src="/prj/inetdoc/images/php-small-trans-dark.gif" border=0 width=88 height=31 alt="php logo">
      	    </a>
      	    &nbsp;&nbsp;
      	    <a style="text-decoration:none" href="http://www.debian.org">
              <img src="/prj/inetdoc/images/openlogo-25.jpg" border=0 width=25 height=30 alt="debian logo">
      	    </a>
      	    &nbsp;&nbsp;
	    <!-- stat_code_start
	    <a style="text-decoration:none" href="http://www.estat.com/getstats?serial=21701747824">
	      <img src="http://perso.estat.com/cgi-bin/perso/21701747824?page=marque_perso" border=0>
	    </a>
	     stat_code_end -->
	    <!-- eStat -->
	    <SCRIPT LANGUAGE="JavaScript">
	      <!--
	      var _UJS=0;
	      //-->
	    </SCRIPT>
	    <SCRIPT LANGUAGE="JavaScript" SRC="http://perso.estat.com/js/m.js">
	    </SCRIPT>
	    <SCRIPT LANGUAGE="JavaScript">
	      <!--
	      if(_UJS) _estat('21701747824','Page_D_Accueil','Accueil');
	      //-->
	    </SCRIPT>
	    <!-- /eStat -->
	  </TD>
	</TR>
      </TABLE>
    </TD>
  </TR>
</TABLE>
</body>
</html>
<!-- END: main.tpl -->
