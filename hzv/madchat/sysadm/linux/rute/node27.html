<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.2beta8 (1.46)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>24. Source and Binary Packages</TITLE>
<META NAME="description" CONTENT="24. Source and Binary Packages">
<META NAME="keywords" CONTENT="rute">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.2beta8">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="rute.css">

<LINK REL="next" HREF="node28.html">
<LINK REL="previous" HREF="node26.html">
<LINK REL="up" HREF="rute.html">
<LINK REL="next" HREF="node28.html">
</HEAD>

<BODY BGCOLOR=#FFFFFF >
<TABLE width="100%" border="0" cellspacing="0" cellpadding="0">
<TR><TD align=left bgcolor="#000000">
<FONT COLOR=white>
&nbsp;<A HREF="http://www.icon.co.za/~psheer/rute-purchase.html"><FONT COLOR=white>Purchase</FONT></A>&nbsp;
</FONT>
</TD><TD align=center bgcolor="#000000">
<FONT COLOR=white>
Copyright&nbsp;&#169;&nbsp;2002&nbsp;Paul Sheer. <A HREF="copying.html"><FONT COLOR=white>Click here for copying permissions.</FONT></A>
</FONT>
</TD><TD align=right bgcolor="#000000">
<FONT COLOR=white>
&nbsp;<A HREF="http://www.icon.co.za/~psheer/rute-home.html"><FONT COLOR=white>Home</FONT></A>&nbsp;
</FONT>
</TD></TR>
<TR><TD colspan=2 align=left bgcolor="#ECEBF4">
<IMG SRC="va-btn-small-light-60.png">
</TD><TD align=right bgcolor="#ECEBF4">
<IMG SRC="sflogo2-steel-60.png">
</TD></TR>
</TABLE><BR>

<!--Navigation Panel-->
<A NAME="tex2html2245"
  HREF="node28.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html2241"
  HREF="rute.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html2235"
  HREF="node26.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html2243"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html2246"
  HREF="node28.html">25. Introduction to IP</A>
<B> Up:</B> <A NAME="tex2html2242"
  HREF="rute.html">rute</A>
<B> Previous:</B> <A NAME="tex2html2236"
  HREF="node26.html">23. Shared Libraries</A>
 &nbsp <B>  <A NAME="tex2html2244"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html2247"
  HREF="#SECTION002710000000000000000">24.1 Building GNU Source Packages</A>
<LI><A NAME="tex2html2248"
  HREF="#SECTION002720000000000000000">24.2 RedHat and Debian Binary Packages</A>
<UL>
<LI><A NAME="tex2html2249"
  HREF="#SECTION002721000000000000000">24.2.1 Package versioning</A>
<LI><A NAME="tex2html2250"
  HREF="#SECTION002722000000000000000">24.2.2 Installing, upgrading, and deleting</A>
<LI><A NAME="tex2html2251"
  HREF="#SECTION002723000000000000000">24.2.3 Dependencies</A>
<LI><A NAME="tex2html2252"
  HREF="#SECTION002724000000000000000">24.2.4 Package queries</A>
<LI><A NAME="tex2html2253"
  HREF="#SECTION002725000000000000000">24.2.5 File lists and file queries</A>
<LI><A NAME="tex2html2254"
  HREF="#SECTION002726000000000000000">24.2.6 Package verification</A>
<LI><A NAME="tex2html2255"
  HREF="#SECTION002727000000000000000">24.2.7 Special queries</A>
<LI><A NAME="tex2html2256"
  HREF="#SECTION002728000000000000000">24.2.8 <TT>
<FONT COLOR="#0000ff">dpkg</FONT></TT>/<TT>
<FONT COLOR="#0000ff">apt</FONT></TT> versus <TT>
<FONT COLOR="#0000ff">rpm</FONT></TT></A>
</UL>
<LI><A NAME="tex2html2257"
  HREF="#SECTION002730000000000000000">24.3 Source Packages</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION002700000000000000000">
24. Source and Binary Packages</A>
</H1>

<P>
<A NAME="chap:packages"></A>
<P>
In this chapter you will, first and foremost, learn to build packages from source,
building on your knowledge of <TT>
<FONT COLOR="#0000ff">Makefile</FONT></TT>s in Chapter
<A HREF="node25.html#chap:trivintroc">22</A>. Most packages, however, also come as <TT>
<FONT COLOR="#0000ff">.rpm</FONT></TT>
(RedHat) or <TT>
<FONT COLOR="#0000ff">.deb</FONT></TT> (Debian) files, which are discussed further below.

<P>

<H1><A NAME="SECTION002710000000000000000">
24.1 Building GNU Source Packages</A>
</H1>

<P>
<A NAME="sec:gnupackages"></A>
<P>
Almost all packages originally come as <B>C</B> sources, <TT>
<FONT COLOR="#0000ff">tar</FONT></TT>ed and
available from one of the many public FTP sites, like
<TT>
<FONT COLOR="#0000ff">metalab.unc.edu</FONT></TT>. Thoughtful developers would have made their
packages <I>GNU standards compliant</I>. This means that un<TT>
<FONT COLOR="#0000ff">tar</FONT></TT>ring the
package will reveal the following files inside the top-level directory:
<DL>
<DT><STRONG><TT>
<FONT COLOR="#0000ff">INSTALL</FONT></TT></STRONG></DT>
<DD>This is a standard document beginning with the line
``<TT>
<FONT COLOR="#0000ff">These are generic installation instructions.</FONT></TT>'' Since all GNU
packages are installed in the same way, this file should always be the same.
</DD>
<DT><STRONG><TT>
<FONT COLOR="#0000ff">NEWS</FONT></TT></STRONG></DT>
<DD>News of interest to users.
</DD>
<DT><STRONG><TT>
<FONT COLOR="#0000ff">README</FONT></TT></STRONG></DT>
<DD>Any essential information. This is usually an explanation
of what the package does, promotional material, and anything special that
need be done to install the package.
</DD>
<DT><STRONG><TT>
<FONT COLOR="#0000ff">COPYING</FONT></TT></STRONG></DT>
<DD>The GNU General Public License.
</DD>
<DT><STRONG><TT>
<FONT COLOR="#0000ff">AUTHORS</FONT></TT></STRONG></DT>
<DD>A list of major contributors.
</DD>
<DT><STRONG><TT>
<FONT COLOR="#0000ff">ChangeLog</FONT></TT></STRONG></DT>
<DD>A specially formatted list containing a history
of all changes ever done to the package, by whom, and on what date. Used
to track work on the package.
</DD>
</DL>
Being GNU standards compliant should also mean that the
package can be installed with only the three following commands:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>./configure</code><br>
<code>make</code><br>
<code>make&nbsp;install</code><br>
</FONT></TD></TR></TABLE><P>
It also <I>usually</I> means that packages will compile on
any U<SMALL>NIX</SMALL> system. Hence, this section should be a good guide to
getting L<SMALL>INUX</SMALL> software to work on non-L<SMALL>INUX</SMALL> machines.

<P>
An example will illustrate these steps. Begin by downloading
<TT>
<FONT COLOR="#0000ff">cooledit</FONT></TT> from <TT>
<FONT COLOR="#0000ff">metalab.unc.edu</FONT></TT> in the directory
<TT>
<FONT COLOR="#0000ff">/pub/Linux/apps/editors/X/cooledit</FONT></TT>, using <TT>
<FONT COLOR="#0000ff">ftp</FONT></TT>.
Make a directory <TT>
<FONT COLOR="#0000ff">/opt/src</FONT></TT> in which to build
such custom packages. Now run

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>cd&nbsp;/opt/src</code><br>
<code>tar&nbsp;-xvzf&nbsp;cooledit-3.17.2.tar.gz</code><br>
<code>cd&nbsp;cooledit-3.17.2</code><br>
</FONT></TD></TR></TABLE><P>
You will notice that most sources have the
name
<I>package</I><TT>
<FONT COLOR="#0000ff">-</FONT></TT><I>major</I><TT>
<FONT COLOR="#0000ff">.</FONT></TT><I>minor</I><TT>
<FONT COLOR="#0000ff">.</FONT></TT><I>patch</I><TT>
<FONT COLOR="#0000ff">.tar.gz</FONT></TT>.
The <I>major</I> version of the package is changed when the developers
make a substantial feature update or when they introduce incompatibilities to
previous versions. The minor version is usually updated when small features
are added. The patch number (also known as the patch <I>level</I>) is
updated whenever a new release is made and usually signifies bug fixes.

<P>
At this point you can apply any patches you may have. See Section <A HREF="node23.html#sec:applyingpatches">20.7.3</A>.

<P>
You can now <TT>
<FONT COLOR="#0000ff">./configure</FONT></TT> the package. The <TT>
<FONT COLOR="#0000ff">./configure</FONT></TT> script is
generated by <TT>
<FONT COLOR="#0000ff">autoconf</FONT></TT>--a package used by developers to create
<B>C</B> source that will compile on any type of U<SMALL>NIX</SMALL> system. The <TT>
<FONT COLOR="#0000ff">autoconf</FONT></TT>
package also contains the <I>GNU Coding Standards</I> to which all
software should comply. <FONT COLOR="#ffa500">[<TT>
<FONT COLOR="#0000ff">autoconf</FONT></TT> is the remarkable work of
David MacKenzie. I often hear the myth that U<SMALL>NIX</SMALL> systems have so
diverged that they are no longer compatible. The fact that sophisticated
software like <TT>
<FONT COLOR="#0000ff">cooledit</FONT></TT> (and countless others) compiles on almost any
U<SMALL>NIX</SMALL> machine should dispel this nonsense. There is also hype surrounding
developers ``porting'' commercial software from other U<SMALL>NIX</SMALL> systems to
L<SMALL>INUX</SMALL>. If they had written their software in the least bit properly to begin
with, there would be no porting to be done. In short, <I>all</I> L<SMALL>INUX</SMALL>
software runs on <I>all</I> U<SMALL>NIX</SMALL>s. The only exceptions are a few
packages that use some custom features of the L<SMALL>INUX</SMALL> kernel.]</FONT>
<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>./configure&nbsp;--prefix=/opt/cooledit</code><br>
</FONT></TD></TR></TABLE><P>
Here, <TT>
<FONT COLOR="#0000ff">&#45;&#45;prefix</FONT></TT> indicates the top-level directory under which
the package will be installed. (See Section <A HREF="node20.html#sec:dirsuper">17.2</A>.). Always also
try

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>./configure&nbsp;--help</code><br>
</FONT></TD></TR></TABLE><P>
to see package-specific options.

<P>
Another trick sets compile options<A NAME="page:compileroptions"></A>:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>CFLAGS='-O2&nbsp;-fomit-frame-pointer&nbsp;-s&nbsp;-pipe'&nbsp;./configure&nbsp;--prefix=/opt/cooledit</code><br>
</FONT></TD></TR></TABLE><P>
<DL>
<DT><STRONG><TT>
<FONT COLOR="#0000ff">-O2</FONT></TT></STRONG></DT>
<DD>Sets compiler optimizations to be
``as fast as possible without making the binary larger.''
(<TT>
<FONT COLOR="#0000ff">-O3</FONT></TT> almost never provides an advantage.)
</DD>
<DT><STRONG><TT>
<FONT COLOR="#0000ff">-fomit-frame-pointer</FONT></TT></STRONG></DT>
<DD>Permits the compiler to use one extra register
that would normally be used for debugging. Use this option only when 
you are absolutely sure you have no interest in analyzing any running
problems with the package.
</DD>
<DT><STRONG><TT>
<FONT COLOR="#0000ff">-s</FONT></TT></STRONG></DT>
<DD>Strips the object code. This reduces the size of the
object code by eliminating any debugging data.
</DD>
<DT><STRONG><TT>
<FONT COLOR="#0000ff">-pipe</FONT></TT></STRONG></DT>
<DD>Instructs not to use temporary files. Rather, use pipes to
feed the code through the different stages of compilation. This usually
speeds compilation.
</DD>
</DL>

<P>
Compile the package. This can take up to several hours depending
on the amount of code and your CPU power.  <FONT COLOR="#ffa500">[<TT>
<FONT COLOR="#0000ff">cooledit</FONT></TT> will compile
in under 10 minutes on any entry-level machine at the time of writing.]</FONT>
<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>make</code><br>
</FONT></TD></TR></TABLE><P>
You can also run

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>make&nbsp;CFLAGS='-O0&nbsp;-g'</code><br>
</FONT></TD></TR></TABLE><P>
if you decide that you would rather compile with debug support after all.

<P>
Install the package with

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>make&nbsp;install</code><br>
</FONT></TD></TR></TABLE><P>
A nice trick to install into a different subdirectory is <FONT COLOR="#ffa500">[Not always supported.]</FONT>:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>mkdir&nbsp;/tmp/cooledit</code><br>
<code>make&nbsp;install&nbsp;prefix=/tmp/cooledit</code><br>
</FONT></TD></TR></TABLE><P>
You can use these commands to pack up the completed build for un<TT>
<FONT COLOR="#0000ff">tar</FONT></TT>ing onto
a different system. You should, however, never try to run a package from a
directory different from the one it was <TT>
<FONT COLOR="#0000ff">&#45;&#45;prefix</FONT></TT>ed to install into, since
most packages <I>compile in</I> this location and then access installed data from
beneath it.

<P>
Using a source package is often the best way to install when you want the
package to work the way the developers intended. You will also tend to find
more documentation, when vendors have neglected to include certain files.

<P>

<H1><A NAME="SECTION002720000000000000000">
24.2 RedHat and Debian Binary Packages</A>
</H1>

<P>
<A NAME="sec:binpackarpmdpkg"></A>
<P>
In this section, we place Debian examples inside parentheses,
<TT>
<FONT COLOR="#0000ff">(</FONT></TT> ... <TT>
<FONT COLOR="#0000ff">)</FONT></TT>. Since these are examples from actual
systems, they do not always correspond.

<P>

<H2><A NAME="SECTION002721000000000000000">
24.2.1 Package versioning</A>
</H2>

<P>
The package numbering for RedHat and Debian packages
is often as follows (although this is far from a rule):

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>&#060;package-name&#062;-&#060;source-version&#062;-&#060;package-version&#062;.&#060;hardware-platform&#062;.rpm</code><br>
<code>(&nbsp;&#060;package-name&#062;_&#060;source-version&#062;-&#060;package-version&#062;.deb&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
For example,

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>bash-1.14.7-22.i386.rpm</code><br>
<code>(&nbsp;bash_2.03-6.deb&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
is the Bourne Again Shell you are using, major version 1, 
minor
version 14, patch 7, package version 22, compiled for an Intel 386
processor. Sometimes, the Debian package will have the architecture appended
to the version number, in the above case, perhaps <TT>
<FONT COLOR="#0000ff">bash_2.03-6_i386.deb</FONT></TT>.

<P>
The <TT>
<FONT COLOR="#0000ff">&#60;source-version&#62;</FONT></TT> is the version on the original
<TT>
<FONT COLOR="#0000ff">.tar</FONT></TT> file (as above). The <TT>
<FONT COLOR="#0000ff">&#60;package-version&#62;</FONT></TT>,
also called the <I>release</I>,
refers to the <TT>
<FONT COLOR="#0000ff">.rpm</FONT></TT> file itself; in this case,
<TT>
<FONT COLOR="#0000ff">bash-1.14.7-22.i386.rpm</FONT></TT> has been packed together for the
<TT>
<FONT COLOR="#0000ff">8</FONT></TT>th time, possibly with minor improvements to the way it installs with
each new number. The <TT>
<FONT COLOR="#0000ff">i386</FONT></TT> is called the <I>architecture</I> and
could also be <TT>
<FONT COLOR="#0000ff">sparc</FONT></TT> for a <I>SPARC</I> <FONT COLOR="#ffa500">[Type of processor
used in Sun Microsystems workstations]</FONT> machine, <TT>
<FONT COLOR="#0000ff">ppc</FONT></TT> for a
<I>PowerPC</I> <FONT COLOR="#ffa500">[Another non-Intel workstation]</FONT>, <TT>
<FONT COLOR="#0000ff">alpha</FONT></TT> for a
<I>DEC Alpha</I> <FONT COLOR="#ffa500">[High-end 64 bit server/workstation]</FONT> machine, or
several others.

<P>

<H2><A NAME="SECTION002722000000000000000">
24.2.2 Installing, upgrading, and deleting</A>
</H2>

<P>
To install
a package, run the following command on the <TT>
<FONT COLOR="#0000ff">.rpm</FONT></TT> or
<TT>
<FONT COLOR="#0000ff">.deb</FONT></TT> file:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-i&nbsp;mirrordir-0.10.48-1.i386.rpm</code><br>
<code>(&nbsp;dpkg&nbsp;-i&nbsp;mirrordir_0.10.48-2.deb&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
Upgrading (Debian automatically chooses an upgrade
if the package is already present) can be done with the following command,

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-U&nbsp;mirrordir-0.10.49-1.i386.rpm</code><br>
<code>(&nbsp;dpkg&nbsp;-i&nbsp;mirrordir_0.10.49-1.deb&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
and then completely uninstalling with

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-e&nbsp;mirrordir</code><br>
<code>(&nbsp;dpkg&nbsp;--purge&nbsp;mirrordir&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
With Debian, a package <TT>
<FONT COLOR="#0000ff">r</FONT></TT>emoval does not remove
configuration files, thus allowing you to revert to its current
setup if you later decide to reinstall:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>dpkg&nbsp;-r&nbsp;mirrordir</code><br>
</FONT></TD></TR></TABLE><P>
If you need to reinstall a package (perhaps because
of a file being corrupted), use

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-i&nbsp;--force&nbsp;python-1.6-2.i386.rpm</code><br>
</FONT></TD></TR></TABLE><P>
Debian reinstalls automatically if the package is present.

<P>

<H2><A NAME="SECTION002723000000000000000">
24.2.3 Dependencies</A>
</H2>

<P>
Packages often require other packages to already be installed in order to
work. The package database keeps track of these <I>dependencies</I>.
Often you will get an <TT>
<FONT COLOR="#0000ff">error: failed dependencies:</FONT></TT> (or
<TT>
<FONT COLOR="#0000ff">dependency problems</FONT></TT> for Debian) message when you try to install. This
means that other packages must be installed first. The same might happen
when you try to remove packages. If two packages mutually require each
other, you must place them both on the command-line at once when
installing. Sometimes a package requires something that is not essential or is
already provided by an equivalent package. For example, a program may
require
<TT>
<FONT COLOR="#0000ff">sendmail</FONT></TT> to be installed even though
<TT>
<FONT COLOR="#0000ff">exim</FONT></TT> is an adequate substitute.
In such cases, the option <TT>
<FONT COLOR="#0000ff">&#45;&#45;nodeps</FONT></TT> skips dependency checking.

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-i&nbsp;--nodeps&nbsp;&#060;rpm-file&#062;</code><br>
<code>(&nbsp;dpkg&nbsp;-i&nbsp;--ignore-depends=&#060;required-package&#062;&nbsp;&#060;deb-file&#062;&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
Note that Debian is far more fastidious about its dependencies;
override them only when you are sure what is going on underneath.

<P>

<H2><A NAME="SECTION002724000000000000000">
24.2.4 Package queries</A>
</H2>

<P>
<TT>
<FONT COLOR="#0000ff">.rpm</FONT></TT> and <TT>
<FONT COLOR="#0000ff">.deb</FONT></TT> packages are more than a way of
archiving files;
otherwise, we could just use <TT>
<FONT COLOR="#0000ff">.tar</FONT></TT> files. Each package has its file list
stored in a database that can be queried. The following are some of the more
useful queries that can be done. Note that these are queries on
<I>already</I> installed packages only:

<P>
To get a list of all packages (<TT>
<FONT COLOR="#0000ff">q</FONT></TT>uery <TT>
<FONT COLOR="#0000ff">a</FONT></TT>ll, <TT>
<FONT COLOR="#0000ff">l</FONT></TT>list),

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-qa</code><br>
<code>(&nbsp;dpkg&nbsp;-l&nbsp;'*'&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>

<P>
To search for a package name,

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-qa&nbsp;|&nbsp;grep&nbsp;&#060;regular-expression&#062;</code><br>
<code>(&nbsp;dpkg&nbsp;-l&nbsp;&#060;glob-expression&#062;&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
Try,

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-qa&nbsp;|&nbsp;grep&nbsp;util</code><br>
<code>(&nbsp;dpkg&nbsp;-l&nbsp;'*util*'&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>

<P>
To query for the existence of a package, say, <TT>
<FONT COLOR="#0000ff">textutils</FONT></TT> (<TT>
<FONT COLOR="#0000ff">q</FONT></TT>uery, <TT>
<FONT COLOR="#0000ff">l</FONT></TT>ist),

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-q&nbsp;textutils</code><br>
<code>(&nbsp;dpkg&nbsp;-l&nbsp;textutils&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
gives the name and version

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>textutils-2.0e-7</code><br>
<code>(&nbsp;ii&nbsp;&nbsp;textutils&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.0-2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;GNU&nbsp;text&nbsp;file&nbsp;processing&nbsp;utilities.&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
To get info on a package (<TT>
<FONT COLOR="#0000ff">q</FONT></TT>uery <TT>
<FONT COLOR="#0000ff">i</FONT></TT>nfo, <TT>
<FONT COLOR="#0000ff">s</FONT></TT>tatus),

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-qi&nbsp;&#060;package&#062;</code><br>
<code>(&nbsp;dpkg&nbsp;-s&nbsp;&#060;package&#062;&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
To list libraries and other packages required by a package,

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-qR&nbsp;&#060;package&#062;</code><br>
<code>(&nbsp;dpkg&nbsp;-s&nbsp;&#060;package&#062;&nbsp;|&nbsp;grep&nbsp;Depends&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
To list what other packages require this one (with Debian we can check
by attempting a removal with the <TT>
<FONT COLOR="#0000ff">&#45;&#45;no-act</FONT></TT> option to merely test),

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-q&nbsp;--whatrequires&nbsp;&#060;package&#062;</code><br>
<code>(&nbsp;dpkg&nbsp;--purge&nbsp;--no-act&nbsp;&#060;package&#062;&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>

<P>

<H2><A NAME="SECTION002725000000000000000">
24.2.5 File lists and file queries</A>
</H2>

<P>
To get a file list contained by a package <FONT COLOR="#ffa500">[Once again,
<I>not</I> for files but packages already installed.]</FONT>,

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-ql&nbsp;&#060;package&#062;</code><br>
<code>(&nbsp;dpkg&nbsp;-L&nbsp;&#060;package&#062;&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
Package file lists are especially useful for finding
what commands and documentation a package provides. Users
are often frustrated by a package that they ``don't know what to do with.''
Listing files owned by the package is where to start.

<P>
To find out what package a file belongs to,

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-qf&nbsp;&#060;filename&#062;</code><br>
<code>(&nbsp;dpkg&nbsp;-S&nbsp;&#060;filename&#062;&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
For example, <TT>
<FONT COLOR="#0000ff">rpm -qf /etc/rc.d/init.d/httpd</FONT></TT>
(or <TT>
<FONT COLOR="#0000ff">rpm -qf /etc/init.d/httpd</FONT></TT>) gives <TT>
<FONT COLOR="#0000ff">apache-mod_ssl-1.3.12.2.6.6-1</FONT></TT>
on my system, and <TT>
<FONT COLOR="#0000ff">rpm -ql fileutils-4.0w-3 &#124; grep bin</FONT></TT> gives a list of
all other commands from <TT>
<FONT COLOR="#0000ff">fileutils</FONT></TT>. A trick to find all the sibling files of a
command in your <TT>
<FONT COLOR="#0000ff">PATH</FONT></TT> is:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-ql&nbsp;`rpm&nbsp;-qf&nbsp;\`which&nbsp;--skip-alias&nbsp;&#060;command&#062;&nbsp;\``</code><br>
<code>(&nbsp;dpkg&nbsp;-L&nbsp;`dpkg&nbsp;-S&nbsp;\`which&nbsp;&#060;command&#062;&nbsp;\`&nbsp;|&nbsp;cut&nbsp;-f1&nbsp;-d:`&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>

<P>

<H2><A NAME="SECTION002726000000000000000">
24.2.6 Package verification</A>
</H2>

<P>
<A NAME="sec:packageveri"></A>
<P>
You sometimes might want to query whether a package's files have been
modified since installation (possibly by a hacker or an incompetent
system administrator). To verify all packages is time consuming
but provides some very instructive output:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-V&nbsp;`rpm&nbsp;-qa`</code><br>
<code>(&nbsp;debsums&nbsp;-a&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>

<P>
However, there is not yet a way of saying that the package
installed is the real package (see Section <A HREF="node47.html#sec:knownriskpack">44.3.2</A>).
To check this, you need to get your actual <TT>
<FONT COLOR="#0000ff">.deb</FONT></TT> or <TT>
<FONT COLOR="#0000ff">.rpm</FONT></TT>
file and verify it with:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-Vp&nbsp;openssh-2.1.1p4-1.i386.rpm</code><br>
<code>(&nbsp;debsums&nbsp;openssh_2.1.1p4-1_i386.deb&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>

<P>
Finally, even if you have the package file, how can you be
absolutely sure that it is <I>the</I> package that the original
packager created, and not some Trojan substitution? Use the
<TT>
<FONT COLOR="#0000ff">md5sum</FONT></TT> command to check:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>md5sum&nbsp;openssh-2.1.1p4-1.i386.rpm</code><br>
<code>(&nbsp;md5sum&nbsp;openssh_2.1.1p4-1_i386.deb&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
<TT>
<FONT COLOR="#0000ff">md5sum</FONT></TT> uses the <I>MD5</I> mathematical algorithm to calculate
a numeric <I>hash</I> value based on the file contents, in this
case,
<TT>
<FONT COLOR="#0000ff">8</FONT>
<FONT COLOR="#0000ff">e</FONT>
<FONT COLOR="#0000ff">8</FONT>
<FONT COLOR="#0000ff">d</FONT>
<FONT COLOR="#0000ff">8</FONT>
<FONT COLOR="#0000ff">e</FONT>
<FONT COLOR="#0000ff">9</FONT>
<FONT COLOR="#0000ff">5</FONT>
<FONT COLOR="#0000ff">d</FONT>
<FONT COLOR="#0000ff">b</FONT>
<FONT COLOR="#0000ff">7</FONT>
<FONT COLOR="#0000ff">f</FONT>
<FONT COLOR="#0000ff">d</FONT>
<FONT COLOR="#0000ff">e</FONT>
<FONT COLOR="#0000ff">9</FONT>
<FONT COLOR="#0000ff">9</FONT>
<FONT COLOR="#0000ff">c</FONT>
<FONT COLOR="#0000ff">0</FONT>
<FONT COLOR="#0000ff">9</FONT>
<FONT COLOR="#0000ff">e</FONT>
<FONT COLOR="#0000ff">1</FONT>
<FONT COLOR="#0000ff">3</FONT>
<FONT COLOR="#0000ff">9</FONT>
<FONT COLOR="#0000ff">8</FONT>
<FONT COLOR="#0000ff">e</FONT>
<FONT COLOR="#0000ff">4</FONT>
<FONT COLOR="#0000ff">d</FONT>
<FONT COLOR="#0000ff">d</FONT>
<FONT COLOR="#0000ff">3</FONT>
<FONT COLOR="#0000ff">4</FONT>
<FONT COLOR="#0000ff">6</FONT>
<FONT COLOR="#0000ff">8</FONT></TT>.
This is identical to password hashing described on page
<A HREF="node14.html#page:passwdhash"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>. There is no feasible computational
method of forging a package to give the same MD5 hash; hence,
packagers will often publish their <TT>
<FONT COLOR="#0000ff">md5sum</FONT></TT> results on their web
page, and you can check these against your own as a security
measure.

<P>

<H2><A NAME="SECTION002727000000000000000">
24.2.7 Special queries</A>
</H2>

<P>
To query a package file that has not been installed, use,
for example:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-qp&nbsp;--qf&nbsp;'[%{VERSION}\n]'&nbsp;&#060;rpm-file&#062;</code><br>
<code>(&nbsp;dpkg&nbsp;-f&nbsp;&#060;deb-file&#062;&nbsp;Version&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
Here, <TT>
<FONT COLOR="#0000ff">VERSION</FONT></TT> is a query <I>tag</I> applicable to <TT>
<FONT COLOR="#0000ff">.rpm</FONT></TT>
files. Here is a list of other tags that can be queried:
<DIV ALIGN="CENTER">
<TABLE CELLPADDING=1 BORDER="1">
<TR><TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">BUILDHOST</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">OBSOLETES</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">RPMTAG_PREUN</FONT></TT></TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">BUILDTIME</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">OS</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">RPMVERSION</FONT></TT></TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">CHANGELOG</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">PACKAGER</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">SERIAL</FONT></TT></TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">CHANGELOGTEXT</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">PROVIDES</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">SIZE</FONT></TT></TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">CHANGELOGTIME</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">RELEASE</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">SOURCERPM</FONT></TT></TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">COPYRIGHT</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">REQUIREFLAGS</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">SUMMARY</FONT></TT></TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">DESCRIPTION</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">REQUIRENAME</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">VENDOR</FONT></TT></TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">DISTRIBUTION</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">REQUIREVERSION</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">VERIFYSCRIPT</FONT></TT></TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">GROUP</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">RPMTAG_POSTIN</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">VERSION</FONT></TT></TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">LICENSE</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">RPMTAG_POSTUN</FONT></TT></TD>
<TD ALIGN="LEFT">&nbsp;</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">NAME</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">RPMTAG_PREIN</FONT></TT></TD>
<TD ALIGN="LEFT">&nbsp;</TD>
</TR>
</TABLE>
</DIV>

<P>
For Debian, <TT>
<FONT COLOR="#0000ff">Version</FONT></TT> is a <I>control field</I>. Others are
<DIV ALIGN="CENTER">
<TABLE CELLPADDING=1 BORDER="1">
<TR><TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Conffiles</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Maintainer</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Replaces</FONT></TT></TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Conflicts</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Package</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Section</FONT></TT></TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Depends</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Pre-Depends</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Source</FONT></TT></TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Description</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Priority</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Status</FONT></TT></TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Essential</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Provides</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Suggests</FONT></TT></TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Installed-Size</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Recommends</FONT></TT></TD>
<TD ALIGN="LEFT"><TT>
<FONT COLOR="#0000ff">Version</FONT></TT></TD>
</TR>
</TABLE>
</DIV>

<P>
It is further possible to extract all scripts, config, and control
files from a <TT>
<FONT COLOR="#0000ff">.deb</FONT></TT> file with:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>dpkg&nbsp;-e&nbsp;&#060;deb-file&#062;&nbsp;&#060;out-directory&#062;</code><br>
</FONT></TD></TR></TABLE><P>
This command creates a directory <TT>
<FONT COLOR="#0000ff">&#60;out-directory&#62;</FONT></TT>
and places the files in it. You can also dump the package as a <TT>
<FONT COLOR="#0000ff">tar</FONT></TT> file
with:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>dpkg&nbsp;--fsys-tarfile&nbsp;&#060;deb-file&#062;</code><br>
</FONT></TD></TR></TABLE><P>
or for an <TT>
<FONT COLOR="#0000ff">.rpm</FONT></TT> file,

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm2cpio&nbsp;&#060;rpm-file&#062;</code><br>
</FONT></TD></TR></TABLE><P>

<P>
Finally, package file lists can be queried with

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-qip&nbsp;&#060;rpm-file&#062;</code><br>
<code>(&nbsp;dpkg&nbsp;-I&nbsp;&#060;deb-file&#062;&nbsp;)</code><br>
<code>rpm&nbsp;-qlp&nbsp;&#060;rpm-file&#062;</code><br>
<code>(&nbsp;dpkg&nbsp;-c&nbsp;&#060;deb-file&#062;&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
which is analogous to similar queries on already installed packages.

<P>

<H2><A NAME="SECTION002728000000000000000">
24.2.8 <TT>
<FONT COLOR="#0000ff">dpkg</FONT></TT>/<TT>
<FONT COLOR="#0000ff">apt</FONT></TT> versus <TT>
<FONT COLOR="#0000ff">rpm</FONT></TT></A>
</H2>

<P>
Only a taste of Debian package management was provided above. Debian
has two higher-level tools: APT (<I>Advanced Package Tool</I>--which comprises
the commands <TT>
<FONT COLOR="#0000ff">apt-cache</FONT></TT>,
<TT>
<FONT COLOR="#0000ff">apt-cdrom</FONT></TT>,
<TT>
<FONT COLOR="#0000ff">apt-config</FONT></TT>,
and <TT>
<FONT COLOR="#0000ff">apt-get</FONT></TT>); and <TT>
<FONT COLOR="#0000ff">dselect</FONT></TT>, which is an
interactive text-based package selector. When you first install Debian,
I suppose the first thing you are supposed to do is run <TT>
<FONT COLOR="#0000ff">dselect</FONT></TT>
(there are other graphical front-ends--search on
<EM>Fresh Meat</EM> <I>&lt;<TT><A NAME="tex2html33"
  HREF="http://freshmeat.net/">http://freshmeat.net/</A></TT>&gt;</I>), and then install and configure
all the things you skipped over during installation. Between these you can
do some sophisticated time-saving things like recursively resolving package
dependencies through automatic downloads--that is, just mention the
package and APT will find it and what it depends on, then download and
install everything for you. See <TT>
<FONT COLOR="#0000ff">apt</FONT></TT>(8), <TT>
<FONT COLOR="#0000ff">sources.list</FONT></TT>(5), and
<TT>
<FONT COLOR="#0000ff">apt.conf</FONT></TT>(5) for more information.

<P>
There are also numerous interactive graphical applications for
managing RPM packages. Most are purely cosmetic.

<P>
Experience will clearly demonstrate the superiority of Debian
packages over most others. You will also notice that where RedHat-like
distributions have chosen a selection of packages that they thought
<I>you</I> would find useful, Debian has hundreds of volunteer
maintainers selecting what <I>they</I> find useful. Almost every free
U<SMALL>NIX</SMALL> package on the Internet has been included in Debian.

<P>

<H1><A NAME="SECTION002730000000000000000">
24.3 Source Packages -- Building RedHat and Debian Packages</A>
</H1>

<P>
Both RedHat and Debian binary packages begin life as source files from
which their binary versions are compiled. Source RedHat packages will
end in <TT>
<FONT COLOR="#0000ff">.src.rpm</FONT></TT>, and Debian packages will always appear under
the source tree in the distribution. The <TT>
<FONT COLOR="#0000ff">RPM-HOWTO</FONT></TT> details the
building of RedHat source packages, and Debian's <TT>
<FONT COLOR="#0000ff">dpkg-dev</FONT></TT> and
<TT>
<FONT COLOR="#0000ff">packaging-manual</FONT></TT> packages contain a complete reference to the
Debian package standard and packaging methods (try
<TT>
<FONT COLOR="#0000ff">dpkg&nbsp;-L&nbsp;dpkg-dev</FONT></TT> and <TT>
<FONT COLOR="#0000ff">dpkg&nbsp;-L&nbsp;packaging-manual</FONT></TT>).

<P>
The actual building of RedHat and Debian source packages
is not covered in this edition.

<P>

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html2245"
  HREF="node28.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html2241"
  HREF="rute.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html2235"
  HREF="node26.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html2243"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html2246"
  HREF="node28.html">25. Introduction to IP</A>
<B> Up:</B> <A NAME="tex2html2242"
  HREF="rute.html">rute</A>
<B> Previous:</B> <A NAME="tex2html2236"
  HREF="node26.html">23. Shared Libraries</A>
 &nbsp <B>  <A NAME="tex2html2244"
  HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->

</BODY>
</HTML>
