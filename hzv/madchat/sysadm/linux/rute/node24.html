<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.2beta8 (1.46)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>21. System Services and lpd</TITLE>
<META NAME="description" CONTENT="21. System Services and lpd">
<META NAME="keywords" CONTENT="rute">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.2beta8">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="rute.css">

<LINK REL="next" HREF="node25.html">
<LINK REL="previous" HREF="node23.html">
<LINK REL="up" HREF="rute.html">
<LINK REL="next" HREF="node25.html">
</HEAD>

<BODY BGCOLOR=#FFFFFF >
<TABLE width="100%" border="0" cellspacing="0" cellpadding="0">
<TR><TD align=left bgcolor="#000000">
<FONT COLOR=white>
&nbsp;<A HREF="http://www.icon.co.za/~psheer/rute-purchase.html"><FONT COLOR=white>Purchase</FONT></A>&nbsp;
</FONT>
</TD><TD align=center bgcolor="#000000">
<FONT COLOR=white>
Copyright&nbsp;&#169;&nbsp;2002&nbsp;Paul Sheer. <A HREF="copying.html"><FONT COLOR=white>Click here for copying permissions.</FONT></A>
</FONT>
</TD><TD align=right bgcolor="#000000">
<FONT COLOR=white>
&nbsp;<A HREF="http://www.icon.co.za/~psheer/rute-home.html"><FONT COLOR=white>Home</FONT></A>&nbsp;
</FONT>
</TD></TR>
<TR><TD colspan=2 align=left bgcolor="#ECEBF4">
<IMG SRC="va-btn-small-light-60.png">
</TD><TD align=right bgcolor="#ECEBF4">
<IMG SRC="sflogo2-steel-60.png">
</TD></TR>
</TABLE><BR>

<!--Navigation Panel-->
<A NAME="tex2html2161"
  HREF="node25.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html2157"
  HREF="rute.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html2151"
  HREF="node23.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html2159"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html2162"
  HREF="node25.html">22. Trivial Introduction to</A>
<B> Up:</B> <A NAME="tex2html2158"
  HREF="rute.html">rute</A>
<B> Previous:</B> <A NAME="tex2html2152"
  HREF="node23.html">20. Advanced Shell Scripting</A>
 &nbsp <B>  <A NAME="tex2html2160"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html2163"
  HREF="#SECTION002410000000000000000">21.1 Using <TT>
<FONT COLOR="#0000ff">lpr</FONT></TT></A>
<LI><A NAME="tex2html2164"
  HREF="#SECTION002420000000000000000">21.2 Downloading and Installing</A>
<LI><A NAME="tex2html2165"
  HREF="#SECTION002430000000000000000">21.3 <TT>
<FONT COLOR="#0000ff">LPRng</FONT></TT> vs. Legacy <TT>
<FONT COLOR="#0000ff">lpr-0.</FONT></TT><I>nn</I></A>
<LI><A NAME="tex2html2166"
  HREF="#SECTION002440000000000000000">21.4 Package Elements</A>
<UL>
<LI><A NAME="tex2html2167"
  HREF="#SECTION002441000000000000000">21.4.1 Documentation files</A>
<LI><A NAME="tex2html2168"
  HREF="#SECTION002442000000000000000">21.4.2 Web pages, mailing lists, and download points</A>
<LI><A NAME="tex2html2169"
  HREF="#SECTION002443000000000000000">21.4.3 User programs</A>
<LI><A NAME="tex2html2170"
  HREF="#SECTION002444000000000000000">21.4.4 Daemon and administrator programs</A>
<LI><A NAME="tex2html2171"
  HREF="#SECTION002445000000000000000">21.4.5 Configuration files</A>
<LI><A NAME="tex2html2172"
  HREF="#SECTION002446000000000000000">21.4.6 Service initialization files</A>
<LI><A NAME="tex2html2173"
  HREF="#SECTION002447000000000000000">21.4.7 Spool files</A>
<LI><A NAME="tex2html2174"
  HREF="#SECTION002448000000000000000">21.4.8 Log files</A>
<LI><A NAME="tex2html2175"
  HREF="#SECTION002449000000000000000">21.4.9 Log file rotation</A>
<LI><A NAME="tex2html2176"
  HREF="#SECTION0024410000000000000000">21.4.10 Environment variables</A>
</UL>
<LI><A NAME="tex2html2177"
  HREF="#SECTION002450000000000000000">21.5 The <TT>
<FONT COLOR="#0000ff">printcap</FONT></TT> File in Detail</A>
<LI><A NAME="tex2html2178"
  HREF="#SECTION002460000000000000000">21.6 PostScript and the Print Filter</A>
<LI><A NAME="tex2html2179"
  HREF="#SECTION002470000000000000000">21.7 Access Control</A>
<LI><A NAME="tex2html2180"
  HREF="#SECTION002480000000000000000">21.8 Printing Troubleshooting</A>
<LI><A NAME="tex2html2181"
  HREF="#SECTION002490000000000000000">21.9 Useful Programs</A>
<UL>
<LI><A NAME="tex2html2182"
  HREF="#SECTION002491000000000000000">21.9.1 <TT>
<FONT COLOR="#0000ff">printtool</FONT></TT></A>
<LI><A NAME="tex2html2183"
  HREF="#SECTION002492000000000000000">21.9.2 <TT>
<FONT COLOR="#0000ff">apsfilter</FONT></TT></A>
<LI><A NAME="tex2html2184"
  HREF="#SECTION002493000000000000000">21.9.3 <TT>
<FONT COLOR="#0000ff">mpage</FONT></TT></A>
<LI><A NAME="tex2html2185"
  HREF="#SECTION002494000000000000000">21.9.4 <TT>
<FONT COLOR="#0000ff">psutils</FONT></TT></A>
</UL>
<LI><A NAME="tex2html2186"
  HREF="#SECTION0024100000000000000000">21.10 Printing to Things Besides Printers</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION002400000000000000000">
21. System Services and <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> -- the Printer Service</A>
</H1>

<P>
<A NAME="chap:printserver"></A>
<P>
This chapter covers a wide range of concepts about the way
U<SMALL>NIX</SMALL> services function.

<P>
Every function of U<SMALL>NIX</SMALL> is provided by one or another package.
For instance, mail is often handled by the <TT>
<FONT COLOR="#0000ff">sendmail</FONT></TT> or
other package, web by the <TT>
<FONT COLOR="#0000ff">apache</FONT></TT> package.

<P>
Here we examine how to obtain, install, and configure
a
package, using <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> as an example. You can then apply this
knowledge to any other package, and later chapters assume that
you know these concepts. This discussion will also suffice as an
explanation of how to set up and manage printing.

<P>

<H1><A NAME="SECTION002410000000000000000">
21.1 Using <TT>
<FONT COLOR="#0000ff">lpr</FONT></TT></A>
</H1>

<P>
Printing under U<SMALL>NIX</SMALL> on a properly configured machine is as
simple as typing <TT>
<FONT COLOR="#0000ff">lpr -Plp &lt;filename&gt;</FONT></TT> (or <TT>
<FONT COLOR="#0000ff">cat
&lt;filename&gt; | lpr -Plp</FONT></TT>). The ``<TT>
<FONT COLOR="#0000ff">lp</FONT></TT>'' in <TT>
<FONT COLOR="#0000ff">-Plp</FONT></TT> is the
name of the printer <I>queue</I> on the local machine you
would like to print to. You can omit it if you are printing to
the default (i.e., the first listed) queue. A <I>queue</I>
belongs to a physical printer, so users can predict where
paper will come spewing out, by what queue they print to.
Queues are conventionally named <TT>
<FONT COLOR="#0000ff">lp</FONT></TT>, <TT>
<FONT COLOR="#0000ff">lp0</FONT></TT>,
<TT>
<FONT COLOR="#0000ff">lp1</FONT></TT>, and so on, and any number of them may have been
redirected to any other queue on any other machine on the
network.

<P>
The command <TT>
<FONT COLOR="#0000ff">lprm</FONT></TT> removes pending jobs from
a print queue; <TT>
<FONT COLOR="#0000ff">lpq</FONT></TT> reports jobs in progress.

<P>
The service that facilitates all this is called <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT>.
The <TT>
<FONT COLOR="#0000ff">lpr</FONT></TT> user program makes a network connection to the
<TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> background process, sending it the print job.
<TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> then queues, filters, and feeds the job until it
appears in the print tray.

<P>
Printing typifies the <I>client/server</I> nature of U<SMALL>NIX</SMALL>
services. The <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> background process is the <I>server</I>
and is initiated by the <TT>
<FONT COLOR="#0000ff">root</FONT></TT> user. The remaining commands
are <I>client</I> programs, and are run mostly by users.

<P>

<H1><A NAME="SECTION002420000000000000000">
21.2 Downloading and Installing</A>
</H1>

<P>
<A NAME="sec:downloadandinstalllpr"></A>
<P>
The following discussion should relieve the questions of ``Where do I get
<I>xxx</I> service/package?'' and ``How do I install it?''.
Full coverage of package management comes in Section <A HREF="node27.html#sec:binpackarpmdpkg">24.2</A>,
but here you briefly see how to use package managers with respect to a real
system service.

<P>
Let us say we know nothing of the service except that it has something
to do with a file <TT>
<FONT COLOR="#0000ff">/usr/sbin/lpd</FONT></TT>. First, we use our package managers
to find where the file comes from (Debian commands are shown in parentheses):

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-qf&nbsp;/usr/sbin/lpd</code><br>
<code>(&nbsp;dpkg&nbsp;-S&nbsp;/usr/sbin/lpd&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
Returns <TT>
<FONT COLOR="#0000ff">lpr-0.</FONT></TT><I>nn</I><TT>
<FONT COLOR="#0000ff">-</FONT></TT><I>n</I> (for RedHat 6.2, or
<TT>
<FONT COLOR="#0000ff">LPRng-</FONT></TT><I>n</I><TT>
<FONT COLOR="#0000ff">.</FONT></TT><I>n</I><TT>
<FONT COLOR="#0000ff">.</FONT></TT><I>nn</I><TT>
<FONT COLOR="#0000ff">-</FONT></TT><I>n</I> on
RedHat 7.0, or <TT>
<FONT COLOR="#0000ff">lpr</FONT></TT> on Debian). On RedHat
you may have to try this on a different machine because
<TT>
<FONT COLOR="#0000ff">rpm</FONT></TT> does not know about packages that are not installed.
Alternatively, if we would like to see whether a package
whose name contains the letters <TT>
<FONT COLOR="#0000ff">lpr</FONT></TT> is installed:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-qa&nbsp;|&nbsp;grep&nbsp;-i&nbsp;lpr</code><br>
<code>(&nbsp;dpkg&nbsp;-l&nbsp;'*lpr*'&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>

<P>
If the package is not present, the package file will be on your
CD-ROM and is easily installable with (RedHat 7.0 and Debian in braces):

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>rpm&nbsp;-i&nbsp;lpr-0.50-4.i386.rpm</code><br>
<code>(&nbsp;rpm&nbsp;-i&nbsp;LPRng-3.6.24-2&nbsp;)</code><br>
<code>(&nbsp;dpkg&nbsp;-i&nbsp;lpr_0.48-1.deb&nbsp;)</code><br>
</FONT></TD></TR></TABLE><P>
(Much more about package management is covered in Chapter <A HREF="node27.html#chap:packages">24</A>.)

<P>
The list of files which the <TT>
<FONT COLOR="#0000ff">lpr</FONT></TT> package is comprises (easily
obtained with <TT>
<FONT COLOR="#0000ff">rpm&nbsp;-ql&nbsp;lpr</FONT></TT> or <TT>
<FONT COLOR="#0000ff">dpkg&nbsp;-L&nbsp;lpr</FONT></TT>) is approximately as follows:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<font size="-1"><code>5</code></font><code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<font size="-1"><code>10</code></font><code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>/etc/init.d/lpd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/share/man/man1/lprm.1.gz</code><br>
<code>/etc/cron.weekly/lpr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/share/man/man5/printcap.5.gz</code><br>
<code>/usr/sbin/lpf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/share/man/man8/lpc.8.gz</code><br>
<code>/usr/sbin/lpc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/share/man/man8/lpd.8.gz</code><br>
<code>/usr/sbin/lpd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/share/man/man8/pac.8.gz</code><br>
<code>/usr/sbin/pac&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/share/man/man8/lpf.8.gz</code><br>
<code>/usr/bin/lpq&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/share/doc/lpr/README.Debian</code><br>
<code>/usr/bin/lpr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/share/doc/lpr/copyright</code><br>
<code>/usr/bin/lprm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/share/doc/lpr/examples/printcap</code><br>
<code>/usr/bin/lptest&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/share/doc/lpr/changelog.gz</code><br>
<code>/usr/share/man/man1/lpr.1.gz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/share/doc/lpr/changelog.Debian.gz</code><br>
<code>/usr/share/man/man1/lptest.1.gz&nbsp;&nbsp;/var/spool/lpd/lp</code><br>
<code>/usr/share/man/man1/lpq.1.gz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/var/spool/lpd/remote</code><br>
</FONT></TD></TR></TABLE><P>

<P>

<H1><A NAME="SECTION002430000000000000000">
21.3 <TT>
<FONT COLOR="#0000ff">LPRng</FONT></TT> vs. Legacy <TT>
<FONT COLOR="#0000ff">lpr-0.</FONT></TT><I>nn</I></A>
</H1>

<P>
(The word <I>legacy</I> with regard to software means
outdated, superseded, obsolete, or just old.)

<P>
RedHat 7.0 has now switched to using <TT>
<FONT COLOR="#0000ff">LPRng</FONT></TT> rather than the legacy
<TT>
<FONT COLOR="#0000ff">lpr</FONT></TT> that Debian and other distributions use. <TT>
<FONT COLOR="#0000ff">LPRng</FONT></TT> is a
more modern and comprehensive package. It supports the same <TT>
<FONT COLOR="#0000ff">/etc/printcap</FONT></TT>
file and identical binaries as did the legacy <TT>
<FONT COLOR="#0000ff">lpr</FONT></TT> on RedHat 6.2.
The only differences are in the control files created in your spool
directories, and a different access control mechanism (discussed below).
Note that <TT>
<FONT COLOR="#0000ff">LPRng</FONT></TT> has strict permissions requirements on spool
directories and is not trivial to install from source.

<P>

<H1><A NAME="SECTION002440000000000000000">
21.4 Package Elements</A>
</H1>

<P>
A package's many files can be loosely grouped into functional elements.
In this sectiom, each element will be explained, drawing on the <TT>
<FONT COLOR="#0000ff">lpr</FONT></TT>
package as an example. Refer to the list of files in Section
<A HREF="node24.html#sec:downloadandinstalllpr">21.2</A>.

<P>

<H2><A NAME="SECTION002441000000000000000">
21.4.1 Documentation files</A>
</H2>

<P>
Documentation should be your
first and foremost interest. Man
pages will not always be the only documentation provided.
Above we see that <TT>
<FONT COLOR="#0000ff">lpr</FONT></TT> does not install very much
into the <TT>
<FONT COLOR="#0000ff">/usr/share/doc</FONT></TT> directory. However, other
packages, like <TT>
<FONT COLOR="#0000ff">rpm -ql apache</FONT></TT>, reveal a huge user manual (in
<TT>
<FONT COLOR="#0000ff">/home/httpd/html/manual/</FONT></TT> or <TT>
<FONT COLOR="#0000ff">/var/www/html/manual/</FONT></TT>), and <TT>
<FONT COLOR="#0000ff">rpm -ql wu-ftpd</FONT></TT>
shows lots inside <TT>
<FONT COLOR="#0000ff">/usr/doc/wu-ftpd-</FONT></TT><I>?</I><TT>
<FONT COLOR="#0000ff">.</FONT></TT><I>?</I><TT>
<FONT COLOR="#0000ff">.</FONT></TT><I>?</I>.

<P>

<H2><A NAME="SECTION002442000000000000000">
21.4.2 Web pages, mailing lists, and download points</A>
</H2>

<P>
Every package will probably have a team that maintains it as
well as a web page. In the case of <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT>, however, the
code is very old, and the various CD vendors do maintenance on
it themselves. A better example is the <TT>
<FONT COLOR="#0000ff">lprNG</FONT></TT> package.
Go to <EM>The LPRng Web Page</EM> <I>&lt;<TT><A NAME="tex2html32"
  HREF="http://www.astart.com/lprng/LPRng.html">http://www.astart.com/lprng/LPRng.html</A></TT>&gt;</I>
with your web browser. There you can see the authors, 
mailing lists, and points of download.
If a particular package is of much
interest to you, then you should become familiar with these
resources. Good web pages will also have additional
documentation like troubleshooting guides and FAQs
(Frequently Asked Questions). Some may even have archives
of their mailing lists. Note that some web pages are geared
more toward CD vendors who are trying to create their own
distribution and so will not have packages for download that
beginner users can easily install.

<P>

<H2><A NAME="SECTION002443000000000000000">
21.4.3 User programs</A>
</H2>

<P>
User programs are found in one or another <TT>
<FONT COLOR="#0000ff">bin</FONT></TT> directory. In this case,
we can see <TT>
<FONT COLOR="#0000ff">lpq</FONT></TT>, <TT>
<FONT COLOR="#0000ff">lpr</FONT></TT>, <TT>
<FONT COLOR="#0000ff">lprm</FONT></TT>, and <TT>
<FONT COLOR="#0000ff">lptest</FONT></TT>,
as well as their associated <TT>
<FONT COLOR="#0000ff">man</FONT></TT> pages.

<P>

<H2><A NAME="SECTION002444000000000000000">
21.4.4 Daemon and administrator programs</A>
</H2>

<P>
Daemon and administrator command will an <TT>
<FONT COLOR="#0000ff">sbin</FONT></TT> directory. In this case
we can see <TT>
<FONT COLOR="#0000ff">lpc</FONT></TT>, <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT>,
<TT>
<FONT COLOR="#0000ff">lpf</FONT></TT>, and <TT>
<FONT COLOR="#0000ff">pac</FONT></TT>, as
well as their associated <TT>
<FONT COLOR="#0000ff">man</FONT></TT> pages. The only
<I>daemon</I> (background) program is really the <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT>
program itself, which is the core of the whole package.

<P>

<H2><A NAME="SECTION002445000000000000000">
21.4.5 Configuration files</A>
</H2>

<P>
The file <TT>
<FONT COLOR="#0000ff">/etc/printcap</FONT></TT> controls <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT>. Most system
services will have a file in <TT>
<FONT COLOR="#0000ff">/etc</FONT></TT>. <TT>
<FONT COLOR="#0000ff">printcap</FONT></TT> is a plain
text file that <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> reads on startup. Configuring any
service primarily involves editing its configuration file. Several
graphical configuration tools are available that avoid this
inconvenience (<TT>
<FONT COLOR="#0000ff">printtool</FONT></TT>, which is especially for <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT>,
and <TT>
<FONT COLOR="#0000ff">linuxconf</FONT></TT>), but these actually just silently produce the
same configuration file.

<P>
Because printing is so integral to the system, <TT>
<FONT COLOR="#0000ff">printcap</FONT></TT> is not
actually provided by the <TT>
<FONT COLOR="#0000ff">lpr</FONT></TT> package. Trying
<TT>
<FONT COLOR="#0000ff">rpm&nbsp;-qf&nbsp;/etc/printcap</FONT></TT> gives <TT>
<FONT COLOR="#0000ff">setup-2.3.4-1</FONT></TT>, and
<TT>
<FONT COLOR="#0000ff">dpkg&nbsp;-S&nbsp;/etc/printcap</FONT></TT> shows it to not be owned (i.e., it is part of
the base system).

<P>

<H2><A NAME="SECTION002446000000000000000">
21.4.6 Service initialization files</A>
</H2>

<P>
The files in <TT>
<FONT COLOR="#0000ff">/etc/rc.d/init.d/</FONT></TT> (or
<TT>
<FONT COLOR="#0000ff">/etc/init.d/</FONT></TT>) are the
startup and shutdown scripts to run <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> on boot and shutdown. You
can start <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> yourself on the command-line with

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>/usr/sbin/lpd</code><br>
</FONT></TD></TR></TABLE><P>
but it is preferably to use the given script:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>/etc/rc.d/init.d/lpd&nbsp;start</code><br>
<code>/etc/rc.d/init.d/lpd&nbsp;stop</code><br>
</FONT></TD></TR></TABLE><P>
(or <TT>
<FONT COLOR="#0000ff">/etc/init.d/lpd</FONT></TT>). The script has other uses as well:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>/etc/rc.d/init.d/lpd&nbsp;status</code><br>
<code>/etc/rc.d/init.d/lpd&nbsp;restart</code><br>
</FONT></TD></TR></TABLE><P>
(or <TT>
<FONT COLOR="#0000ff">/etc/init.d/lpd</FONT></TT>).

<P>
To make sure that <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> runs on startup, you
can check that it has a symlink under the appropriate run level.
The symlinks can be explained by running

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>ls&nbsp;-al&nbsp;`find&nbsp;/etc&nbsp;-name&nbsp;'*lpd*'`</code><br>
<code>find&nbsp;/etc&nbsp;-name&nbsp;'*lpd*'&nbsp;-ls</code><br>
</FONT></TD></TR></TABLE><P>
showing,

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red size="-2">
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<font size="-3"><code>5</code></font><code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<font size="-3"><code>10</code></font><code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue size="-2">
<code>-rw-r--r--&nbsp;&nbsp;1&nbsp;root&nbsp;&nbsp;root&nbsp;&nbsp;17335&nbsp;Sep&nbsp;25&nbsp;&nbsp;2000&nbsp;/etc/lpd.conf</code><br>
<code>-rw-r--r--&nbsp;&nbsp;1&nbsp;root&nbsp;&nbsp;root&nbsp;&nbsp;10620&nbsp;Sep&nbsp;25&nbsp;&nbsp;2000&nbsp;/etc/lpd.perms</code><br>
<code>-rwxr-xr-x&nbsp;&nbsp;1&nbsp;root&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;2277&nbsp;Sep&nbsp;25&nbsp;&nbsp;2000&nbsp;/etc/rc.d/init.d/lpd</code><br>
<code>lrwxrwxrwx&nbsp;&nbsp;1&nbsp;root&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13&nbsp;Mar&nbsp;21&nbsp;14:03&nbsp;/etc/rc.d/rc0.d/K60lpd&nbsp;-&#062;&nbsp;../init.d/lpd</code><br>
<code>lrwxrwxrwx&nbsp;&nbsp;1&nbsp;root&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13&nbsp;Mar&nbsp;21&nbsp;14:03&nbsp;/etc/rc.d/rc1.d/K60lpd&nbsp;-&#062;&nbsp;../init.d/lpd</code><br>
<code>lrwxrwxrwx&nbsp;&nbsp;1&nbsp;root&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13&nbsp;Mar&nbsp;21&nbsp;14:03&nbsp;/etc/rc.d/rc2.d/S60lpd&nbsp;-&#062;&nbsp;../init.d/lpd</code><br>
<code>lrwxrwxrwx&nbsp;&nbsp;1&nbsp;root&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13&nbsp;Mar&nbsp;24&nbsp;01:13&nbsp;/etc/rc.d/rc3.d/S60lpd&nbsp;-&#062;&nbsp;../init.d/lpd</code><br>
<code>lrwxrwxrwx&nbsp;&nbsp;1&nbsp;root&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13&nbsp;Mar&nbsp;21&nbsp;14:03&nbsp;/etc/rc.d/rc4.d/S60lpd&nbsp;-&#062;&nbsp;../init.d/lpd</code><br>
<code>lrwxrwxrwx&nbsp;&nbsp;1&nbsp;root&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13&nbsp;Mar&nbsp;28&nbsp;23:13&nbsp;/etc/rc.d/rc5.d/S60lpd&nbsp;-&#062;&nbsp;../init.d/lpd</code><br>
<code>lrwxrwxrwx&nbsp;&nbsp;1&nbsp;root&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13&nbsp;Mar&nbsp;21&nbsp;14:03&nbsp;/etc/rc.d/rc6.d/K60lpd&nbsp;-&#062;&nbsp;../init.d/lpd</code><br>
</FONT></TD></TR></TABLE><P>
The ``<TT>
<FONT COLOR="#0000ff">3</FONT></TT>'' in <TT>
<FONT COLOR="#0000ff">rc3.d</FONT></TT> is the what are interested in.
Having <TT>
<FONT COLOR="#0000ff">S60lpd</FONT></TT> symlinked to <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> under <TT>
<FONT COLOR="#0000ff">rc3.d</FONT></TT>
means that <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> will be started when the system enters
<I>run level</I> 3, which is the system's state of usual operation.

<P>
Note that under RedHat the command <TT>
<FONT COLOR="#0000ff">setup</FONT></TT> has a menu option
<TT>
<FONT COLOR="#0000ff">System Services</FONT></TT>. The <TT>
<FONT COLOR="#0000ff">Services</FONT></TT> list will allow you to
manage what services come alive on boot, thus creating the symlinks
automatically. For Debian, check the man page for the
<TT>
<FONT COLOR="#0000ff">update-rc.d</FONT></TT> command.

<P>
More details on bootup are in Chapter <A HREF="node35.html#chap:bootup">32</A>.

<P>

<H2><A NAME="SECTION002447000000000000000">
21.4.7 Spool files</A>
</H2>

<P>
<A NAME="page:spoolfile"></A>
<P>
Systems services like <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT>, <TT>
<FONT COLOR="#0000ff">innd</FONT></TT>, <TT>
<FONT COLOR="#0000ff">sendmail</FONT></TT>,
and <TT>
<FONT COLOR="#0000ff">uucp</FONT></TT> create intermediate files in the course of
processing each request. These are called <I>spool</I> files
and are stored somewhere under the <TT>
<FONT COLOR="#0000ff">/var/spool/</FONT></TT> directory,
usually to be processed and then deleted in sequence.

<P>
<TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> has a spool directory <TT>
<FONT COLOR="#0000ff">/var/spool/lpd</FONT></TT>,
which may have been created on installation. You can create
spool directories for the two printers
in the example below, with

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>mkdir&nbsp;-p&nbsp;/var/spool/lpd/lp&nbsp;/var/spool/lpd/lp0</code><br>
</FONT></TD></TR></TABLE><P>

<P>

<H2><A NAME="SECTION002448000000000000000">
21.4.8 Log files</A>
</H2>

<P>
<A NAME="sec:logfileslpd"></A>
<P>
U<SMALL>NIX</SMALL> has a strict policy of not reporting error messages to the user
interface whenever there might be no user around to read those messages.
Whereas error messages of interactive commands are sent to the terminal
screen, error or information messages produced by non-interactive
commands are ``logged'' to files in the directory <TT>
<FONT COLOR="#0000ff">/var/log/</FONT></TT>.

<P>
A log file is a plain text file that continually has one-liner status
messages appended to it by a daemon process. The usual
directory for log files is <TT>
<FONT COLOR="#0000ff">/var/log</FONT></TT>. The main log files are
<TT>
<FONT COLOR="#0000ff">/var/log/messages</FONT></TT> and possibly <TT>
<FONT COLOR="#0000ff">/var/log/syslog</FONT></TT>.
It contains kernel messages and
messages from a few primary services. When a service would
produce large log files (think web access with thousands of hits
per hour), the service would use its own log file. <TT>
<FONT COLOR="#0000ff">sendmail</FONT></TT>,
for example, uses <TT>
<FONT COLOR="#0000ff">/var/log/maillog</FONT></TT>. Actually, <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT>
does not have a log file of its own--one of its failings.

<P>
View the system log file with the <TT>
<FONT COLOR="#0000ff">f</FONT></TT><I>ollow</I> option
to <TT>
<FONT COLOR="#0000ff">tail</FONT></TT>:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>tail&nbsp;-f&nbsp;/var/log/messages</code><br>
<code>tail&nbsp;-f&nbsp;/var/log/syslog</code><br>
</FONT></TD></TR></TABLE><P>
Restarting the <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> service gives messages
like: <FONT COLOR="#ffa500">[Not all distributions log this information.]</FONT>
<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>Jun&nbsp;27&nbsp;16:06:43&nbsp;cericon&nbsp;lpd:&nbsp;lpd&nbsp;shutdown&nbsp;succeeded</code><br>
<code>Jun&nbsp;27&nbsp;16:06:45&nbsp;cericon&nbsp;lpd:&nbsp;lpd&nbsp;startup&nbsp;succeeded</code><br>
</FONT></TD></TR></TABLE><P>

<P>

<H2><A NAME="SECTION002449000000000000000">
21.4.9 Log file rotation</A>
</H2>

<P>
<A NAME="sec:logrotation"></A>
Log files are rotated daily or weekly by the <TT>
<FONT COLOR="#0000ff">logrotate</FONT></TT> package.
Its configuration file is <TT>
<FONT COLOR="#0000ff">/etc/logrotate.conf</FONT></TT>. For each package
that happens to produce a log file, there is an additional configuration
file under <TT>
<FONT COLOR="#0000ff">/etc/logrotate.d/</FONT></TT>. It is also easy to write your own--begin
by using one of the existing files as an example. <I>Rotation</I> means that the log
file is renamed with a <TT>
<FONT COLOR="#0000ff">.1</FONT></TT> extension and then truncated to zero
length. The service is notified by the <TT>
<FONT COLOR="#0000ff">logrotate</FONT></TT> program, sometimes
with a <TT>
<FONT COLOR="#0000ff">SIGHUP</FONT></TT>. Your <TT>
<FONT COLOR="#0000ff">/var/log/</FONT></TT> may contain a number of old
log files named <TT>
<FONT COLOR="#0000ff">.2</FONT></TT>, <TT>
<FONT COLOR="#0000ff">.3</FONT></TT>, etc. The point of log file rotation
is to prevent log files from growing indefinitely.

<P>

<H2><A NAME="SECTION0024410000000000000000">
21.4.10 Environment variables</A>
</H2>

<P>
Most user commands of services make use of some environment variables.
These can be defined in your shell startup scripts as usual. For
<TT>
<FONT COLOR="#0000ff">lpr</FONT></TT>, if no printer is specified on the command-line, the
<TT>
<FONT COLOR="#0000ff">PRINTER</FONT></TT> environment variable determines the default print
queue. For example, <TT>
<FONT COLOR="#0000ff">export&nbsp;PRINTER=lp1</FONT></TT> will force use of the
<TT>
<FONT COLOR="#0000ff">lp1</FONT></TT> print queue.

<P>

<H1><A NAME="SECTION002450000000000000000">
21.5 The <TT>
<FONT COLOR="#0000ff">printcap</FONT></TT> File in Detail</A>
</H1>

<P>
The <TT>
<FONT COLOR="#0000ff">printcap</FONT></TT>
(<I>printer capabilities</I>) file is similar to (and
based on) the <TT>
<FONT COLOR="#0000ff">termcap</FONT></TT>
(<I>terminal capabilities</I>) file.
Configuring a printer means adding or removing text in this
file. <TT>
<FONT COLOR="#0000ff">printcap</FONT></TT> contains a list of one-line entries, one for each printer.
Lines can be broken by a <TT>
<FONT COLOR="#0000ff">&#92;</FONT></TT> before the newline. Here is an
example of a <TT>
<FONT COLOR="#0000ff">printcap</FONT></TT> file for two printers.

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<font size="-1"><code>5</code></font><code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<font size="-1"><code>10</code></font><code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>lp:\</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:sd=/var/spool/lpd/lp:\</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:mx#0:\</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:sh:\</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lp=/dev/lp0:\</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:if=/var/spool/lpd/lp/filter:</code><br>
<code>lp0:\</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:sd=/var/spool/lpd/lp0:\</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:mx#0:\</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:sh:\</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:rm=edison:\</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:rp=lp3:\</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:if=/bin/cat:</code><br>
</FONT></TD></TR></TABLE><P>
Printers are named by the first field: in this case
<TT>
<FONT COLOR="#0000ff">lp</FONT></TT> is the first printer and <TT>
<FONT COLOR="#0000ff">lp0</FONT></TT> the
second printer. Each printer usually refers to a different
physical device with its own queue. The <TT>
<FONT COLOR="#0000ff">lp</FONT></TT> printer should
always be listed first and is the default print queue used when
no other is specified. Here, <TT>
<FONT COLOR="#0000ff">lp</FONT></TT> refers to a local printer on
the device <TT>
<FONT COLOR="#0000ff">/dev/lp0</FONT></TT> (first parallel port). <TT>
<FONT COLOR="#0000ff">lp0</FONT></TT> refers
to a remote print queue <TT>
<FONT COLOR="#0000ff">lp3</FONT></TT> on the machine <TT>
<FONT COLOR="#0000ff">edison</FONT></TT>.

<P>
The <TT>
<FONT COLOR="#0000ff">printcap</FONT></TT> has a comprehensive <TT>
<FONT COLOR="#0000ff">man</FONT></TT> page.
However, the following fields are most of what you will ever need:
<DL>
<DT><STRONG><TT>
<FONT COLOR="#0000ff">sd</FONT></TT></STRONG></DT>
<DD>Spool directory. This directory contains status and spool files.
</DD>
<DT><STRONG><TT>
<FONT COLOR="#0000ff">mx</FONT></TT></STRONG></DT>
<DD>Maximum file size. In the preceding example, unlimited.
</DD>
<DT><STRONG><TT>
<FONT COLOR="#0000ff">sh</FONT></TT></STRONG></DT>
<DD>Suppress headers. The header is a few informational lines printed
                    before or after the print job. This option should always be set to off.
</DD>
<DT><STRONG><TT>
<FONT COLOR="#0000ff">lp</FONT></TT></STRONG></DT>
<DD>Line printer device.
</DD>
<DT><STRONG><TT>
<FONT COLOR="#0000ff">if</FONT></TT></STRONG></DT>
<DD>Input filter. This is an executable script into which printer
                    data is piped. The output of this script is fed directly to the
                    printing device or remote machine. This filter will translate
		    from the application's output into the printer's
                    native code.
</DD>
<DT><STRONG><TT>
<FONT COLOR="#0000ff">rm</FONT></TT></STRONG></DT>
<DD>Remote machine. If the printer queue is not local, this is the
                    machine name.
</DD>
<DT><STRONG><TT>
<FONT COLOR="#0000ff">rp</FONT></TT></STRONG></DT>
<DD>Remote printer queue name. The remote machine will have its
                    own <TT>
<FONT COLOR="#0000ff">printcap</FONT></TT> file with possibly several printers defined.
                    This specifies which printer to use.
</DD>
</DL>

<P>

<H1><A NAME="SECTION002460000000000000000">
21.6 PostScript and the Print Filter</A>
</H1>

<P>
<A NAME="sec:postscriptprintfilt"></A>
<P>
On U<SMALL>NIX</SMALL> the standard format for all printing is the PostScript
file. PostScript <TT>
<FONT COLOR="#0000ff">.ps</FONT></TT> files are graphics files representing
arbitrary scalable text, lines, and images. PostScript is actually
a programming language specifically designed to draw things on
a page; hence, <TT>
<FONT COLOR="#0000ff">.ps</FONT></TT> files are really PostScript programs.
The last line in any PostScript program is always <TT>
<FONT COLOR="#0000ff">showpage</FONT></TT>,
meaning that all drawing operations are complete and that the page
can be displayed. Hence, it is easy to see the number of pages
inside a PostScript file by <TT>
<FONT COLOR="#0000ff">grep</FONT></TT>ping for the string
<TT>
<FONT COLOR="#0000ff">showpage</FONT></TT>.

<P>
The procedure for printing on U<SMALL>NIX</SMALL> is to convert whatever you
would like to print into PostScript. PostScript files can be
viewed with a PostScript ``emulator,'' like the <TT>
<FONT COLOR="#0000ff">gv</FONT></TT>
(GhostView) program. A program called <TT>
<FONT COLOR="#0000ff">gs</FONT></TT> (GhostScript)
is the standard utility for converting the PostScript into a
format suitable for your printer. The idea behind PostScript is
that it is a language that can easily be built into any printer. The
so-called ``PostScript printer'' is one that directly interprets a
PostScript file. However, these printers are relatively
expensive, and most printers only understand the lesser PCL
(printer control language) dialect or some other format.

<P>
In short, any of the hundreds of different formats of graphics
and text have a utility that will convert a file into PostScript,
whereafter <TT>
<FONT COLOR="#0000ff">gs</FONT></TT> will convert it for any of the hundreds of
different kinds of printers. <FONT COLOR="#ffa500">[There are actually many
printers not supported by <TT>
<FONT COLOR="#0000ff">gs</FONT></TT> at the time of this writing.
This is mainly because manufacturers refuse to release
specifications to their proprietary
printer communication protocols]</FONT>. The print filter
is the workhorse of this whole operation.

<P>
Most applications conveniently output PostScript whenever
printing. For example, <TT>
<FONT COLOR="#0000ff">netscape</FONT></TT>'s
 <!-- MATH
 $\epsfbox{netscape_print.ps}$
 -->
<IMG
 WIDTH="125" HEIGHT="20" ALIGN="BOTTOM" BORDER="0"
 SRC="img25.png"
 ALT="\epsfbox{netscape_print.ps}">
menu selection shows

<P>
<DIV ALIGN="CENTER">
 
<!-- MATH
 $\epsfbox{netscape_print_dialog.ps}$
 -->
<IMG
 WIDTH="479" HEIGHT="120" ALIGN="BOTTOM" BORDER="0"
 SRC="img26.png"
 ALT="\epsfbox{netscape_print_dialog.ps}">
</DIV>
which sends PostScript through the stdin of <TT>
<FONT COLOR="#0000ff">lpr</FONT></TT>.
All applications without their own printer drivers will do the
same. This means that we can generally rely on the fact that
the print filter will always receive PostScript. <TT>
<FONT COLOR="#0000ff">gs</FONT></TT>, on the
other hand, can convert PostScript for any printer, so all that
remains is to determine its command-line options.

<P>
If you have chosen ``Print To: File,'' then you can view the resulting output
with the <TT>
<FONT COLOR="#0000ff">gv</FONT></TT> program. Try <TT>
<FONT COLOR="#0000ff">gv&nbsp;netscape.ps</FONT></TT>, which
shows a <I>print preview</I>. On U<SMALL>NIX</SMALL>,
most desktop applications do <I>not</I> have their own preview facility
because the PostScript printer itself is emulated by <TT>
<FONT COLOR="#0000ff">gv</FONT></TT>.

<P>
Note that filter programs should not be used with remote filters;
remote printer queues can send their PostScript files ``as is'' with
<TT>
<FONT COLOR="#0000ff">:if=/bin/cat:</FONT></TT> (as in the example <TT>
<FONT COLOR="#0000ff">printcap</FONT></TT> file
above). This way, the machine connected to the device need be
the only one especially configured for it.

<P>
The filter program we are going to use for the local
print queue will be a shell script <TT>
<FONT COLOR="#0000ff">/var/spool/lpd/lp/filter</FONT></TT>.
Create the filter with

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>touch&nbsp;/var/spool/lpd/lp/filter</code><br>
<code>chmod&nbsp;a+x&nbsp;/var/spool/lpd/lp/filter</code><br>
</FONT></TD></TR></TABLE><P>
then edit it so that it looks like

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>#!/bin/bash</code><br>
<code>cat&nbsp;|&nbsp;gs&nbsp;-sDEVICE=ljet4&nbsp;-sOutputFile=-&nbsp;-sPAPERSIZE=a4&nbsp;-r600x600&nbsp;-q&nbsp;-</code><br>
<code>exit&nbsp;0</code><br>
</FONT></TD></TR></TABLE><P>

<P>
The <TT>
<FONT COLOR="#0000ff">-sDEVICE</FONT></TT> option describes the printer, in
this example a Hewlett Packard LaserJet 1100. Many printers
have similar or compatible formats; hence, there are far
fewer <TT>
<FONT COLOR="#0000ff">DEVICE</FONT></TT>'s than different makes of printers. To get
a full list of supported devices, use <TT>
<FONT COLOR="#0000ff">gs -h</FONT></TT> and also
consult one of the following files (depending on your distribution):

<UL>
 
<TT>
<FONT COLOR="#0000ff">/usr/doc/ghostscript-</FONT></TT><I>?</I><TT>
<FONT COLOR="#0000ff">.</FONT></TT><I>??</I><TT>
<FONT COLOR="#0000ff">/devices.txt</FONT></TT>
<BR><TT>
<FONT COLOR="#0000ff">/usr/share/doc/ghostscript-</FONT></TT><I>?</I><TT>
<FONT COLOR="#0000ff">.</FONT></TT><I>??</I><TT>
<FONT COLOR="#0000ff">/Devices.htm</FONT></TT>
<BR><TT>
<FONT COLOR="#0000ff">/usr/share/doc/gs/devices.txt.gz</FONT></TT>
</LI>
</UL>

<P>
The <TT>
<FONT COLOR="#0000ff">-sOutputFile=-</FONT></TT> sets to write to stdout (as required
for a filter). The <TT>
<FONT COLOR="#0000ff">-sPAPERSIZE</FONT></TT>
can be set to one of
<TT>
<FONT COLOR="#0000ff">11x17</FONT></TT>, <TT>
<FONT COLOR="#0000ff">a3</FONT></TT>, <TT>
<FONT COLOR="#0000ff">a4</FONT></TT>, <TT>
<FONT COLOR="#0000ff">a5</FONT></TT>, <TT>
<FONT COLOR="#0000ff">b3</FONT></TT>,
<TT>
<FONT COLOR="#0000ff">b4</FONT></TT>, <TT>
<FONT COLOR="#0000ff">b5</FONT></TT>, <TT>
<FONT COLOR="#0000ff">halfletter</FONT></TT>, <TT>
<FONT COLOR="#0000ff">ledger</FONT></TT>,
<TT>
<FONT COLOR="#0000ff">legal</FONT></TT>, <TT>
<FONT COLOR="#0000ff">letter</FONT></TT>, <TT>
<FONT COLOR="#0000ff">note</FONT></TT>, and others listed in
the <TT>
<FONT COLOR="#0000ff">man</FONT></TT> page. You can also use
<TT>
<FONT COLOR="#0000ff">-g&lt;width&gt;x&lt;height&gt;</FONT></TT> to set the exact page size in pixels.
<TT>
<FONT COLOR="#0000ff">-r600x600</FONT></TT> sets the resolution, in this case, 600 dpi
(dots per inch). <TT>
<FONT COLOR="#0000ff">-q</FONT></TT> means to set quiet mode, suppressing any
informational messages that would otherwise corrupt the
PostScript output, and <TT>
<FONT COLOR="#0000ff">-</FONT></TT> means to read from
stdin and not from a file.

<P>
Our printer configuration is now complete. What remains
is to start <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> and test print. You can do that on the
command-line with the <TT>
<FONT COLOR="#0000ff">enscript</FONT></TT> package. <TT>
<FONT COLOR="#0000ff">enscript</FONT></TT>
is a program to convert plain text files into nicely formatted
PostScript pages. The <TT>
<FONT COLOR="#0000ff">man</FONT></TT> page for <TT>
<FONT COLOR="#0000ff">enscript</FONT></TT> shows
an enormous number of options, but we can simply try:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>echo&nbsp;hello&nbsp;|&nbsp;enscript&nbsp;-p&nbsp;-&nbsp;|&nbsp;lpr</code><br>
</FONT></TD></TR></TABLE><P>

<P>

<H1><A NAME="SECTION002470000000000000000">
21.7 Access Control</A>
</H1>

<P>
You should be very careful about running <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT>
on any machine that is exposed to the Internet. <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> has
had numerous security alerts <FONT COLOR="#ffa500">[See Chapter <A HREF="node47.html#chap:security">44</A>.]</FONT>and should really only be used within a trusted LAN.

<P>
To prevent any remote machine from using your printer, <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT>
first looks in the file <TT>
<FONT COLOR="#0000ff">/etc/hosts.equiv</FONT></TT>. This is a simple
list of all machines allowed to print to your printers. My own file
looks like this:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>192.168.3.8</code><br>
<code>192.168.3.9</code><br>
<code>192.168.3.10</code><br>
<code>192.168.3.11</code><br>
</FONT></TD></TR></TABLE><P>
The file <TT>
<FONT COLOR="#0000ff">/etc/hosts.lpd</FONT></TT> does the same but doesn't give
administrative control by those machines to the print queues. Note that
other services, like <TT>
<FONT COLOR="#0000ff">sshd</FONT></TT> and <TT>
<FONT COLOR="#0000ff">rshd</FONT></TT>
(or <TT>
<FONT COLOR="#0000ff">in.rshd</FONT></TT>), also
check the <TT>
<FONT COLOR="#0000ff">hosts.equiv</FONT></TT> file and consider any machine listed to be
<TT>
<FONT COLOR="#0000ff">equiv</FONT></TT><I>alent</I>. This means that they are completed trusted
and so <TT>
<FONT COLOR="#0000ff">rshd</FONT></TT> will not request user logins between machines to be
authenticated. This behavior is hence a grave security concern.

<P>
<TT>
<FONT COLOR="#0000ff">LPRng</FONT></TT> on RedHat 7.0 has a different access control
facility. It can arbitrarily limit access in a variety of ways,
depending on the remote user and the action (such as who is allowed to
manipulate queues). The file <TT>
<FONT COLOR="#0000ff">/etc/lpd.perms</FONT></TT>
contains the configuration. The file format is simple, although
<TT>
<FONT COLOR="#0000ff">LPRng</FONT></TT>'s capabilities are rather involved--to make a long
story short, the equivalent <TT>
<FONT COLOR="#0000ff">hosts.equiv</FONT></TT> becomes in
<TT>
<FONT COLOR="#0000ff">lpd.perms</FONT></TT>

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<font size="-1"><code>5</code></font><code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>ACCEPT&nbsp;SERVICE=*&nbsp;REMOTEIP=192.168.3.8</code><br>
<code>ACCEPT&nbsp;SERVICE=*&nbsp;REMOTEIP=192.168.3.9</code><br>
<code>ACCEPT&nbsp;SERVICE=*&nbsp;REMOTEIP=192.168.3.10</code><br>
<code>ACCEPT&nbsp;SERVICE=*&nbsp;REMOTEIP=192.168.3.11</code><br>
<code>DEFAULT&nbsp;REJECT</code><br>
</FONT></TD></TR></TABLE><P>

<P>
Large organizations with many untrusted users
should look more closely at the <TT>
<FONT COLOR="#0000ff">LPRng-HOWTO</FONT></TT> in
<TT>
<FONT COLOR="#0000ff">/usr/share/doc/LPRng-</FONT></TT><I>n</I><TT>
<FONT COLOR="#0000ff">.</FONT></TT><I>n</I><TT>
<FONT COLOR="#0000ff">.</FONT></TT><I>nn</I>.
It explains how to limit access in more complicated ways.

<P>

<H1><A NAME="SECTION002480000000000000000">
21.8 Printing Troubleshooting</A>
</H1>

<P>
Here is a convenient order for checking what is not working.

<P>
<DL COMPACT>
<DT>1.</DT>
<DD>Check that your printer is plugged in and working.
All printers have a way of printing a test page. Read your printer
manual to find out how.
</DD>
<DT>2.</DT>
<DD>Check your printer cable.
</DD>
<DT>3.</DT>
<DD>Check your CMOS settings for your parallel port.
</DD>
<DT>4.</DT>
<DD>Check your printer cable.
</DD>
<DT>5.</DT>
<DD>Try <TT>
<FONT COLOR="#0000ff">echo hello &gt; /dev/lp0</FONT></TT> to check that the port
is operating. The printer should do something to signify
that data has at least been received. Chapter <A HREF="node45.html#chap:modules">42</A>
explains how to install your parallel port kernel module.
</DD>
<DT>6.</DT>
<DD>Use the <TT>
<FONT COLOR="#0000ff">lpc</FONT></TT> program to query the <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT>
daemon. Try <TT>
<FONT COLOR="#0000ff">help</FONT></TT>, then <TT>
<FONT COLOR="#0000ff">status lp</FONT></TT>, and so on.
</DD>
<DT>7.</DT>
<DD>Check that there is enough space in your <TT>
<FONT COLOR="#0000ff">/var</FONT></TT>
and <TT>
<FONT COLOR="#0000ff">/tmp</FONT></TT> devices for any intermediate files needed
by the print filter. A large print job may require
hundreds of megabytes. <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> may not give any kind
of error for a print filter failure: the print job may
just disappear into nowhere. If you are using legacy <TT>
<FONT COLOR="#0000ff">lpr</FONT></TT>,
then complain to your distribution vendor about your print filter
not properly logging to a file.
</DD>
<DT>8.</DT>
<DD>For legacy <TT>
<FONT COLOR="#0000ff">lpr</FONT></TT>, stop <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> and
remove all of <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT>'s runtime <FONT COLOR="#ffa500">[At or pertaining to the program being in a running state.]</FONT> files from <TT>
<FONT COLOR="#0000ff">/var/spool/lpd</FONT></TT>
and from any of its subdirectories. (New <TT>
<FONT COLOR="#0000ff">LPRng</FONT></TT> should never
require this step.) The unwanted files are <TT>
<FONT COLOR="#0000ff">.seq</FONT></TT>,
<TT>
<FONT COLOR="#0000ff">lock</FONT></TT>, <TT>
<FONT COLOR="#0000ff">status</FONT></TT>, <TT>
<FONT COLOR="#0000ff">lpd.lock</FONT></TT>, and any left
over spool files that failed to disappear with <TT>
<FONT COLOR="#0000ff">lprm</FONT></TT> (these
files are recognizable by long file names with a host name
and random key embedded in the file name). Then, restart <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT>.
</DD>
<DT>9.</DT>
<DD>For remote queues, check that you can do forward <I>and</I>
reverse lookups on both machines of both machine's
host names and IP address. If not, you may get
<TT>
<FONT COLOR="#0000ff">Host name for your address (</FONT></TT><I>ipaddr</I><TT>
<FONT COLOR="#0000ff">) unknown</FONT></TT> error
messages when trying an <TT>
<FONT COLOR="#0000ff">lpq</FONT></TT>.
Test with the command <TT>
<FONT COLOR="#0000ff">host &lt;ip-address&gt;</FONT></TT>
and also <TT>
<FONT COLOR="#0000ff">host &lt;machine-name&gt;</FONT></TT> on both machines. If any
of these do not work, add entries for both machines in
<TT>
<FONT COLOR="#0000ff">/etc/hosts</FONT></TT> from the example on page
<A HREF="node30.html#page:hostsfile"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>. Note that the <TT>
<FONT COLOR="#0000ff">host</FONT></TT> command may
be ignorant of the file <TT>
<FONT COLOR="#0000ff">/etc/hosts</FONT></TT> and may still fail.
Chapter <A HREF="node43.html#chap:name">40</A> will explain name lookup configuration.
</DD>
<DT>10.</DT>
<DD>Run your print filter manually to check that it does,
in fact, produce the correct output. For example,
<TT>
<FONT COLOR="#0000ff">echo hello &#124; enscript -p - &#124; /var/spool/lpd/lp/filter &gt; /dev/lp0</FONT></TT>.
</DD>
<DT>11.</DT>
<DD>Legacy <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> is a bit of a quirky package--meditate.
</DD>
</DL>

<P>

<H1><A NAME="SECTION002490000000000000000">
21.9 Useful Programs</A>
</H1>

<P>

<H2><A NAME="SECTION002491000000000000000">
21.9.1 <TT>
<FONT COLOR="#0000ff">printtool</FONT></TT></A>
</H2>

<P>
<TT>
<FONT COLOR="#0000ff">printtool</FONT></TT> is a graphical printer setup program that helps
you very quickly set up <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT>. It immediately
generates a <TT>
<FONT COLOR="#0000ff">printcap</FONT></TT> file and magic filter, and 
you need not know anything about <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT> configuration.

<P>

<H2><A NAME="SECTION002492000000000000000">
21.9.2 <TT>
<FONT COLOR="#0000ff">apsfilter</FONT></TT></A>
</H2>

<P>
<A NAME="sec:apsfilter"></A>
<P>
<TT>
<FONT COLOR="#0000ff">apsfilter</FONT></TT> stands for <I>any to PostScript filter</I>.
The setup described above requires everything be converted to
PostScript before printing, but a filter could foreseeably use the
<TT>
<FONT COLOR="#0000ff">file</FONT></TT> command to determine the type of data coming in
and then invoke a program to convert it to PostScript before
piping it through <TT>
<FONT COLOR="#0000ff">gs</FONT></TT>. This would enable JPEG, GIF, plain text,
DVI files, or even <TT>
<FONT COLOR="#0000ff">gzip</FONT></TT>ped HTML to be printed
directly, since PostScript converters have been written for
each of these. <TT>
<FONT COLOR="#0000ff">apsfilter</FONT></TT> is one of a few such filters, which are
generally called <I>magic filters</I>. <FONT COLOR="#ffa500">[This is because the
<TT>
<FONT COLOR="#0000ff">file</FONT></TT> command uses magic numbers. See page <A HREF="node7.html#sec:filemagic"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.]</FONT>
<P>
I personally find this feature a gimmick rather than a genuine
utility, since most of the time you want to lay out the graphical
object on a page before printing, which requires you to preview it,
and hence convert it to PostScript manually. For most
situations, the straight PostScript filter above will work
adequately, provided users know to use <TT>
<FONT COLOR="#0000ff">enscript</FONT></TT> instead
of <TT>
<FONT COLOR="#0000ff">lpr</FONT></TT> when printing plain text.

<P>

<H2><A NAME="SECTION002493000000000000000">
21.9.3 <TT>
<FONT COLOR="#0000ff">mpage</FONT></TT></A>
</H2>

<P>
<TT>
<FONT COLOR="#0000ff">mpage</FONT></TT> is a useful utility for saving the trees.
It resizes PostScript input so that two, four or eight
pages fit on one. Change your print filter to:

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>#!/bin/bash</code><br>
<code>cat&nbsp;|&nbsp;mpage&nbsp;-4&nbsp;|&nbsp;gs&nbsp;-sDEVICE=ljet4&nbsp;-sOutputFile=-&nbsp;-sPAPERSIZE=a4&nbsp;-r600x600&nbsp;-q&nbsp;-</code><br>
<code>exit&nbsp;0</code><br>
</FONT></TD></TR></TABLE><P>

<P>

<H2><A NAME="SECTION002494000000000000000">
21.9.4 <TT>
<FONT COLOR="#0000ff">psutils</FONT></TT></A>
</H2>

<P>
The package <TT>
<FONT COLOR="#0000ff">psutils</FONT></TT> contains a variety of
command-line PostScript manipulation programs--a must for anyone
doing fancy things with filters.

<P>

<H1><A NAME="SECTION0024100000000000000000">
21.10 Printing to Things Besides Printers</A>
</H1>

<P>
<A NAME="sec:printtononprinter"></A>
<P>
The <TT>
<FONT COLOR="#0000ff">printcap</FONT></TT> allows anything to be specified as the
printer device. If we set it to <TT>
<FONT COLOR="#0000ff">/dev/null</FONT></TT> and let our filter
force the output to an alternative device, then we can use <TT>
<FONT COLOR="#0000ff">lpd</FONT></TT>
to redirect ``print'' jobs to any kind of service imaginable.

<P>
Here, <TT>
<FONT COLOR="#0000ff">my_filter.sh</FONT></TT> is a script that might send the print
job through an SMB (Windows NT) print
share (using <TT>
<FONT COLOR="#0000ff">smbclient</FONT></TT>--see
Chapter <A HREF="node42.html#chap:smb">39</A>), to a printer previewer, or
to a script that emails the job somewhere.

<P><TABLE nowrap="1" width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
<TD valign="top" class="source" width="2%"><FONT color=red>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<code>&nbsp;</code><br>
<font size="-1"><code>5</code></font><code>&nbsp;</code><br>
<code>&nbsp;</code><br>
</FONT></TD><TD valign="top" class="source" bgcolor="#FFE0C0"><FONT color=blue>
<code>lp1:\</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:sd=/var/spool/lpd/lp1:\</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:mx#0:\</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:sh:\</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lp=/dev/null:\</code><br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:if=/usr/local/bin/my_filter.sh:</code><br>
</FONT></TD></TR></TABLE><P>

<P>
We see a specific example of redirecting print jobs
to a fax machine in Chapter <A HREF="node36.html#chap:sendingfaxes">33</A>.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html2161"
  HREF="node25.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html2157"
  HREF="rute.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html2151"
  HREF="node23.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html2159"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html2162"
  HREF="node25.html">22. Trivial Introduction to</A>
<B> Up:</B> <A NAME="tex2html2158"
  HREF="rute.html">rute</A>
<B> Previous:</B> <A NAME="tex2html2152"
  HREF="node23.html">20. Advanced Shell Scripting</A>
 &nbsp <B>  <A NAME="tex2html2160"
  HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->

</BODY>
</HTML>
