<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1251">
<TITLE>Preface</TITLE>

<META NAME="GENERATOR" CONTENT="Internet Assistant for Microsoft Word 2.04z">
</HEAD>
<BODY>
<H1><I>Preface</I></H1>
<H3>Introduction</H3>
<P>
This book describes the TCP/IP protocol suite, but
from a different perspective than other texts on TCP/IP. Instead
of just describing the protocols and what they do, we'll use a
popular diagnostic tool to watch the protocols in action. Seeing
how the protocols operate in varying circumstances provides a
greater understanding of how they work and why certain
design decisions were made. It also provides
a look into the implementation of the protocols, without having
to wade through thousands of lines of source code.
<P>
When networking protocols were being developed in
the 1960s through the 1980s, expensive, dedicated hardware was
required to see the packets going &quot;across the wire.&quot;
Extreme familiarity with the protocols was also required to comprehend
the packets displayed by the hardware. Functionality of the hardware
analyzers was limited to that built in by the hardware designers.
<P>
Today this has changed dramatically with the ability
of the ubiquitous workstation to monitor a local area network
[Mogul 1990]. Just attach a workstation to your network, run some
publicly available software (described in Appendix A), and watch
what goes by on the wire. While many people consider this a tool
to be used for <I>diagnosing</I> network problems, it is also
a powerful tool for <I>understanding</I> how the network protocols
operate, which is the goal of this book.
<P>
This book is intended for anyone wishing to understand
how the TCP/IP protocols operate: programmers writing network
applications, system administrators responsible for maintaining
computer systems and networks utilizing TCP/IP, and users who
deal with TCP/IP applications on a daily basis.

<H3>Organization of the Book</H3>

The following figure shows the various protocols
and applications that are covered. The italic number by each box
indicates the chapter in which that protocol or application is
described.
<P>
<CENTER>
<IMG SRC="f_pref.gif" tppabs="http://www.uic.rnd.runnet.ru/doc/inet/tcp_stevens/gifs/f_pref.gif">
</CENTER>
<P>
(Numerous fine points are missing from this figure
that will be discussed in the appropriate chapter. For example,
both the DNS and RPC use TCP, which we don't show.)
<P>
We take a bottom-up approach to the TCP/IP protocol
suite. After providing a basic introduction to TCP/IP in <a href="introduc.htm#1_0" tppabs="http://www.uic.rnd.runnet.ru/doc/inet/tcp_stevens/introduc.htm#1_0">Chapter 1</a>,
we will start at the link layer in <a href="link_lay.htm#2_0" tppabs="http://www.uic.rnd.runnet.ru/doc/inet/tcp_stevens/link_lay.htm#2_0">Chapter 2</a> and work our way
up the protocol stack. This provides the required background for
later chapters for readers who aren't familiar with TCP/IP or
networking in general.
<P>
This book also uses a functional approach instead
of following a strict bottom-to-top order. For example,
<a href="ip_inter.htm#3_0" tppabs="http://www.uic.rnd.runnet.ru/doc/inet/tcp_stevens/ip_inter.htm#3_0">Chapter 3</a> describes the IP layer and the IP header. But there
are numerous fields in the IP header that are best described in
the context of an application that uses or is affected by a particular
field. Fragmentation, for example, is best understood in terms
of UDP (<a href="udp_user.htm#11_0" tppabs="http://www.uic.rnd.runnet.ru/doc/inet/tcp_stevens/udp_user.htm#11_0">Chapter 11</a>), the protocol
often affected by it. The time-to-live field is fully described
when we look at the Traceroute program
in <a href="tracerou.htm#8_0" tppabs="http://www.uic.rnd.runnet.ru/doc/inet/tcp_stevens/tracerou.htm#8_0">Chapter 8</a>, because this field is the basis for the operation
of the program. Similarly, many features of ICMP
are described in the later chapters, in terms of how a particular
ICMP message is used by a protocol
or an application.
<P>
We also don't want to save all the good stuff until
the end, so we describe TCP/IP applications as soon as we have
the foundation to understand them. Ping and Trace-route are described
after IP and ICMP have been discussed. The applications built
on UDP (multicasting, the DNS, TFTP,
and BOOTP) are described after UDP
has been examined. The TCP applications, however, along with network
management, must be saved until the end, after we've thoroughly
described TCP. This text focuses on how these applications use
the TCP/IP protocols. We do not provide all the details on running
these applications.

<H3>Readers</H3>

This book is self-contained and assumes no specific
knowledge of networking or TCP/IP. Numerous references are provided
for readers interested in additional details on specific topics.
<P>
This book can be used in many ways. It can be used
as a self-study reference and covered from start to finish by
someone interested in all the details on the TCP/IP protocol suite.
Readers with some TCP/IP background might want to skip ahead and
start with <a href="pingprog.htm#7_0" tppabs="http://www.uic.rnd.runnet.ru/doc/inet/tcp_stevens/pingprog.htm#7_0">Chapter 7</a>, and then focus on the specific chapters
in which they're interested. Exercises are provided at the end
of the chapters, and most solutions are in Appendix D.
This is to maximize the usefulness of the text as a self-study
reference.
<P>
When used as part of a one- or two-semester course
in computer networking, the focus should be on IP (<a href="ip_inter.htm#3_0" tppabs="http://www.uic.rnd.runnet.ru/doc/inet/tcp_stevens/ip_inter.htm#3_0">Chapters 3</a>
and <a href="ip_rout.htm#9_0" tppabs="http://www.uic.rnd.runnet.ru/doc/inet/tcp_stevens/ip_rout.htm#9_0">9</a>), UDP (<a href="udp_user.htm#11_0" tppabs="http://www.uic.rnd.runnet.ru/doc/inet/tcp_stevens/udp_user.htm#11_0">Chapter 11</a>), and TCP
(Chapters 17-24), along with some of the application chapters.
<P>
Many forward and backward references are provided
throughout the text, along with a thorough index, to allow individual
chapters to be studied by themselves. A list of all the acronyms
used throughout the text, along with the compound term for the
acronym, appears on the inside back covers.
<P>
If you have access to a network you are encouraged
to obtain the software used in this book (Appendix F)
and experiment on your own. Hands-on experimentation with the
protocols will provide the greatest knowledge (and make it more
fun).

<H3>Systems Used for Testing</H3>

Every example in the book was run on an actual network
and the resulting output saved in a file for inclusion in the text.
<a href="introduc.htm#fig_1_11" tppabs="http://www.uic.rnd.runnet.ru/doc/inet/tcp_stevens/introduc.htm#fig_1_11">Figure 1.11</a> shows a diagram of the different hosts,
routers, and networks that are used. (This figure is also duplicated
on the inside front cover for easy reference while reading the
book.) This collection of networks is simple enough that the topology
doesn't confuse the examples, and with four systems acting as
routers, we can see the error messages generated by routers.
<P>
Most of the systems have a name that indicates the
type of software being used:
<TT>bsdi</TT>,
<TT>svr4</TT>,
<TT>sun</TT>,
<TT>solaris</TT>,
<TT>aix</TT>,
<TT>slip</TT>,
and so on. In this way we can identify the type of
software that we're dealing with by looking at the system name in the printed output.
<P>
A wide range of different operating systems and TCP/IP implementations
are used:
<UL>
<LI>BSD/386 Version 1.0 from Berkeley Software Design,
Inc., on the hosts named <TT>bsdi</TT> and
<TT>slip</TT>. This system is derived from
the BSD Networking Software, Release 2.0.
(We show the lineage of the various BSD releases in <a href="introduc.htm#fig_1_10" tppabs="http://www.uic.rnd.runnet.ru/doc/inet/tcp_stevens/introduc.htm#fig_1_10">Figure 1.10</a>.)
<LI>Unix System V/386 Release 4.0 Version 2.0 from
U.H. Corporation, on the host named
<TT>svr4</TT>. This is vanilla SVR4 and contains
the standard implementation of TCP/IP from Lachman
Associates used with most versions of SVR4.
<LI>SunOS 4.1.3 from Sun Microsystems,
on the host named <TT>sun</TT>.
The SunOS 4.1.x systems are probably
the most widely used TCP/IP implementations. The TCP/IP code is
derived from 4.2BSD and 4.3BSD.
<LI>Solaris 2.2 from Sun Microsystems, on the host
named <TT>solaris</TT>. The Solaris 2.x systems
have a different implementation of TCP/IP from the earlier SunOS
4.1.x systems, and from SVR4. (This operating system is really
SunOS 5.2, but is commonly called Solaris 2.2.)
<LI>AIX 3.2.2 from IBM on the host named
<TT>aix</TT>.
The TCP/IP implementation is based on the 4.3BSD Reno
release.
<LI>4.4BSD from the Computer Systems Research Group
at the University of California at Berkeley, on the host
<TT>vangogh. cs.berkeley.edu</TT>.
This system has the latest release of TCP/IP from Berkeley. (This
system isn't shown in the figure on the inside front cover, but
is reachable across the Internet.)
</UL>
<P>
Although these are all Unix systems, TCP/IP is operating
system independent, and is available on almost every popular non-Unix
system. Most of this text also applies to these non-Unix implementations,
although some programs (such as Traceroute)
may not be provided on all systems.

<H3>Typographical Conventions</H3>

When we display interactive input and output we'll
show our typed input in a <TT><B>bold font</B></TT>,
and the computer output <TT>like this</TT>.
<I>Comments are added in italics.</I>
<TABLE>
<TR><TD WIDTH=300><TT>bsdi % <B>telnet svr4 discard</B>
<BR>
Trying 140.252.13.34...
<BR>
Connected to svr4.</TT>
</TD><TD WIDTH=400><I>connect to the discard server
<BR>
this line and next output by Telnet client</I>
</TD></TR>
</TABLE>
Also, we always include the name of the system as
part of the shell prompt (<TT>bsdi</TT> in
this example) to show on which host the command was run.
<P>
<FONT SIZE=-1>Throughout the text we'll use indented, parenthetical
notes such as this to describe historical points or implementation
details.</FONT>
<P>
We sometimes refer to the complete description of
a command in the Unix manual as in <TT>ifconfig</TT>(8).
This notation, the name of the command followed by a number in
parentheses, is the normal way of referring to Unix commands.
The number in parentheses is the section number in the Unix manual
of the &quot;manual page&quot; for the command, where additional
information can be located. Unfortunately not all Unix systems
organize their manuals the same, with regard to the section numbers
used for various groupings of commands. We'll use the BSD-style
section numbers (which is the same for BSD-derived
systems such as SunOS 4.1.3), but your manuals may be organized
differently.

<H3>Acknowledgments</H3>

Although the author's name is the only one to appear
on the cover, the combined effort of many people is required to
produce a quality text book. First and foremost is the author's
family, who put up with the long and weird hours that go into
writing a book. Thank you once again,
Sally, Bill, Ellen, and David.
<P>
The consulting editor, Brian Kernighan,
is undoubtedly the best in the business. He was the first one
to read various drafts of the manuscript and mark it up with his
infinite supply of red pens. His attention to detail, his continual
prodding for readable prose, and
his thorough reviews of the manuscript are an immense resource
to a writer.
<P>
Technical reviewers provide a different point of
view and keep the author honest by catching technical mistakes.
Their comments, suggestions, and (most importantly) criticisms
add greatly to the final product. My thanks to Steve Bellovin,
Jon Crowcroft, Pete Haverlock, and Doug Schmidt for comments on the entire
manuscript. Equally valuable comments were provided on portions
of the manuscript by Dave Borman, Tony DeSimone, Bob Gilligan,
Jeff Gitlin, John Gulbenkian, Tom Herbert, Mukesh Kacker,
Barry Margolin, Paul Mockapetris, Burr Nelson, Steve Rago,
James Risner, Chris Walquist, Phil Winterbottom,
and Gary Wright. A special thanks to Dave Borman for his thorough
review of all the TCP chapters, and to Bob Gilligan who should be listed
as a coauthor for Appendix E.
<P>
An author cannot work in isolation, so I would like
to thank the following persons for lots of small favors, especially
by answering my numerous e-mail questions: Joe Godsil,
Jim Hogue, Mike Karels, Paul Lucchina, Craig
Partridge, Thomas Skibo, and Jerry
Toporek.
<P>
This book is the result of my being asked lots of
questions on TCP/IP for which I could find no quick, immediate
answer. It was then that I realized that the easiest way to obtain
the answers was to run small tests, forcing certain conditions
to occur, and just watch what happens. I thank Pete Haverlock
for asking the probing questions and Van Jacobson
for providing so much of the publicly available software that
is used in this book to answer the questions.
<P>
A book on networking needs a real network to work
with along with access to the Internet. My thanks to the National
Optical Astronomy Observatories (NOAO),
especially Sidney Wolff, Richard
Wolff, and Steve Grandi,
for providing access to their networks and hosts. A special thanks
to Steve Grandi for answering lots of questions and providing
accounts on various hosts. My thanks also to Keith Bostic
and Kirk McKu-sick at the U.C.
Berkeley CSRG for access to the
latest 4.4BSD system.
<P>
Finally, it is the publisher that pulls everything
together and does whatever is required to deliver the final product
to the readers. This all revolves around the editor, and John
Wait is simply the best there is. Working with John and the rest
of the professionals at Addison-Wesley
is a pleasure. Their professionalism and attention to detail show
in the end result.
<P>
Camera-ready copy of the book was produced by the
author, a Troff die-hard, using
the Groff package written by James
Clark. I welcome electronic mail
from any readers with comments, suggestions, or bug fixes.
<P>
<I>Tucson, Arizona</I><BR>
<I>October 1993</I>
<P>
W. Richard <A NAME="OCRUncertain082">Stevens</A>
<BR>
<A NAME="OCRUncertain085"></A><A HREF="mailto:rstevens@noao.edu" >rstevens@noao.edu</A>
<BR>
<A HREF="javascript:if(confirm('http://www.noao.edu/~rstevens  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.noao.edu/%7Erstevens'" tppabs="http://www.noao.edu/%7Erstevens" >http://www.noao.edu/~rstevens</A>
</BODY>
</HTML>

