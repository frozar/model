%!PS-Adobe-3.0
%%Creator: groff version 1.10
%%CreationDate: Fri Mar 14 13:18:58 1997
%%DocumentNeededResources: font Times-Bold
%%+ font Times-Italic
%%+ font Times-Roman
%%+ font Courier
%%+ font Symbol
%%DocumentSuppliedResources: procset grops 1.10 0
%%Pages: 35
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.10 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
%%IncludeResource: font Times-Roman
%%IncludeResource: font Courier
%%IncludeResource: font Symbol
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Courier@0 ENC0/Courier RE/Times-Roman@0 ENC0/Times-Roman RE
/Times-Italic@0 ENC0/Times-Italic RE/Times-Bold@0 ENC0/Times-Bold RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 12/Times-Bold@0 SF(PMak)255.714 123 Q 3(e\212AT)-.12 G(utorial)
-4.104 E/F1 10/Times-Italic@0 SF(Adam de Boor)280.715 147 Q/F2 10
/Times-Roman@0 SF(Berk)269.92 165 Q(ele)-.1 E 2.5(yS)-.15 G(oftw)-2.5 E
(orks)-.1 E(2150 Shattuck A)248.66 177 Q -.15(ve)-.74 G 2.5(,P).15 G
(enthouse)-2.5 E(Berk)268.805 189 Q(ele)-.1 E 1.3 -.65(y, C)-.15 H 2.5
(A9).65 G(4704)-2.5 E(adam@bsw)272.825 201 Q(.uu.net)-.65 E
(...!uunet!bsw!adam)270.86 213 Q/F3 10/Times-Bold@0 SF 2.5(1. Intr)93.6
252.6 R(oduction)-.18 E F2(PMak)93.6 268.2 Q 3.074(ei)-.1 G 3.074(sap)
-3.074 G .574(rogram for creating other programs, or an)-3.074 F .575
(ything else you can think of for it to do.)-.15 F .575(The basic)5.575
F .524(idea behind PMak)93.6 280.2 R 3.024(ei)-.1 G 3.024(st)-3.024 G
.524(hat, for an)-3.024 F 3.024(yg)-.15 G -2.15 -.25(iv e)-3.024 H 3.024
(ns).25 G .523(ystem, be it a program or a document or whate)-3.024 F
-.15(ve)-.25 G 1.323 -.4(r, t).15 H .523(here will be).4 F 1.291
(some \214les that depend on the state of other \214les \(on when the)
93.6 292.2 R 3.791(yw)-.15 G 1.291(ere last modi\214ed\). PMak)-3.791 F
3.792(et)-.1 G(ak)-3.792 E 1.292(es these)-.1 F
(dependencies, which you must specify)93.6 304.2 Q 2.5(,a)-.65 G
(nd uses them to b)-2.5 E(uild whate)-.2 E -.15(ve)-.25 G 2.5(ri).15 G
2.5(ti)-2.5 G 2.5(sy)-2.5 G(ou w)-2.5 E(ant it to b)-.1 E(uild.)-.2 E
(PMak)93.6 319.8 Q 4.261(ei)-.1 G 4.261(sa)-4.261 G 1.761
(lmost fully-compatible with Mak)-4.261 F 1.761
(e, with which you may already be f)-.1 F(amiliar)-.1 E 4.26(.P)-.55 G
(Mak)-4.26 E(e')-.1 E 4.26(sm)-.55 G(ost)-4.26 E .073
(important feature is its ability to run se)93.6 331.8 R -.15(ve)-.25 G
.073(ral dif).15 F .074
(ferent jobs at once, making the creation of systems consider)-.25 F(-)
-.2 E .194(ably f)93.6 343.8 R(aster)-.1 E 2.694(.I)-.55 G 2.694(ta)
-2.694 G .194(lso has a great deal more functionality than Mak)-2.694 F
.193(e. Throughout the te)-.1 F .193(xt, whene)-.15 F -.15(ve)-.25 G
2.693(rs).15 G(omething)-2.693 E 1.077
(is mentioned that is an important dif)93.6 355.8 R 1.077
(ference between PMak)-.25 F 3.578(ea)-.1 G 1.078(nd Mak)-3.578 F 3.578
(e\()-.1 G 3.578(i.e. something)-3.578 F 1.078(that will cause a)3.578 F
(mak)93.6 367.8 Q .758(e\214le to f)-.1 F .758(ail if you don')-.1 F
3.258(td)-.18 G 3.258(os)-3.258 G .757(omething about it\), or is simpl\
y important, it will be \215agged with a little)-3.258 F
(sign in the left mar)93.6 379.8 Q(gin, lik)-.18 E 2.5(et)-.1 G(his:)
-2.5 E .005 LW 57.721 379.8 57.65 379.8 DL 57.771 379.85 57.721 379.8 DL
57.771 379.921 57.771 379.85 DL 57.721 379.971 57.771 379.921 DL 57.65
379.971 57.721 379.971 DL 57.6 379.921 57.65 379.971 DL 57.6 379.85 57.6
379.921 DL 57.65 379.8 57.6 379.85 DL 57.653 379.807 MT 140 .068 RL 0
.046 RL .046 0 RL .068 -.046 RL .046 -.068 RL 0 -.047 RL -.046 0 RL
-.068 .047 RL -.046 0 RL CL .003 LW ST/F4 6/Times-Roman@0 SF(NO)49.807
382.431 Q(TE)-.24 E F2 .566(This tutorial is di)93.6 395.4 R .566(vided\
 into three main sections corresponding to basic, intermediate and adv)
-.25 F .567(anced PMak)-.25 F(e)-.1 E 1.108(usage. If you already kno)
93.6 407.4 R 3.608(wM)-.25 G(ak)-3.608 E 3.608(ew)-.1 G 1.108
(ell, you will only need to skim chapter 2 \(there are some aspects of)
-3.608 F(PMak)93.6 419.4 Q 2.585(et)-.1 G .085
(hat I consider basic to its use that didn')-2.585 F 2.585(te)-.18 G
.085(xist in Mak)-2.735 F 2.585(e\). Things)-.1 F .085(in chapter 3 mak)
2.585 F 2.585(el)-.1 G .085(ife much easier)-2.585 F(,)-.4 E .481
(while those in chapter 4 are strictly for those who kno)93.6 431.4 R
2.98(ww)-.25 G .48(hat the)-2.98 F 2.98(ya)-.15 G .48
(re doing. Chapter 5 has de\214nitions for)-2.98 F .225(the jar)93.6
443.4 R .226(gon I use and chapter 6 contains possible solutions to the\
 problems presented throughout the tutorial.)-.18 F F3 2.5(2. The)93.6
467.4 R(Basics of PMak)2.5 E(e)-.1 E F2(PMak)93.6 483 Q 2.859(et)-.1 G
(ak)-2.859 E .359(es as input a \214le that tells a\) which \214les dep\
end on which other \214les to be complete and b\) what)-.1 F .683
(to do about \214les that are `)93.6 495 R(`out-of-date.)-.74 E 2.163
-.74('' T)-.7 H .683(his \214le is kno).74 F .684(wn as a `)-.25 F(`mak)
-.74 E(e\214le')-.1 E 3.184('a)-.74 G .684(nd is usually k)-3.184 F .684
(ept in the top-)-.1 F .859(most directory of the system to be b)93.6
507 R .859(uilt. While you can call the mak)-.2 F .859(e\214le an)-.1 F
.859(ything you w)-.15 F .858(ant, PMak)-.1 F 3.358(ew)-.1 G(ill)-3.358
E .758(look for)93.6 519 R/F5 10/Courier@0 SF(Makefile)3.258 E F2(and)
3.258 E F5(makefile)3.259 E F2 .759
(\(in that order\) in the current directory if you don')3.259 F 3.259
(tt)-.18 G .759(ell it otherwise.)-3.259 F 1.6 -.8(To s)93.6 531 T
(pecify a dif).8 E(ferent mak)-.25 E(e\214le, use the)-.1 E F3<ad66>2.5
E F2(\215ag \(e.g.)2.5 E -.74(``)5 G F5(pmake -f program.mk).74 E F2
-.74('')C(\).).74 E 2.5(Am)93.6 546.6 S(ak)-2.5 E(e\214le has four dif)
-.1 E(ferent types of lines in it:)-.25 E 6.5<8346>118.6 562.2 S
(ile dependenc)-6.5 E 2.5(ys)-.15 G(peci\214cations)-2.5 E 6.5<8343>
118.6 577.8 S(reation commands)-6.5 E 6.5<8356>118.6 593.4 S
(ariable assignments)-7.61 E 6.5<8343>118.6 609 S
(omments, include statements and conditional directi)-6.5 E -.15(ve)-.25
G(s).15 E(An)93.6 624.6 Q 3.73(yl)-.15 G 1.23(ine may be continued o)
-3.73 F -.15(ve)-.15 G 3.73(rm).15 G 1.23
(ultiple lines by ending it with a backslash.)-3.73 F 1.23
(The backslash, follo)6.23 F(wing)-.25 E(ne)93.6 636.6 Q .111
(wline and an)-.25 F 2.611(yi)-.15 G .111
(nitial whitespace on the follo)-2.611 F .111
(wing line are compressed into a single space before the input)-.25 F
(line is e)93.6 648.6 Q(xamined by PMak)-.15 E(e.)-.1 E 165.6 678.2 93.6
678.2 DL/F6 8/Times-Roman@0 SF .164(Permission to use, cop)93.6 690 R
1.204 -.52(y, m)-.08 H(odify).52 E 2.164(,a)-.52 G .164(nd distrib)
-2.164 F .164(ute this softw)-.16 F .163
(are and its documentation for an)-.08 F 2.163(yp)-.12 G .163
(urpose and without)-2.163 F .189(fee is hereby granted, pro)93.6 700 R
.189(vided that the abo)-.12 F .429 -.12(ve c)-.12 H(op).12 E .189
(yright notice appears in all copies.)-.08 F .19(The Uni)4.189 F -.12
(ve)-.2 G .19(rsity of Califor).12 F(-)-.16 E .614(nia, Berk)93.6 710 R
(ele)-.08 E 2.614(yS)-.12 G(oftw)-2.614 E .614
(orks, and Adam de Boor mak)-.08 F 2.614(en)-.08 G 2.614(or)-2.614 G
.614(epresentations about the suitability of this softw)-2.614 F .614
(are for)-.08 F(an)93.6 720 Q 2(yp)-.12 G 2(urpose. It)-2 F(is pro)2 E
(vided "as is" without e)-.12 E(xpress or implied w)-.12 E(arranty)-.08
E(.)-.52 E EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 305.33(PSD:12-2 PMak)93.6 48 R 2.5(e\212AT)-.1 G
(utorial)-2.95 E/F1 10/Times-Bold@0 SF 2.5(2.1. Dependency)93.6 84 R
(Lines)2.5 E F0 .316(As mentioned in the introduction, in an)93.6 99.6 R
2.816(ys)-.15 G .316
(ystem, there are dependencies between the \214les that mak)-2.816 F
2.815(eu)-.1 G 2.815(pt)-2.815 G(he)-2.815 E 3.241(system. F)93.6 111.6
R .741(or instance, in a program made up of se)-.15 F -.15(ve)-.25 G
.742(ral C source \214les and one header \214le, the C \214les will).15
F 1.496(need to be re-compiled should the header \214le be changed. F)
93.6 123.6 R 1.496(or a document of se)-.15 F -.15(ve)-.25 G 1.495
(ral chapters and one).15 F .46
(macro \214le, the chapters will need to be reprocessed if an)93.6 135.6
R 2.961(yo)-.15 G 2.961(ft)-2.961 G .461(he macros changes.)-2.961 F
.461(These are dependencies)5.461 F
(and are speci\214ed by means of dependenc)93.6 147.6 Q 2.5(yl)-.15 G
(ines in the mak)-2.5 E(e\214le.)-.1 E .115(On a dependenc)93.6 163.2 R
2.615(yl)-.15 G .115(ine, there are tar)-2.615 F .115
(gets and sources, separated by a one- or tw)-.18 F .114
(o-character operator)-.1 F 5.114(.T)-.55 G .114(he tar)-5.114 F(-)-.2 E
.442(gets `)93.6 175.2 R(`depend')-.74 E 2.943('o)-.74 G 2.943(nt)-2.943
G .443(he sources and are usually created from them.)-2.943 F(An)5.443 E
2.943(yn)-.15 G .443(umber of tar)-2.943 F .443(gets and sources may)
-.18 F .087(be speci\214ed on a dependenc)93.6 187.2 R 2.587(yl)-.15 G
2.587(ine. All)-2.587 F .087(the tar)2.587 F .086
(gets in the line are made to depend on all the sources.)-.18 F -.8(Ta)
5.086 G -.18(rg).8 G(ets).18 E .713
(and sources need not be actual \214les, b)93.6 199.2 R .713(ut e)-.2 F
-.15(ve)-.25 G .713
(ry source must be either an actual \214le or another tar).15 F .713
(get in the)-.18 F(mak)93.6 211.2 Q 2.5(e\214le. If)-.1 F(you run out o\
f room, use a backslash at the end of the line to continue onto the ne)
2.5 E(xt one.)-.15 E(An)93.6 226.8 Q 3.468<798c>-.15 G .968
(le may be a tar)-3.468 F .968(get and an)-.18 F 3.468<798c>-.15 G .967
(le may be a source, b)-3.468 F .967(ut the relationship between the tw)
-.2 F 3.467(o\()-.1 G .967(or ho)-3.467 F(we)-.25 E -.15(ve)-.25 G(r).15
E(man)93.6 238.8 Q .869(y\) is determined by the `)-.15 F(`operator')
-.74 E 3.369('t)-.74 G .869(hat separates them.)-3.369 F .87
(Three types of operators e)5.869 F .87(xist: one speci\214es)-.15 F .06
(that the datedness of a tar)93.6 250.8 R .06(get is determined by the \
state of its sources, while another speci\214es other \214les \(the)-.18
F .479(sources\) that need to be dealt with before the tar)93.6 262.8 R
.48(get can be re-created. The third operator is v)-.18 F .48
(ery similar to)-.15 F .155
(the \214rst, with the additional condition that the tar)93.6 274.8 R
.155(get is out-of-date if it has no sources. These operations are)-.18
F .265(represented by the colon, the e)93.6 286.8 R .265
(xclamation point and the double-colon, respecti)-.15 F -.15(ve)-.25 G
(ly).15 E 2.765(,a)-.65 G .265(nd are mutually e)-2.765 F(xclu-)-.15 E
(si)93.6 298.8 Q -.15(ve)-.25 G 2.5(.T).15 G(heir e)-2.5 E
(xact semantics are as follo)-.15 E(ws:)-.25 E 22.22(:I)93.6 314.4 S 2.5
(fac)-22.22 G(olon is used, a tar)-2.5 E
(get on the line is considered to be `)-.18 E(`out-of-date')-.74 E 2.5
('\()-.74 G(and in need of creation\) if)-2.5 E 6.5<8361>118.6 330 S .3
-.15(ny o)-6.5 H 2.5(ft).15 G
(he sources has been modi\214ed more recently than the tar)-2.5 E
(get, or)-.18 E 6.5<8374>118.6 345.6 S(he tar)-6.5 E(get doesn')-.18 E
2.5(te)-.18 G(xist.)-2.65 E .241
(Under this operation, steps will be tak)118.6 361.2 R .241
(en to re-create the tar)-.1 F .24
(get only if it is found to be out-of-date by)-.18 F(using these tw)
118.6 373.2 Q 2.5(or)-.1 G(ules.)-2.5 E 21.67(!I)93.6 388.8 S 2.87(fa)
-21.67 G 2.87(ne)-2.87 G .37(xclamation point is used, the tar)-3.02 F
.37(get will al)-.18 F -.1(wa)-.1 G .371(ys be re-created, b).1 F .371
(ut this will not happen until all)-.2 F(of its sources ha)118.6 400.8 Q
.3 -.15(ve b)-.2 H(een e).15 E(xamined and re-created, if necessary)-.15
E(.)-.65 E 16.94(:: If)93.6 416.4 R 2.5(ad)2.5 G
(ouble-colon is used, a tar)-2.5 E(get is out-of-date if:)-.18 E 6.5
<8361>118.6 432 S .3 -.15(ny o)-6.5 H 2.5(ft).15 G
(he sources has been modi\214ed more recently than the tar)-2.5 E
(get, or)-.18 E 6.5<8374>118.6 447.6 S(he tar)-6.5 E(get doesn')-.18 E
2.5(te)-.18 G(xist, or)-2.65 E 6.5<8374>118.6 463.2 S(he tar)-6.5 E
(get has no sources.)-.18 E 1.479(If the tar)118.6 478.8 R 1.479
(get is out-of-date according to these rules, it will be re-created.)
-.18 F 1.478(This operator also does)6.478 F(something else to the tar)
118.6 490.8 Q(gets, b)-.18 E(ut I')-.2 E(ll go into that in the ne)-.1 E
(xt section \(`)-.15 E(`Shell Commands')-.74 E('\).)-.74 E .918
(Enough w)93.6 506.4 R .918(ords, no)-.1 F 3.419(wf)-.25 G .919(or an e)
-3.419 F .919(xample. T)-.15 F(ak)-.8 E 3.419(et)-.1 G .919
(hat C program I mentioned earlier)-3.419 F 3.419(.S)-.55 G .919
(ay there are three C \214les)-3.419 F(\()93.6 518.4 Q/F2 10/Courier@0
SF(a.c)A F0(,)A F2(b.c)3.134 E F0(and)3.134 E F2(c.c)3.133 E F0 3.133
(\)e)C .633(ach of which includes the \214le)-3.133 F F2(defs.h)3.133 E
F0 5.633(.T)C .633(he dependencies between the \214les could)-5.633 F
(then be e)93.6 530.4 Q(xpressed as follo)-.15 E(ws:)-.25 E F2 48
(program :)129.6 548.4 R(a.o b.o c.o)6 E(a.o b.o c.o)129.6 560.4 Q 6(:d)
30 G(efs.h)-6 E 72(a.o :)129.6 572.4 R(a.c)6 E 72(b.o :)129.6 584.4 R
(b.c)6 E 72(c.o :)129.6 596.4 R(c.c)6 E F0 -1.1(Yo)93.6 618 S 2.88(um)
1.1 G .38(ay be w)-2.88 F .38(ondering at this point, where)-.1 F F2
(a.o)2.88 E F0(,)A F2(b.o)2.88 E F0(and)2.88 E F2(c.o)2.88 E F0 .38
(came in and wh)2.88 F(y)-.05 E/F3 10/Times-Italic@0 SF(the)2.88 E(y)-.3
E F0 .38(depend on)2.88 F F2(defs.h)2.88 E F0 .038
(and the C \214les don')93.6 630 R .038(t. The reason is quite simple:)
-.18 F F2(program)2.538 E F0 .038
(cannot be made by linking together .c \214les \212 it)2.538 F .302
(must be made from .o \214les. Lik)93.6 642 R -.25(ew)-.1 G .302
(ise, if you change).25 F F2(defs.h)2.802 E F0 2.802(,i)C 2.802(ti)
-2.802 G(sn')-2.802 E 2.802(tt)-.18 G .302
(he .c \214les that need to be re-created,)-2.802 F(it')93.6 654 Q 2.738
(st)-.55 G .238(he .o \214les.)-2.738 F .238
(If you think of dependencies in these terms \212 which \214les \(tar)
5.238 F .237(gets\) need to be created from)-.18 F
(which \214les \(sources\) \212 you should ha)93.6 666 Q .3 -.15(ve n)
-.2 H 2.5(op).15 G(roblems.)-2.5 E .328
(An important thing to notice about the abo)93.6 681.6 R .628 -.15
(ve ex)-.15 H .329(ample, is that all the .o \214les appear as tar).15 F
.329(gets on more than)-.18 F 1.098
(one line. This is perfectly all right: the tar)93.6 693.6 R 1.097
(get is made to depend on all the sources mentioned on all the)-.18 F
(dependenc)93.6 705.6 Q 2.5(yl)-.15 G(ines. E.g.)-2.5 E F2(a.o)5 E F0
(depends on both)2.5 E F2(defs.h)2.5 E F0(and)2.5 E F2(a.c)2.5 E F0(.)A
EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PMak)93.6 48 Q 2.5(e\212AT)-.1 G 305.33
(utorial PSD:12-3)-2.95 F .005 LW 57.721 84 57.65 84 DL 57.771 84.05
57.721 84 DL 57.771 84.121 57.771 84.05 DL 57.721 84.171 57.771 84.121
DL 57.65 84.171 57.721 84.171 DL 57.6 84.121 57.65 84.171 DL 57.6 84.05
57.6 84.121 DL 57.65 84 57.6 84.05 DL 57.653 84.007 MT 140 .068 RL 0
.046 RL .046 0 RL .068 -.046 RL .046 -.068 RL 0 -.047 RL -.046 0 RL
-.068 .047 RL -.046 0 RL CL .003 LW ST/F1 6/Times-Roman@0 SF(NO)49.807
86.631 Q(TE)-.24 E F0 .547(The order of the dependenc)93.6 87.6 R 3.048
(yl)-.15 G .548(ines in the mak)-3.048 F .548
(e\214le is important: the \214rst tar)-.1 F .548
(get on the \214rst dependenc)-.18 F 3.048(yl)-.15 G(ine)-3.048 E .064
(in the mak)93.6 99.6 R .063
(e\214le will be the one that gets made if you don')-.1 F 2.563(ts)-.18
G .063(ay otherwise.)-2.563 F(That')5.063 E 2.563(sw)-.55 G -.05(hy)
-2.563 G/F2 10/Courier@0 SF(program)2.613 E F0 .063(comes \214rst)2.563
F(in the e)93.6 111.6 Q(xample mak)-.15 E(e\214le, abo)-.1 E -.15(ve)
-.15 G(.).15 E .728(Both tar)93.6 127.2 R .729(gets and sources may con\
tain the standard C-Shell wildcard characters \()-.18 F F2({)A F0(,)A F2
(})3.229 E F0(,)A F2(*)3.229 E F0(,)A F2(?)3.229 E F0(,)A F2([)3.229 E
F0 3.229(,a)C(nd)-3.229 E F2(])3.229 E F0 .729(\), b)B(ut)-.2 E .624(th\
e non-curly-brace ones may only appear in the \214nal component \(the \
\214le portion\) of the tar)93.6 139.2 R .623(get or source.)-.18 F
(The characters mean the follo)93.6 151.2 Q(wing things:)-.25 E/F3 10
/Times-Bold@0 SF({})93.6 166.8 Q F0 .454(These enclose a comma-separate\
d list of options and cause the pattern to be e)17.12 F .454
(xpanded once for each)-.15 F 2.799(element of the list. Each e)118.6
178.8 R 2.799(xpansion contains a dif)-.15 F 2.799(ferent element. F)
-.25 F 2.799(or e)-.15 F(xample,)-.15 E F2(src/{whif-)5.299 E
(fle,beep,fish}.c)118.6 190.8 Q F0 -.15(ex)7.076 G 4.576
(pands to the three w).15 F(ords)-.1 E F2(src/whiffle.c)7.076 E F0(,)A
F2(src/beep.c)7.077 E F0 7.077(,a)C(nd)-7.077 E F2(src/fish.c)118.6
202.8 Q F0 5.617(.T)C .617(hese braces may be nested and, unlik)-5.617 F
3.117(et)-.1 G .617(he other wildcard characters, the resulting)-3.117 F
-.1(wo)118.6 214.8 S .936
(rds need not be actual \214les. All other wildcard characters are e).1
F .937(xpanded using the \214les that e)-.15 F(xist)-.15 E(when PMak)
118.6 226.8 Q 2.5(ei)-.1 G 2.5(ss)-2.5 G(tarted.)-2.5 E F3(*)93.6 242.4
Q F0 .307(This matches zero or more characters of an)20 F 2.807(ys)-.15
G(ort.)-2.807 E F2(src/*.c)5.306 E F0 .306(will e)2.806 F .306
(xpand to the same three w)-.15 F .306(ords as)-.1 F(abo)118.6 254.4 Q
.3 -.15(ve a)-.15 H 2.5(sl).15 G(ong as)-2.5 E F2(src)2.5 E F0
(contains those three \214les \(and no other \214les that end in)2.5 E
F2(.c)2.5 E F0(\).)A F3(?)93.6 270 Q F0(Matches an)20 E 2.5(ys)-.15 G
(ingle character)-2.5 E(.)-.55 E F3([])93.6 285.6 Q F0 .183(This is kno)
18.34 F .183(wn as a character class and contains either a list of sing\
le characters, or a series of charac-)-.25 F .848(ter ranges \()118.6
297.6 R F2(a-z)A F0 3.348(,f)C .848(or e)-3.348 F .848
(xample means all characters between a and z\), or both. It matches an)
-.15 F 3.347(ys)-.15 G(ingle)-3.347 E .84
(character contained in the list. E.g.)118.6 309.6 R F2([A-Za-z])5.84 E
F0 .84(will match all letters, while)3.34 F F2([0123456789])3.34 E F0
(will)3.34 E(match all numbers.)118.6 321.6 Q F3 2.5(2.2. Shell)93.6
345.6 R(Commands)2.5 E F0 -.74(``)93.6 361.2 S(Isn').74 E 2.923(tt)-.18
G .423(hat nice,)-2.923 F 1.903 -.74('' y)-.7 H .423
(ou say to yourself, `).74 F(`b)-.74 E .423(ut ho)-.2 F 2.923(wa)-.25 G
.423(re \214les actually `re-created,)-2.923 F 2.922('a)-.7 G 2.922(sh)
-2.922 G 2.922(el)-2.922 G(ik)-2.922 E .422(es to spell it?')-.1 F 5.422
('T)-.74 G(he)-5.422 E .978
(re-creation is accomplished by commands you place in the mak)93.6 373.2
R 3.479(e\214le. These)-.1 F .979(commands are passed to the)3.479 F
.334(Bourne shell \(better kno)93.6 385.2 R .334(wn as `)-.25 F
(`/bin/sh')-.74 E .334('\) to be e)-.74 F -.15(xe)-.15 G .333
(cuted and are e).15 F .333(xpected to do what')-.15 F 2.833(sn)-.55 G
.333(ecessary to update)-2.833 F(the tar)93.6 397.2 Q(get \214le \(PMak)
-.18 E 2.5(ed)-.1 G(oesn')-2.5 E 2.5(ta)-.18 G
(ctually check to see if the tar)-2.5 E(get w)-.18 E
(as created. It just assumes it')-.1 E 2.5(st)-.55 G(here\).)-2.5 E .015
(Shell commands in a mak)93.6 412.8 R .016(e\214le look a lot lik)-.1 F
2.516(es)-.1 G .016(hell commands you w)-2.516 F .016
(ould type at a terminal, with one impor)-.1 F(-)-.2 E(tant e)93.6 424.8
Q(xception: each command in a mak)-.15 E(e\214le)-.1 E/F4 10
/Times-Italic@0 SF(must)2.5 E F0(be preceded by at least one tab)2.5 E
(.)-.4 E .405(Each tar)93.6 440.4 R .405(get has associated with it a s\
hell script made up of one or more of these shell commands. The cre-)
-.18 F .308(ation script for a tar)93.6 452.4 R .309
(get should immediately follo)-.18 F 2.809(wt)-.25 G .309(he dependenc)
-2.809 F 2.809(yl)-.15 G .309(ine for that tar)-2.809 F .309
(get. While an)-.18 F 2.809(yg)-.15 G -2.15 -.25(iv e)-2.809 H 2.809(nt)
.25 G(ar)-2.809 E(-)-.2 E .224
(get may appear on more than one dependenc)93.6 464.4 R 2.724(yl)-.15 G
.224(ine, only one of these dependenc)-2.724 F 2.724(yl)-.15 G .224
(ines may be follo)-2.724 F .223(wed by)-.25 F 2.5(ac)93.6 476.4 S
(reation script, unless the `::' operator w)-2.5 E
(as used on the dependenc)-.1 E 2.5(yl)-.15 G(ine.)-2.5 E .005 LW 57.721
476.4 57.65 476.4 DL 57.771 476.45 57.721 476.4 DL 57.771 476.521 57.771
476.45 DL 57.721 476.571 57.771 476.521 DL 57.65 476.571 57.721 476.571
DL 57.6 476.521 57.65 476.571 DL 57.6 476.45 57.6 476.521 DL 57.65 476.4
57.6 476.45 DL 57.653 476.407 MT 140 .068 RL 0 .046 RL .046 0 RL .068
-.046 RL .046 -.068 RL 0 -.047 RL -.046 0 RL -.068 .047 RL -.046 0 RL CL
.003 LW ST F1(NO)49.807 479.031 Q(TE)-.24 E F0 .74
(If the double-colon w)93.6 492 R .74(as used, each dependenc)-.1 F 3.24
(yl)-.15 G .741(ine for the tar)-3.24 F .741(get may be follo)-.18 F
.741(wed by a shell script. That)-.25 F .151(script will only be e)93.6
504 R -.15(xe)-.15 G .151(cuted if the tar).15 F .151
(get on the associated dependenc)-.18 F 2.65(yl)-.15 G .15
(ine is out-of-date with respect to the)-2.65 F
(sources on that line, according to the rules I g)93.6 516 Q -2.25 -.2
(av e)-.05 H(earlier)2.7 E 5(.I)-.55 G -.1('l)-5 G 2.5(lg).1 G -2.15
-.25(iv e)-2.5 H(you a good e)2.75 E(xample of this later on.)-.15 E 1.6
-.8(To e)93.6 531.6 T(xpand on the earlier mak).65 E
(e\214le, you might add commands as follo)-.1 E(ws:)-.25 E F2 48
(program :)129.6 549.6 R(a.o b.o c.o)6 E(cc a.o b.o c.o \255o program)
177.6 561.6 Q(a.o b.o c.o)129.6 573.6 Q 6(:d)30 G(efs.h)-6 E 72(a.o :)
129.6 585.6 R(a.c)6 E(cc \255c a.c)177.6 597.6 Q 72(b.o :)129.6 609.6 R
(b.c)6 E(cc \255c b.c)177.6 621.6 Q 72(c.o :)129.6 633.6 R(c.c)6 E
(cc \255c c.c)177.6 645.6 Q F0 .65
(Something you should remember when writing a mak)93.6 667.2 R .651
(e\214le is, the commands will be e)-.1 F -.15(xe)-.15 G .651
(cuted if the).15 F F4(tar)3.151 E -.1(ge)-.37 G(t).1 E F0 .236
(on the dependenc)93.6 679.2 R 2.736(yl)-.15 G .236
(ine is out-of-date, not the sources.)-2.736 F .236(In this e)5.236 F
.236(xample, the command `)-.15 F(`)-.74 E F2 .236(cc \255c a.c)B F0
1.715 -.74('' w)D(ill).74 E .155(be e)93.6 691.2 R -.15(xe)-.15 G .155
(cuted if).15 F F2(a.o)2.655 E F0 .155
(is out-of-date. Because of the `:' operator)2.655 F 2.655(,t)-.4 G .155
(his means that should)-2.655 F F2(a.c)2.655 E F4(or)2.655 E F2(defs.h)
2.655 E F0(ha)2.655 E -.15(ve)-.2 G 1.351
(been modi\214ed more recently than)93.6 703.2 R F2(a.o)3.851 E F0 3.851
(,t)C 1.351(he command will be e)-3.851 F -.15(xe)-.15 G 1.35(cuted \()
.15 F F2(a.o)A F0 1.35(will be considered out-of-)3.85 F(date\).)93.6
715.2 Q EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 305.33(PSD:12-4 PMak)93.6 48 R 2.5(e\212AT)-.1 G
(utorial)-2.95 E .351(Remember ho)93.6 84 R 2.851(wIs)-.25 G .351
(aid the only dif)-2.851 F .351(ference between a mak)-.25 F .351
(e\214le shell command and a re)-.1 F .352(gular shell command)-.15 F
-.1(wa)93.6 96 S 3.563(st).1 G 1.063
(he leading tab? I lied. There is another w)-3.563 F 1.063
(ay in which mak)-.1 F 1.063(e\214le commands dif)-.1 F 1.063
(fer from re)-.25 F 1.062(gular ones.)-.15 F .052(The \214rst tw)93.6
108 R 2.553(oc)-.1 G .053
(haracters after the initial whitespace are treated specially)-2.553 F
5.053(.I)-.65 G 2.553(ft)-5.053 G(he)-2.553 E 2.553(ya)-.15 G .053
(re an)-2.553 F 2.553(yc)-.15 G .053(ombination of `@')-2.553 F
(and `\255', the)93.6 120 Q 2.5(yc)-.15 G(ause PMak)-2.5 E 2.5(et)-.1 G
2.5(od)-2.5 G 2.5(od)-2.5 G(if)-2.5 E(ferent things.)-.25 E .103
(In most cases, shell commands are printed before the)93.6 135.6 R(y')
-.15 E .103(re actually e)-.5 F -.15(xe)-.15 G .103(cuted. This is to k)
.15 F .103(eep you informed of)-.1 F(what')93.6 147.6 Q 2.727(sg)-.55 G
.227(oing on. If an `@' appears, ho)-2.727 F(we)-.25 E -.15(ve)-.25 G
1.027 -.4(r, t).15 H .227(his echoing is suppressed. In the case of an)
.4 F/F1 10/Courier@0 SF(echo)2.728 E F0(command,)2.728 E(say `)93.6
159.6 Q(`)-.74 E F1(echo Linking index)A F0 -.7(,')C 2.5('i)-.04 G 2.5
(tw)-2.5 G(ould be rather silly to see)-2.6 E F1(echo Linking index)
129.6 177.6 Q(Linking index)129.6 189.6 Q F0 .347(so PMak)93.6 211.2 R
2.847(ea)-.1 G(llo)-2.847 E .346
(ws you to place an `@' before the command \(`)-.25 F(`)-.74 E F1 .346
(@echo Linking index)B F0 -.74('')C 2.846(\)t).74 G 2.846(op)-2.846 G
(re)-2.846 E -.15(ve)-.25 G .346(nt the).15 F
(command from being printed.)93.6 223.2 Q .56
(The other special character is the `\255'. In case you didn')93.6 238.8
R 3.06(tk)-.18 G(no)-3.06 E 1.86 -.65(w, s)-.25 H .56
(hell commands \214nish with a certain `).65 F(`e)-.74 E(xit)-.15 E
(status.)93.6 250.8 Q 2.02 -.74('' T)-.7 H .54(his status is made a).74
F -.25(va)-.2 G .54(ilable by the operating system to whate).25 F -.15
(ve)-.25 G 3.04(rp).15 G .54(rogram in)-3.04 F -.2(vo)-.4 G -.1(ke).2 G
3.04(dt).1 G .54(he command.)-3.04 F .082
(Normally this status will be 0 if e)93.6 262.8 R -.15(ve)-.25 G .082
(rything went ok and non-zero if something went wrong. F).15 F .083
(or this reason,)-.15 F(PMak)93.6 274.8 Q 3.961(ew)-.1 G 1.461
(ill consider an error to ha)-3.961 F 1.761 -.15(ve o)-.2 H 1.46
(ccurred if one of the shells it in).15 F -.2(vo)-.4 G -.1(ke).2 G 3.96
(sr).1 G 1.46(eturns a non-zero status.)-3.96 F .427
(When it detects an error)93.6 286.8 R 2.927(,P)-.4 G(Mak)-2.927 E(e')
-.1 E 2.927(su)-.55 G .427(sual action is to abort whate)-2.927 F -.15
(ve)-.25 G 2.927(ri).15 G(t')-2.927 E 2.928(sd)-.55 G .428(oing and e)
-2.928 F .428(xit with a non-zero sta-)-.15 F 1.573(tus itself \(an)93.6
298.8 R 4.073(yo)-.15 G 1.573(ther tar)-4.073 F 1.572
(gets that were being created will continue being made, b)-.18 F 1.572
(ut nothing ne)-.2 F 4.072(ww)-.25 G 1.572(ill be)-4.072 F .302
(started. PMak)93.6 310.8 R 2.802(ew)-.1 G .302(ill e)-2.802 F .302
(xit after the last job \214nishes\).)-.15 F .302(This beha)5.302 F .302
(vior can be altered, ho)-.2 F(we)-.25 E -.15(ve)-.25 G 1.103 -.4(r, b)
.15 H 2.803(yp).4 G .303(lacing a `\255')-2.803 F 1.411
(at the front of a command \(`)93.6 322.8 R(`)-.74 E F1 1.411
(\255mv index index.old)B F0 -.74('')C 1.411
(\), certain command-line ar).74 F 1.41(guments, or doing)-.18 F 1.097
(other things, to be detailed later)93.6 334.8 R 3.598(.I)-.55 G 3.598
(ns)-3.598 G 1.098
(uch a case, the non-zero status is simply ignored and PMak)-3.598 F
3.598(ek)-.1 G(eeps)-3.698 E(chugging along.)93.6 346.8 Q .005 LW 57.721
346.8 57.65 346.8 DL 57.771 346.85 57.721 346.8 DL 57.771 346.921 57.771
346.85 DL 57.721 346.971 57.771 346.921 DL 57.65 346.971 57.721 346.971
DL 57.6 346.921 57.65 346.971 DL 57.6 346.85 57.6 346.921 DL 57.65 346.8
57.6 346.85 DL 57.653 346.807 MT 140 .068 RL 0 .046 RL .046 0 RL .068
-.046 RL .046 -.068 RL 0 -.047 RL -.046 0 RL -.068 .047 RL -.046 0 RL CL
.003 LW ST/F2 6/Times-Roman@0 SF(NO)49.807 349.431 Q(TE)-.24 E F0 1.533
(Because all the commands are gi)93.6 362.4 R -.15(ve)-.25 G 4.033(nt)
.15 G 4.033(oas)-4.033 G 1.533(ingle shell to e)-4.033 F -.15(xe)-.15 G
1.533(cute, such things as setting shell v).15 F(ariables,)-.25 E .788
(changing directories, etc., last be)93.6 374.4 R .788
(yond the command in which the)-.15 F 3.288(ya)-.15 G .788
(re found. This also allo)-3.288 F .789(ws shell com-)-.25 F .523
(pound commands \(lik)93.6 386.4 R(e)-.1 E F1(for)3.023 E F0 .522
(loops\) to be entered in a natural manner)3.023 F 5.522(.S)-.55 G .522
(ince this could cause problems for)-5.522 F .921(some mak)93.6 398.4 R
.921(e\214les that depend on each command being e)-.1 F -.15(xe)-.15 G
.921(cuted by a single shell, PMak).15 F 3.421(eh)-.1 G .921(as a)-3.421
F/F3 10/Times-Bold@0 SF<ad42>3.421 E F0 .922(\215ag \(it)3.422 F 1.152
(stands for backw)93.6 410.4 R 1.152
(ards-compatible\) that forces each command to be gi)-.1 F -.15(ve)-.25
G 3.652(nt).15 G 3.652(oas)-3.652 G 1.152(eparate shell. It also does)
-3.652 F(se)93.6 422.4 Q -.15(ve)-.25 G
(ral other things, all of which I discourage since the).15 E 2.5(ya)-.15
G(re no)-2.5 E 2.5(wo)-.25 G(ld-f)-2.5 E -.834(ashioned. . . .)-.1 F
.005 LW 57.721 422.4 57.65 422.4 DL 57.771 422.45 57.721 422.4 DL 57.771
422.521 57.771 422.45 DL 57.721 422.571 57.771 422.521 DL 57.65 422.571
57.721 422.571 DL 57.6 422.521 57.65 422.571 DL 57.6 422.45 57.6 422.521
DL 57.65 422.4 57.6 422.45 DL 57.653 422.407 MT 140 .068 RL 0 .046 RL
.046 0 RL .068 -.046 RL .046 -.068 RL 0 -.047 RL -.046 0 RL -.068 .047
RL -.046 0 RL CL .003 LW ST F2(NO)49.807 425.031 Q(TE)-.24 E F0 3.237
(At)93.6 438 S(ar)-3.237 E(get')-.18 E 3.237(ss)-.55 G .738
(hell script is fed to the shell on its \(the shell')-3.237 F .738
(s\) input stream.)-.55 F .738(This means that an)5.738 F 3.238(yc)-.15
G(ommands,)-3.238 E .408(such as)93.6 450 R F1(ci)2.908 E F0 .408
(that need to get input from the terminal w)2.908 F(on')-.1 E 2.908(tw)
-.18 G .408(ork right \212 the)-3.008 F(y')-.15 E .408
(ll get the shell')-.1 F 2.908(si)-.55 G .408(nput, some-)-2.908 F
(thing the)93.6 462 Q 2.5(yp)-.15 G(robably w)-2.5 E(on')-.1 E 2.5<748c>
-.18 G(nd to their liking. A simple w)-2.5 E(ay around this is to gi)-.1
E .3 -.15(ve a c)-.25 H(ommand lik).15 E 2.5(et)-.1 G(his:)-2.5 E F1
(ci $\(SRCS\) < /dev/tty)129.6 480 Q F0 .284(This w)93.6 498 R .284
(ould force the program')-.1 F 2.784(si)-.55 G .284
(nput to come from the terminal. If you can')-2.784 F 2.784(td)-.18 G
2.784(ot)-2.784 G .285(his for some reason, your)-2.784 F
(only other alternati)93.6 510 Q .3 -.15(ve i)-.25 H 2.5(st).15 G 2.5
(ou)-2.5 G(se PMak)-2.5 E 2.5(ei)-.1 G 2.5(ni)-2.5 G
(ts fullest compatibility mode. See)-2.5 E F3(Compatibility)2.5 E F0
(in chapter 4.)2.5 E F3 2.5(2.3. V)93.6 537.6 R(ariables)-.92 E F0(PMak)
93.6 553.2 Q .195(e, lik)-.1 F 2.695(eM)-.1 G(ak)-2.695 E 2.695(eb)-.1 G
.194(efore it, has the ability to sa)-2.695 F .494 -.15(ve t)-.2 H -.15
(ex).15 G 2.694(ti).15 G 2.694(nv)-2.694 G .194
(ariables to be recalled later at your con)-2.944 F -.15(ve)-.4 G
(nience.).15 E -1.11(Va)93.6 565.2 S .305(riables in PMak)1.11 F 2.805
(ea)-.1 G .305(re used much lik)-2.805 F 2.805(ev)-.1 G .306
(ariables in the shell and, by tradition, consist of all upper)-3.055 F
.306(-case let-)-.2 F .28(ters \(you don')93.6 577.2 R(t)-.18 E/F4 10
/Times-Italic@0 SF(have)2.78 E F0 .28(to use all upper)2.78 F .28
(-case letters.)-.2 F .279(In f)5.28 F .279(act there')-.1 F 2.779(sn)
-.55 G .279(othing to stop you from calling a v)-2.779 F(ariable)-.25 E
F1(@^&$%$)93.6 589.2 Q F0 5(.J)C(ust tradition\). V)-5 E
(ariables are assigned-to using lines of the form)-1.11 E F1
(VARIABLE = value)129.6 607.2 Q F0(appended-to by)93.6 625.2 Q F1
(VARIABLE += value)129.6 643.2 Q F0
(conditionally assigned-to \(if the v)93.6 661.2 Q(ariable isn')-.25 E
2.5(ta)-.18 G(lready de\214ned\) by)-2.5 E F1(VARIABLE ?= value)129.6
679.2 Q F0 .96(and assigned-to with e)93.6 697.2 R .96
(xpansion \(i.e. the v)-.15 F .96(alue is e)-.25 F .96
(xpanded \(see belo)-.15 F .96(w\) before being assigned to the v)-.25 F
(ari-)-.25 E(able\212useful for placing a v)93.6 709.2 Q(alue at the be)
-.25 E(ginning of a v)-.15 E(ariable, or other things\) by)-.25 E EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PMak)93.6 48 Q 2.5(e\212AT)-.1 G 305.33
(utorial PSD:12-5)-2.95 F/F1 10/Courier@0 SF(VARIABLE := value)129.6 84
Q F0(An)93.6 105.6 Q 2.875(yw)-.15 G .375(hitespace before)-2.875 F/F2
10/Times-Italic@0 SF(value)2.875 E F0 .375(is stripped of)2.875 F .375
(f. When appending, a space is placed between the old v)-.25 F .374
(alue and)-.25 F(the stuf)93.6 117.6 Q 2.5(fb)-.25 G(eing appended.)-2.5
E(The \214nal w)93.6 133.2 Q(ay a v)-.1 E
(ariable may be assigned to is using)-.25 E F1
(VARIABLE != shell-command)129.6 151.2 Q F0 1.94(In this case,)93.6
169.2 R F2(shell-command)4.44 E F0 1.94(has all its v)4.44 F 1.94
(ariables e)-.25 F 1.94(xpanded \(see belo)-.15 F 1.94
(w\) and is passed of)-.25 F 4.44(ft)-.25 G 4.44(oas)-4.44 G 1.94
(hell to)-4.44 F -.15(exe)93.6 181.2 S .701
(cute. The output of the shell is then placed in the v).15 F .7
(ariable. An)-.25 F 3.2(yn)-.15 G -.25(ew)-3.2 G .7
(lines \(other than the \214nal one\) are).25 F .501(replaced by spaces\
 before the assignment is made. This is typically used to \214nd the cu\
rrent directory via a)93.6 193.2 R(line lik)93.6 205.2 Q(e:)-.1 E F1 72
(CWD !=)129.6 223.2 R(pwd)6 E/F3 10/Times-Bold@0 SF(Note:)93.6 244.8 Q
F0 .259(this is intended to be used to e)2.759 F -.15(xe)-.15 G .259
(cute commands that produce small amounts of output \(e.g. `).15 F
(`pwd')-.74 E('\).)-.74 E 1.033
(The implementation is less than intelligent and will lik)93.6 256.8 R
1.033(ely freeze if you e)-.1 F -.15(xe)-.15 G 1.034
(cute something that produces).15 F
(thousands of bytes of output \(8 Kb is the limit on man)93.6 268.8 Q
2.5(yU)-.15 G(NIX systems\).)-2.5 E .337(The v)93.6 284.4 R .336
(alue of a v)-.25 F .336(ariable may be retrie)-.25 F -.15(ve)-.25 G
2.836(db).15 G 2.836(ye)-2.836 G .336(nclosing the v)-2.836 F .336
(ariable name in parentheses or curly braces and)-.25 F
(preceeding the whole thing with a dollar sign.)93.6 296.4 Q -.15(Fo)
93.6 312 S 2.861(re).15 G .361(xample, to set the v)-3.011 F .361
(ariable CFLA)-.25 F .362(GS to the string `)-.4 F(`)-.74 E F1 .362
(\255I/sprite/src/lib/libc \255O)B F0 -.7(,')C 2.862('y)-.04 G .362
(ou w)-2.862 F(ould)-.1 E(place a line)93.6 324 Q F1
(CFLAGS = \255I/sprite/src/lib/libc \255O)129.6 342 Q F0 8.01
(in the mak)93.6 360 R 8.009(e\214le and use the w)-.1 F(ord)-.1 E F1
($\(CFLAGS\))10.509 E F0(where)10.509 E -.15(ve)-.25 G 10.509(ry).15 G
8.009(ou w)-10.509 F 8.009(ould lik)-.1 F 10.509(et)-.1 G 8.009
(he string)-10.509 F F1(\255I/sprite/src/lib/libc \255O)93.6 372 Q F0
(to appear)2.5 E 2.5(.T)-.55 G(his is called v)-2.5 E(ariable e)-.25 E
(xpansion.)-.15 E .005 LW 57.721 372 57.65 372 DL 57.771 372.05 57.721
372 DL 57.771 372.121 57.771 372.05 DL 57.721 372.171 57.771 372.121 DL
57.65 372.171 57.721 372.171 DL 57.6 372.121 57.65 372.171 DL 57.6
372.05 57.6 372.121 DL 57.65 372 57.6 372.05 DL 57.653 372.007 MT 140
.068 RL 0 .046 RL .046 0 RL .068 -.046 RL .046 -.068 RL 0 -.047 RL -.046
0 RL -.068 .047 RL -.046 0 RL CL .003 LW ST/F4 6/Times-Roman@0 SF(NO)
49.807 374.631 Q(TE)-.24 E F0(Unlik)93.6 387.6 Q 2.531(eM)-.1 G(ak)
-2.531 E .031(e, PMak)-.1 F 2.531(ew)-.1 G .031(ill not e)-2.531 F .031
(xpand a v)-.15 F .031(ariable unless it kno)-.25 F .031(ws the v)-.25 F
.031(ariable e)-.25 F .031(xists. E.g. if you ha)-.15 F .331 -.15(ve a)
-.2 H F1(${i})2.682 E F0 .735(in a shell command and you ha)93.6 399.6 R
1.035 -.15(ve n)-.2 H .735(ot assigned a v).15 F .734(alue to the v)-.25
F(ariable)-.25 E F1(i)3.234 E F0 .734
(\(the empty string is considered a)3.234 F -.25(va)93.6 411.6 S 1.646
(lue, by the w).25 F 1.647(ay\), where Mak)-.1 F 4.147(ew)-.1 G 1.647
(ould ha)-4.247 F 1.947 -.15(ve s)-.2 H 1.647
(ubstituted the empty string, PMak).15 F 4.147(ew)-.1 G 1.647(ill lea)
-4.147 F 1.947 -.15(ve t)-.2 H(he).15 E F1(${i})4.147 E F0 2.678
(alone. T)93.6 423.6 R 2.677(ok)-.8 G .177(eep PMak)-2.777 F 2.677(ef)
-.1 G .177(rom substituting for a v)-2.677 F .177(ariable it kno)-.25 F
.177(ws, precede the dollar sign with another dollar)-.25 F 2.91
(sign. \(e.g.)93.6 435.6 R .41(to pass)2.91 F F1(${HOME})2.91 E F0 .41
(to the shell, use)2.91 F F1($${HOME})2.91 E F0 2.91(\). This)B .41
(causes PMak)2.91 F .41(e, in ef)-.1 F .41(fect, to e)-.25 F .41
(xpand the)-.15 F F1($)2.91 E F0 .621(macro, which e)93.6 447.6 R .621
(xpands to a single)-.15 F F1($)3.121 E F0 5.621(.F)C .621
(or compatibility)-5.771 F 3.121(,M)-.65 G(ak)-3.121 E(e')-.1 E 3.121
(ss)-.55 G .62(tyle of v)-3.121 F .62(ariable e)-.25 F .62
(xpansion will be used if)-.15 F .344(you in)93.6 459.6 R -.2(vo)-.4 G
.544 -.1(ke P).2 H(Mak).1 E 2.844(ew)-.1 G .344(ith an)-2.844 F 2.844
(yo)-.15 G 2.845(ft)-2.844 G .345(he compatibility \215ags \()-2.845 F
F3<ad56>A F0(,)A F3<ad42>2.845 E F0(or)2.845 E F3<ad4d>2.845 E F0 5.345
(.T)C(he)-5.345 E F3<ad56>2.845 E F0 .345(\215ag alters just the v)2.845
F(ariable)-.25 E -.15(ex)93.6 471.6 S(pansion\).).15 E 1.349
(There are tw)93.6 487.2 R 3.849(od)-.1 G(if)-3.849 E 1.349
(ferent times at which v)-.25 F 1.349(ariable e)-.25 F 1.348
(xpansion occurs: When parsing a dependenc)-.15 F 3.848(yl)-.15 G 1.348
(ine, the)-3.848 F -.15(ex)93.6 499.2 S 1.128
(pansion occurs immediately upon reading the line. If an).15 F 3.629(yv)
-.15 G 1.129(ariable used on a dependenc)-3.879 F 3.629(yl)-.15 G 1.129
(ine is unde-)-3.629 F .207(\214ned, PMak)93.6 511.2 R 2.707(ew)-.1 G
.206(ill print a message and e)-2.707 F 2.706(xit. V)-.15 F .206
(ariables in shell commands are e)-1.11 F .206(xpanded when the command)
-.15 F .735(is e)93.6 523.2 R -.15(xe)-.15 G 3.235(cuted. V).15 F .735
(ariables used inside another v)-1.11 F .735(ariable are e)-.25 F .735
(xpanded whene)-.15 F -.15(ve)-.25 G 3.235(rt).15 G .735(he outer v)
-3.235 F .735(ariable is e)-.25 F(xpanded)-.15 E .341(\(the e)93.6 535.2
R .341(xpansion of an inner v)-.15 F .341(ariable has no ef)-.25 F .341
(fect on the outer v)-.25 F .34(ariable. I.e. if the outer v)-.25 F .34
(ariable is used on a)-.25 F(dependenc)93.6 547.2 Q 3.418(yl)-.15 G .919
(ine and in a shell command, and the inner v)-3.418 F .919
(ariable changes v)-.25 F .919(alue between when the depen-)-.25 F(denc)
93.6 559.2 Q 2.936(yl)-.15 G .436
(ine is read and the shell command is e)-2.936 F -.15(xe)-.15 G .436
(cuted, tw).15 F 2.935(od)-.1 G(if)-2.935 E .435(ferent v)-.25 F .435
(alues will be substituted for the outer)-.25 F -.25(va)93.6 571.2 S
(riable\).).25 E -1.11(Va)93.6 586.8 S .081(riables come in four \215a)
1.11 F -.2(vo)-.2 G .081(rs, though the).2 F 2.581(ya)-.15 G .081
(re all e)-2.581 F .082
(xpanded the same and all look about the same. The)-.15 F 2.582(ya)-.15
G(re)-2.582 E(\(in order of e)93.6 598.8 Q(xpanding scope\):)-.15 E 6.5
<834c>118.6 614.4 S(ocal v)-6.5 E(ariables.)-.25 E 6.5<8343>118.6 630 S
(ommand-line v)-6.5 E(ariables.)-.25 E 6.5<8347>118.6 645.6 S(lobal v)
-6.5 E(ariables.)-.25 E 6.5<8345>118.6 661.2 S -.4(nv)-6.5 G(ironment v)
.4 E(ariables.)-.25 E .116(The classi\214cation of v)93.6 676.8 R .116
(ariables doesn')-.25 F 2.616(tm)-.18 G .116(atter much, e)-2.616 F .115
(xcept that the classes are searched from the top \(local\))-.15 F
(to the bottom \(en)93.6 688.8 Q(vironment\) when looking up a v)-.4 E
(ariable. The \214rst one found wins.)-.25 E EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 305.33(PSD:12-6 PMak)93.6 48 R 2.5(e\212AT)-.1 G
(utorial)-2.95 E/F1 10/Times-Bold@0 SF 2.5(2.3.1. Local)93.6 84 R -.92
(Va)2.5 G(riables).92 E F0 .86(Each tar)93.6 99.6 R .86(get can ha)-.18
F 1.16 -.15(ve a)-.2 H 3.36(sm).15 G(an)-3.36 E 3.36(ya)-.15 G 3.36(ss)
-3.36 G -2.15 -.25(ev e)-3.36 H 3.36(nl).25 G .86(ocal v)-3.36 F .86
(ariables. These are v)-.25 F .86(ariables that are only `)-.25 F
(`visible')-.74 E 3.36('w)-.74 G(ithin)-3.36 E .595(that tar)93.6 111.6
R(get')-.18 E 3.095(ss)-.55 G .595
(hell script and contain such things as the tar)-3.095 F(get')-.18 E
3.095(sn)-.55 G .594(ame, all of its sources \(from all its depen-)
-3.095 F(denc)93.6 123.6 Q 2.981(yl)-.15 G .482
(ines\), those sources that were out-of-date, etc.)-2.981 F -.15(Fo)
5.482 G .482(ur local v).15 F .482(ariables are de\214ned for all tar)
-.25 F .482(gets. The)-.18 F(y)-.15 E(are:)93.6 135.6 Q(.T)118.6 151.2 Q
(ARGET)-.93 E(The name of the tar)143.6 163.2 Q(get.)-.18 E(.OOD)118.6
178.8 Q -1.11(AT)-.4 G(E)1.11 E .705
(The list of the sources for the tar)143.6 190.8 R .705
(get that were considered out-of-date.)-.18 F .704
(The order in the list is)5.705 F(not guaranteed to be the same as the \
order in which the dependencies were gi)143.6 202.8 Q -.15(ve)-.25 G(n.)
.15 E(.ALLSRC)118.6 218.4 Q(The list of all sources for this tar)143.6
230.4 Q(get in the order in which the)-.18 E 2.5(yw)-.15 G(ere gi)-2.5 E
-.15(ve)-.25 G(n.).15 E(.PREFIX)118.6 246 Q 5.983(The tar)143.6 258 R
5.984(get without its suf)-.18 F 5.984(\214x and without an)-.25 F 8.484
(yl)-.15 G 5.984(eading path. E.g. for the tar)-8.484 F(get)-.18 E/F2 10
/Courier@0 SF(../../lib/compat/fsRead.c)143.6 270 Q F0 2.5(,t)C(his v)
-2.5 E(ariable w)-.25 E(ould contain)-.1 E F2(fsRead)2.5 E F0(.)A 2.06
(Three other local v)93.6 285.6 R 2.059
(ariables are set only for certain tar)-.25 F 2.059
(gets under special circumstances. These are the)-.18 F -.74(``)93.6
297.6 S(.IMPSRC,).74 E 3.135 -.74('' ``)-.7 H(.ARCHIVE,).74 E 3.135 -.74
('' a)-.7 H 1.655(nd `).74 F(`.MEMBER')-.74 E 4.155('v)-.74 G 1.655
(ariables. When the)-4.405 F 4.155(ya)-.15 G 1.655(re set and ho)-4.155
F 4.155(wt)-.25 G(he)-4.155 E 4.155(ya)-.15 G 1.655(re used is)-4.155 F
(described later)93.6 309.6 Q(.)-.55 E -.15(Fo)93.6 325.2 S .422
(ur of these v).15 F .421
(ariables may be used in sources as well as in shell scripts.)-.25 F
.421(These are `)5.421 F(`.T)-.74 E(ARGET')-.93 E .421(', `)-.74 F
(`.PRE-)-.74 E(FIX')93.6 337.2 Q .223(', `)-.74 F(`.ARCHIVE')-.74 E
2.723('a)-.74 G .223(nd `)-2.723 F(`.MEMBER')-.74 E .223('. The v)-.74 F
.223(ariables in the sources are e)-.25 F .224
(xpanded once for each tar)-.15 F .224(get on)-.18 F 1.605
(the dependenc)93.6 349.2 R 4.105(yl)-.15 G 1.605(ine, pro)-4.105 F
1.605(viding what is kno)-.15 F 1.605(wn as a `)-.25 F 1.605
(`dynamic source,)-.74 F 3.084 -.74('' a)-.7 H(llo).74 E 1.604
(wing you to specify se)-.25 F -.15(ve)-.25 G(ral).15 E(dependenc)93.6
361.2 Q 2.5(yl)-.15 G(ines at once. F)-2.5 E(or e)-.15 E(xample,)-.15 E
F2 48($\(OBJS\) :)129.6 379.2 R($\(.PREFIX\).c)6 E F0
(will create a dependenc)93.6 397.2 Q 2.5(yb)-.15 G
(etween each object \214le and its corresponding C source \214le.)-2.5 E
F1 2.5(2.3.2. Command-line)93.6 421.2 R -.92(Va)2.5 G(riables).92 E F0
.391(Command-line v)93.6 436.8 R .391(ariables are set when PMak)-.25 F
2.892(ei)-.1 G 2.892<738c>-2.892 G .392(rst in)-2.892 F -.2(vo)-.4 G -.1
(ke).2 G 2.892(db).1 G 2.892(yg)-2.892 G -.25(iv)-2.892 G .392(ing a v)
.25 F .392(ariable assignment as one of the)-.25 F(ar)93.6 448.8 Q
(guments. F)-.18 E(or e)-.15 E(xample,)-.15 E F2
(pmake "CFLAGS = -I/sprite/src/lib/libc -O")129.6 466.8 Q F0 -.1(wo)93.6
484.8 S .029(uld mak).1 F(e)-.1 E F2(CFLAGS)2.529 E F0 .029
(be a command-line v)2.529 F .029(ariable with the gi)-.25 F -.15(ve)
-.25 G 2.529(nv).15 G .029(alue. An)-2.779 F 2.529(ya)-.15 G .028
(ssignments to)-2.529 F F2(CFLAGS)2.528 E F0 .028(in the)2.528 F(mak)
93.6 496.8 Q .583(e\214le will ha)-.1 F .883 -.15(ve n)-.2 H 3.083(oe)
.15 G -.25(ff)-3.083 G .584(ect, because once it is set, there is \(alm\
ost\) nothing you can do to change a com-).25 F .926(mand-line v)93.6
508.8 R .926(ariable \(the search order)-.25 F 3.426(,y)-.4 G .926
(ou see\). Command-line v)-3.426 F .925(ariables may be set using an)
-.25 F 3.425(yo)-.15 G 3.425(ft)-3.425 G .925(he four)-3.425 F .603
(assignment operators, though only)93.6 520.8 R F2(=)3.103 E F0(and)
3.103 E F2(?=)3.103 E F0(beha)3.103 E .903 -.15(ve a)-.2 H 3.103(sy).15
G .603(ou w)-3.103 F .603(ould e)-.1 F .603
(xpect them to, mostly because assign-)-.15 F .099
(ments to command-line v)93.6 532.8 R .099
(ariables are performed before the mak)-.25 F .099
(e\214le is read, thus the v)-.1 F .098(alues set in the mak)-.25 F(e-)
-.1 E .29(\214le are una)93.6 544.8 R -.25(va)-.2 G .291
(ilable at the time.).25 F F2(+=)5.291 E F0 .291(is the same as)2.791 F
F2(=)2.791 E F0 2.791(,b)C .291(ecause the old v)-2.791 F .291
(alue of the v)-.25 F .291(ariable is sought only in)-.25 F .435
(the scope in which the assignment is taking place \(for reasons of ef)
93.6 556.8 R(\214cienc)-.25 E 2.935(yt)-.15 G .435(hat I w)-2.935 F(on')
-.1 E 2.934(tg)-.18 G .434(et into here\).)-2.934 F F2(:=)5.434 E F0
(and)93.6 568.8 Q F2(?=)2.931 E F0 .432(will w)2.931 F .432
(ork if the only v)-.1 F .432(ariables used are in the en)-.25 F
(vironment.)-.4 E F2(!=)5.432 E F0 .432
(is sort of pointless to use from the)2.932 F .351
(command line, since the same ef)93.6 580.8 R .351
(fect can no doubt be accomplished using the shell')-.25 F 2.85(so)-.55
G .35(wn command substi-)-3.1 F
(tution mechanisms \(backquotes and all that\).)93.6 592.8 Q F1 2.5
(2.3.3. Global)93.6 616.8 R -.92(Va)2.5 G(riables).92 E F0 1.077
(Global v)93.6 632.4 R 1.077
(ariables are those set or appended-to in the mak)-.25 F 3.578
(e\214le. There)-.1 F 1.078(are tw)3.578 F 3.578(oc)-.1 G 1.078
(lasses of global v)-3.578 F(ariables:)-.25 E .013
(those you set and those PMak)93.6 644.4 R 2.513(es)-.1 G 2.512(ets. As)
-2.513 F 2.512(Is)2.512 G .012(aid before, the ones you set can ha)
-2.512 F .312 -.15(ve a)-.2 H .312 -.15(ny n).15 H .012(ame you w).15 F
.012(ant them to)-.1 F(ha)93.6 656.4 Q -.15(ve)-.2 G 3.864(,e).15 G
1.364(xcept the)-4.014 F 3.864(ym)-.15 G 1.364
(ay not contain a colon or an e)-3.864 F 1.365(xclamation point.)-.15 F
1.365(The v)6.365 F 1.365(ariables PMak)-.25 F 3.865(es)-.1 G 1.365
(ets \(almost\))-3.865 F(al)93.6 668.4 Q -.1(wa)-.1 G(ys be).1 E
(gin with a period and al)-.15 E -.1(wa)-.1 G(ys contain upper).1 E
(-case letters, only)-.2 E 2.5(.T)-.65 G(he v)-2.5 E
(ariables are as follo)-.25 E(ws:)-.25 E(.PMAKE)118.6 684 Q .47
(The name by which PMak)143.6 696 R 2.97(ew)-.1 G .469(as in)-3.07 F -.2
(vo)-.4 G -.1(ke).2 G 2.969(di).1 G 2.969(ss)-2.969 G .469
(tored in this v)-2.969 F .469(ariable. F)-.25 F .469(or compatibility)
-.15 F 2.969(,t)-.65 G .469(he name)-2.969 F
(is also stored in the MAKE v)143.6 708 Q(ariable.)-.25 E EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PMak)93.6 48 Q 2.5(e\212AT)-.1 G 305.33
(utorial PSD:12-7)-2.95 F(.MAKEFLA)118.6 84 Q(GS)-.4 E .5(All the rele)
143.6 96 R -.25(va)-.25 G .5(nt \215ags with which PMak).25 F 3.001(ew)
-.1 G .501(as in)-3.101 F -.2(vo)-.4 G -.1(ke).2 G .501
(d. This does not include such things as).1 F/F1 10/Times-Bold@0 SF
<ad66>3.001 E F0 .577(or v)143.6 108 R .577(ariable assignments. Ag)-.25
F .576(ain for compatibility)-.05 F 3.076(,t)-.65 G .576(his v)-3.076 F
.576(alue is stored in the MFLA)-.25 F .576(GS v)-.4 F(ariable)-.25 E
(as well.)143.6 120 Q -1 -.8(Tw o)93.6 135.6 T .586(other v)3.886 F .586
(ariables, `)-.25 F(`.INCLUDES')-.74 E 3.086('a)-.74 G .586(nd `)-3.086
F(`.LIBS,)-.74 E 2.066 -.74('' a)-.7 H .586(re co).74 F -.15(ve)-.15 G
.586(red in the section on special tar).15 F .586(gets in chapter)-.18 F
(3.)93.6 147.6 Q(Global v)93.6 163.2 Q
(ariables may be deleted using lines of the form:)-.25 E/F2 10/Courier@0
SF(#undef)129.6 181.2 Q/F3 10/Times-Italic@0 SF(variable)6 E F0(The `)
93.6 199.2 Q F2(#)A F0 2.5('m)C(ust be the \214rst character on the lin\
e. Note that this may only be done on global v)-2.5 E(ariables.)-.25 E
F1 2.5(2.3.4. En)93.6 223.2 R(vir)-.4 E(onment V)-.18 E(ariables)-.92 E
F0(En)93.6 238.8 Q .409(vironment v)-.4 F .409
(ariables are passed by the shell that in)-.25 F -.2(vo)-.4 G -.1(ke).2
G 2.908(dP).1 G(Mak)-2.908 E 2.908(ea)-.1 G .408(nd are gi)-2.908 F -.15
(ve)-.25 G 2.908(nb).15 G 2.908(yP)-2.908 G(Mak)-2.908 E 2.908(et)-.1 G
2.908(oe)-2.908 G .408(ach shell it)-2.908 F(in)93.6 250.8 Q -.2(vo)-.4
G -.1(ke).2 G(s. The).1 E 2.5(ya)-.15 G(re e)-2.5 E(xpanded lik)-.15 E
2.5(ea)-.1 G .3 -.15(ny o)-2.5 H(ther v).15 E(ariable, b)-.25 E(ut the)
-.2 E 2.5(yc)-.15 G(annot be altered in an)-2.5 E 2.5(yw)-.15 G(ay)-2.6
E(.)-.65 E .247(One special en)93.6 266.4 R .247(vironment v)-.4 F
(ariable,)-.25 E F2(PMAKE)2.747 E F0 2.748(,i)C 2.748(se)-2.748 G .248
(xamined by PMak)-2.898 F 2.748(ef)-.1 G .248
(or command-line \215ags, v)-2.748 F .248(ariable assign-)-.25 F .795
(ments, etc., it should al)93.6 278.4 R -.1(wa)-.1 G .795
(ys use. This v).1 F .795(ariable is e)-.25 F .795
(xamined before the actual ar)-.15 F .794(guments to PMak)-.18 F 3.294
(ea)-.1 G .794(re. In)-3.294 F .047(addition, all \215ags gi)93.6 290.4
R -.15(ve)-.25 G 2.547(nt).15 G 2.548(oP)-2.547 G(Mak)-2.548 E .048
(e, either through the)-.1 F F2(PMAKE)2.548 E F0 -.25(va)2.548 G .048
(riable or on the command line, are placed in).25 F .214(this en)93.6
302.4 R .214(vironment v)-.4 F .214(ariable and e)-.25 F .214
(xported to each shell PMak)-.15 F 2.713(ee)-.1 G -.15(xe)-2.863 G .213
(cutes. Thus recursi).15 F .513 -.15(ve i)-.25 H -1.9 -.4(nv o).15 H
.213(cations of PMak).4 F(e)-.1 E(automatically recei)93.6 314.4 Q .3
-.15(ve t)-.25 H(he same \215ags as the top-most one.).15 E
(Using all these v)93.6 330 Q(ariables, you can compress the sample mak)
-.25 E(e\214le e)-.1 E -.15(ve)-.25 G 2.5(nm).15 G(ore:)-2.5 E F2 66
(OBJS =)129.6 348 R(a.o b.o c.o)6 E 48(program :)129.6 360 R($\(OBJS\))6
E(cc $\(.ALLSRC\) \255o $\(.TARGET\))177.6 372 Q 48($\(OBJS\) :)129.6
384 R(defs.h)6 E 72(a.o :)129.6 396 R(a.c)6 E(cc \255c a.c)177.6 408 Q
72(b.o :)129.6 420 R(b.c)6 E(cc \255c b.c)177.6 432 Q 72(c.o :)129.6 444
R(c.c)6 E(cc \255c c.c)177.6 456 Q F1 2.5(2.4. Comments)93.6 486 R F0
.451(Comments in a mak)93.6 501.6 R .451
(e\214le start with a `#' character and e)-.1 F .452
(xtend to the end of the line. The)-.15 F 2.952(ym)-.15 G .452
(ay appear an)-2.952 F(y-)-.15 E .56(where you w)93.6 513.6 R .56
(ant them, e)-.1 F .56(xcept in a shell command \(though the shell will\
 treat it as a comment, too\). If, for)-.15 F .757
(some reason, you need to use the `#' in a v)93.6 525.6 R .757
(ariable or on a dependenc)-.25 F 3.257(yl)-.15 G .757
(ine, put a backslash in front of it.)-3.257 F(PMak)93.6 537.6 Q 3.072
(ew)-.1 G .572(ill compress the tw)-3.072 F 3.072(oi)-.1 G .572
(nto a single `#' \(Note: this isn')-3.072 F 3.072(tt)-.18 G .571
(rue if PMak)-3.072 F 3.071(ei)-.1 G 3.071(so)-3.071 G .571
(perating in full-compati-)-3.071 F(bility mode\).)93.6 549.6 Q F1 2.5
(2.5. P)93.6 573.6 R(arallelism)-.1 E .005 LW 57.721 573.6 57.65 573.6
DL 57.771 573.65 57.721 573.6 DL 57.771 573.721 57.771 573.65 DL 57.721
573.771 57.771 573.721 DL 57.65 573.771 57.721 573.771 DL 57.6 573.721
57.65 573.771 DL 57.6 573.65 57.6 573.721 DL 57.65 573.6 57.6 573.65 DL
57.653 573.607 MT 140 .068 RL 0 .046 RL .046 0 RL .068 -.046 RL .046
-.068 RL 0 -.047 RL -.046 0 RL -.068 .047 RL -.046 0 RL CL .003 LW ST/F4
6/Times-Roman@0 SF(NO)49.807 576.231 Q(TE)-.24 E F0(PMak)93.6 589.2 Q
2.901(ew)-.1 G .401(as speci\214cally designed to re-create se)-3.001 F
-.15(ve)-.25 G .401(ral tar).15 F .401(gets at once, when possible. Y)
-.18 F .401(ou do not ha)-1.1 F .702 -.15(ve t)-.2 H 2.902(od).15 G(o)
-2.902 E(an)93.6 601.2 Q .366
(ything special to cause this to happen \(unless PMak)-.15 F 2.866(ew)
-.1 G .365(as con\214gured to not act in parallel, in which case)-2.966
F(you will ha)93.6 613.2 Q .3 -.15(ve t)-.2 H 2.5(om).15 G(ak)-2.5 E 2.5
(eu)-.1 G(se of the)-2.5 E F1<ad4c>2.5 E F0(and)2.5 E F1<ad4a>2.5 E F0
(\215ags \(see belo)2.5 E(w\)\), b)-.25 E(ut you do ha)-.2 E .3 -.15
(ve t)-.2 H 2.5(ob).15 G 2.5(ec)-2.5 G(areful at times.)-2.5 E .093
(There are se)93.6 628.8 R -.15(ve)-.25 G .093(ral problems you are lik)
.15 F .093(ely to encounter)-.1 F 2.594(.O)-.55 G .094
(ne is that some mak)-2.594 F .094(e\214les \(and programs\) are writ-)
-.1 F .251(ten in such a w)93.6 640.8 R .251
(ay that it is impossible for tw)-.1 F 2.75(ot)-.1 G(ar)-2.75 E .25
(gets to be made at once. The program)-.18 F F2(xstr)2.75 E F0 2.75(,f)C
.25(or e)-2.75 F(xample,)-.15 E(al)93.6 652.8 Q -.1(wa)-.1 G .801
(ys modi\214es the \214les).1 F F2(strings)3.301 E F0(and)3.301 E F2
(x.c)3.301 E F0 5.801(.T)C .801(here is no w)-5.801 F .801
(ay to change it. Thus you cannot run tw)-.1 F 3.302(oo)-.1 G(f)-3.302 E
.07(them at once without something being trashed. Similarly)93.6 664.8 R
2.569(,i)-.65 G 2.569(fy)-2.569 G .069(ou ha)-2.569 F .369 -.15(ve c)-.2
H .069(ommands in the mak).15 F .069(e\214le that al)-.1 F -.1(wa)-.1 G
(ys).1 E .561
(send output to the same \214le, you will not be able to mak)93.6 676.8
R 3.061(em)-.1 G .561(ore than one tar)-3.061 F .561
(get at once unless you change)-.18 F .371(the \214le you use. Y)93.6
688.8 R .371(ou can, for instance, add a)-1.1 F F2($$$$)2.871 E F0 .371
(to the end of the \214le name to tack on the process ID of)2.871 F .938
(the shell e)93.6 700.8 R -.15(xe)-.15 G .938(cuting the command \(each)
.15 F F2($$)3.438 E F0 -.15(ex)3.438 G .938(pands to a single).15 F F2
($)3.438 E F0 3.438(,t)C .939(hus gi)-3.438 F .939(ving you the shell v)
-.25 F(ariable)-.25 E F2($$)3.439 E F0(\).)A .566
(Since only one shell is used for all the commands, you')93.6 712.8 R
.566(ll get the same \214le name for each command in the)-.1 F(script.)
93.6 724.8 Q EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 305.33(PSD:12-8 PMak)93.6 48 R 2.5(e\212AT)-.1 G
(utorial)-2.95 E 1.786(The other problem comes from improperly-speci\
\214ed dependencies that w)93.6 84 R(ork)-.1 E 1.786(ed in Mak)-.1 F
4.286(eb)-.1 G 1.787(ecause of its)-4.286 F .75
(sequential, depth-\214rst w)93.6 96 R .75(ay of e)-.1 F .75
(xamining them. While I don')-.15 F 3.249(tw)-.18 G .749
(ant to go into depth on ho)-3.349 F 3.249(wP)-.25 G(Mak)-3.249 E 3.249
(ew)-.1 G(orks)-3.349 E 1.048(\(look in chapter 4 if you')93.6 108 R
1.048(re interested\), I will w)-.5 F 1.049(arn you that \214les in tw)
-.1 F 3.549(od)-.1 G(if)-3.549 E 1.049(ferent `)-.25 F(`le)-.74 E -.15
(ve)-.25 G(ls').15 E 3.549('o)-.74 G 3.549(ft)-3.549 G 1.049(he depen-)
-3.549 F(denc)93.6 120 Q 2.827(yt)-.15 G .327(ree may be e)-2.827 F .327
(xamined in a dif)-.15 F .326(ferent order in PMak)-.25 F 2.826(et)-.1 G
.326(han the)-2.826 F 2.826(yw)-.15 G .326(ere in Mak)-2.826 F .326
(e. F)-.1 F .326(or e)-.15 F .326(xample, gi)-.15 F -.15(ve)-.25 G 2.826
(nt).15 G(he)-2.826 E(mak)93.6 132 Q(e\214le)-.1 E/F1 10/Courier@0 SF 90
(a:)129.6 150 S 6(bc)-84 G 90(b:)129.6 162 S(d)-84 E F0(PMak)93.6 180 Q
3.199(ew)-.1 G .699(ill e)-3.199 F .699(xamine the tar)-.15 F .699
(gets in the order)-.18 F F1(c)3.199 E F0(,)A F1(d)3.199 E F0(,)A F1(b)
3.199 E F0(,)A F1(a)3.2 E F0 5.7(.I)C 3.2(ft)-5.7 G .7(he mak)-3.2 F
(e\214le')-.1 E 3.2(sa)-.55 G .7(uthor e)-3.2 F .7(xpected PMak)-.15 F
3.2(et)-.1 G 3.2(oa)-3.2 G(bort)-3.2 E .438(before making)93.6 192 R F1
(c)2.938 E F0 .437(if an error occurred while making)2.938 F F1(b)2.937
E F0 2.937(,o)C 2.937(ri)-2.937 G(f)-2.937 E F1(b)2.937 E F0 .437
(needed to e)2.937 F .437(xist before)-.15 F F1(c)2.937 E F0 -.1(wa)
2.937 G 2.937(sm).1 G .437(ade, s/he will)-2.937 F .462(be sorely disap\
pointed. The dependencies are incomplete, since in both these cases,)
93.6 204 R F1(c)2.963 E F0 -.1(wo)2.963 G .463(uld depend on).1 F F1(b)
2.963 E F0(.)A(So w)93.6 216 Q(atch out.)-.1 E .542
(Another problem you may f)93.6 231.6 R .542(ace is that, while PMak)-.1
F 3.042(ei)-.1 G 3.042(ss)-3.042 G .542
(et up to handle the output from multiple jobs in a)-3.042 F .145
(graceful f)93.6 243.6 R .146(ashion, the same is not so for input.)-.1
F .146(It has no w)5.146 F .146(ay to re)-.1 F .146(gulate input to dif)
-.15 F .146(ferent jobs, so if you use)-.25 F .109(the redirection from)
93.6 255.6 R F1(/dev/tty)2.609 E F0 2.609(Im)2.609 G .109
(entioned earlier)-2.609 F 2.609(,y)-.4 G .109
(ou must be careful not to run tw)-2.609 F 2.609(oo)-.1 G 2.609(ft)
-2.609 G .109(he jobs at once.)-2.609 F/F2 10/Times-Bold@0 SF 2.5
(2.6. Writing)93.6 279.6 R(and Deb)2.5 E(ugging a Mak)-.2 E(e\214le)-.1
E F0(No)93.6 295.2 Q 3.141(wy)-.25 G .641(ou kno)-3.141 F 3.142(wm)-.25
G .642(ost of what')-3.142 F 3.142(si)-.55 G 3.142(nam)-3.142 G(ak)
-3.142 E .642(e\214le, what do you do ne)-.1 F .642(xt? There are tw)
-.15 F 3.142(oc)-.1 G .642(hoices: \(1\) use one of)-3.142 F .464
(the uncommonly-a)93.6 307.2 R -.25(va)-.2 G .464(ilable mak).25 F .464
(e\214le generators or \(2\) write your o)-.1 F .463(wn mak)-.25 F .463
(e\214le \(I lea)-.1 F .763 -.15(ve o)-.2 H .463(ut the third choice).15
F(of ignoring PMak)93.6 319.2 Q 2.5(ea)-.1 G(nd doing e)-2.5 E -.15(ve)
-.25 G(rything by hand as being be).15 E
(yond the bounds of common sense\).)-.15 E .338(When f)93.6 334.8 R .338
(aced with the writing of a mak)-.1 F .339(e\214le, it is usually best \
to start from \214rst principles: just what)-.1 F/F3 10/Times-Italic@0
SF(ar)2.839 E(e)-.37 E F0(you)2.839 E(trying to do? What do you w)93.6
346.8 Q(ant the mak)-.1 E(e\214le \214nally to produce?)-.1 E 2.228 -.8
(To b)93.6 362.4 T -.15(eg).8 G .628(in with a some).15 F .628
(what traditional e)-.25 F .628(xample, let')-.15 F 3.128(ss)-.55 G .628
(ay you need to write a mak)-3.128 F .627(e\214le to create a program,)
-.1 F F1(expr)93.6 374.4 Q F0 3.141(,t)C .641(hat tak)-3.141 F .642
(es standard in\214x e)-.1 F .642(xpressions and con)-.15 F -.15(ve)-.4
G .642(rts them to pre\214x form \(for no readily apparent rea-).15 F
.355(son\). Y)93.6 386.4 R(ou')-1.1 E .655 -.15(ve g)-.5 H .355
(ot three source \214les, in C, that mak).15 F 2.854(eu)-.1 G 2.854(pt)
-2.854 G .354(he program:)-2.854 F F1(main.c)2.854 E F0(,)A F1(parse.c)
2.854 E F0 2.854(,a)C(nd)-2.854 E F1(output.c)2.854 E F0(.)A
(Harking back to my pith)93.6 398.4 Q 2.5(ya)-.05 G
(dvice about dependenc)-2.5 E 2.5(yl)-.15 G
(ines, you write the \214rst line of the \214le:)-2.5 E F1 66(expr :)
129.6 416.4 R(main.o parse.o output.o)6 E F0 .063(because you remember)
93.6 434.4 R F1(expr)2.563 E F0 .063(is made from)2.563 F F1(.o)2.564 E
F0 .064(\214les, not)2.564 F F1(.c)2.564 E F0 .064
(\214les. Similarly for the)2.564 F F1(.o)2.564 E F0 .064
(\214les you produce the)2.564 F(lines:)93.6 446.4 Q F1 54(main.o :)
129.6 464.4 R(main.c)6 E 48(parse.o :)129.6 476.4 R(parse.c)6 E 42
(output.o :)129.6 488.4 R(output.c)6 E(main.o parse.o output.o : defs.h)
129.6 500.4 Q F0 1.103(Great. Y)93.6 522 R(ou')-1.1 E 1.403 -.15(ve n)
-.5 H 1.603 -.25(ow g).15 H 1.103
(ot the dependencies speci\214ed. What you need no).25 F 3.603(wi)-.25 G
3.603(sc)-3.603 G 1.102(ommands. These commands,)-3.603 F(remember)93.6
534 Q 2.68(,m)-.4 G .18(ust produce the tar)-2.68 F .18
(get on the dependenc)-.18 F 2.68(yl)-.15 G .18
(ine, usually by using the sources you')-2.68 F .48 -.15(ve l)-.5 H 2.68
(isted. Y).15 F(ou)-1.1 E(remember about local v)93.6 546 Q
(ariables? Good, so it should come to you as no surprise when you write)
-.25 E F1 66(expr :)129.6 564 R(main.o parse.o output.o)6 E
(cc -o $\(.TARGET\) $\(.ALLSRC\))177.6 576 Q F0(Wh)93.6 594 Q 4.667(yu)
-.05 G 2.167(se the v)-4.667 F 2.167(ariables? If your program gro)-.25
F 2.167(ws to produce post\214x e)-.25 F 2.166
(xpressions too \(which, of course,)-.15 F .126
(requires a name change or tw)93.6 606 R .127(o\), it is one fe)-.1 F
.127(wer place you ha)-.25 F .427 -.15(ve t)-.2 H 2.627(oc).15 G .127
(hange the \214le. Y)-2.627 F .127(ou cannot do this for the)-1.1 F
1.188(object \214les, ho)93.6 618 R(we)-.25 E -.15(ve)-.25 G 1.988 -.4
(r, b).15 H 1.188(ecause the).4 F 3.688(yd)-.15 G 1.188
(epend on their corresponding source \214les)-3.688 F F3(and)3.688 E F1
(defs.h)3.688 E F0 3.688(,t)C 1.188(hus if you)-3.688 F(said)93.6 630 Q
F1(cc -c $\(.ALLSRC\))154.6 648 Q F0(you')93.6 666 Q 2.5(dg)-.5 G
(et \(for)-2.5 E F1(main.o)2.5 E F0(\):)A F1(cc -c main.c defs.h)154.6
684 Q F0(which is wrong. So you round out the mak)93.6 702 Q
(e\214le with these lines:)-.1 E EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PMak)93.6 48 Q 2.5(e\212AT)-.1 G 305.33
(utorial PSD:12-9)-2.95 F/F1 10/Courier@0 SF 54(main.o :)129.6 84 R
(main.c)6 E(cc -c main.c)177.6 96 Q 48(parse.o :)129.6 108 R(parse.c)6 E
(cc -c parse.c)177.6 120 Q 42(output.o :)129.6 132 R(output.c)6 E
(cc -c output.c)177.6 144 Q F0 .083(The mak)93.6 165.6 R .083
(e\214le is no)-.1 F 2.584(wc)-.25 G .084(omplete and will, in f)-2.584
F .084(act, create the program you w)-.1 F .084
(ant it to without unnecessary com-)-.1 F .187(pilations or e)93.6 177.6
R(xcessi)-.15 E .487 -.15(ve t)-.25 H .187
(yping on your part. There are tw).15 F 2.687(ot)-.1 G .187
(hings wrong with it, ho)-2.687 F(we)-.25 E -.15(ve)-.25 G 2.686(r\().15
G .186(aside from it being)-2.686 F(altogether too long, something I')
93.6 189.6 Q(ll address in chapter 3\):)-.1 E 14.17(1\) The)93.6 205.2 R
1.018(string `)3.518 F(`)-.74 E F1 1.018(main.o parse.o output.o)B F0
2.498 -.74('' i)D 3.518(sr).74 G 1.018(epeated twice, necessitating tw)
-3.518 F 3.519(oc)-.1 G 1.019(hanges when)-3.519 F .997
(you add post\214x \(you were planning on that, weren')118.6 217.2 R
3.496(ty)-.18 G .996(ou?\). This is in direct violation of de Boor')
-3.496 F(s)-.55 E(First Rule of writing mak)118.6 229.2 Q(e\214les:)-.1
E/F2 10/Times-Italic@0 SF(Anything that needs to be written mor)118.6
244.8 Q 2.5(et)-.37 G(han once should be placed in a variable)-2.5 E(.)
-.15 E F0 2.685(Ic)118.6 260.4 S .185
(annot emphasize this enough as being v)-2.685 F .185
(ery important to the maintenance of a mak)-.15 F .186
(e\214le and its pro-)-.1 F(gram.)118.6 272.4 Q 14.17(2\) There)93.6 288
R .058(is no w)2.558 F .058(ay to alter the w)-.1 F .058
(ay compilations are performed short of editing the mak)-.1 F .057
(e\214le and making)-.1 F .166(the change in all places. This is e)118.6
300 R .166(vil and violates de Boor')-.25 F 2.666(sS)-.55 G .166
(econd Rule, which follo)-2.666 F .166(ws directly from)-.25 F
(the \214rst:)118.6 312 Q F2 1.025(Any \215a)118.6 327.6 R 1.025
(gs or pr)-.1 F -.1(og)-.45 G -.15(ra).1 G 1.024(ms used inside a mak)
.15 F 1.024(e\214le should be placed in a variable so the)-.1 F 3.524
(ym)-.3 G 1.024(ay be)-3.524 F -.15(ch)118.6 339.6 S(ang).15 E
(ed, tempor)-.1 E(arily or permanently)-.15 E 2.5(,w)-.55 G(ith the gr)
-2.5 E(eatest ease)-.37 E(.)-.15 E F0(The mak)93.6 355.2 Q
(e\214le should more properly read:)-.1 E F1 66(OBJS =)129.6 373.2 R
(main.o parse.o output.o)6 E 66(expr :)129.6 385.2 R($\(OBJS\))6 E
($\(CC\) $\(CFLAGS\) -o $\(.TARGET\) $\(.ALLSRC\))177.6 397.2 Q 54
(main.o :)129.6 409.2 R(main.c)6 E($\(CC\) $\(CFLAGS\) -c main.c)177.6
421.2 Q 48(parse.o :)129.6 433.2 R(parse.c)6 E
($\(CC\) $\(CFLAGS\) -c parse.c)177.6 445.2 Q 42(output.o :)129.6 457.2
R(output.c)6 E($\(CC\) $\(CFLAGS\) -c output.c)177.6 469.2 Q 48
($\(OBJS\) :)129.6 481.2 R(defs.h)6 E F0(Alternati)93.6 499.2 Q -.15(ve)
-.25 G(ly).15 E 3.592(,i)-.65 G 3.592(fy)-3.592 G 1.092(ou lik)-3.592 F
3.592(et)-.1 G 1.092(he idea of dynamic sources mentioned in section 2.\
3.1, you could write it lik)-3.592 F(e)-.1 E(this:)93.6 511.2 Q F1 66
(OBJS =)129.6 529.2 R(main.o parse.o output.o)6 E 66(expr :)129.6 541.2
R($\(OBJS\))6 E($\(CC\) $\(CFLAGS\) -o $\(.TARGET\) $\(.ALLSRC\))177.6
553.2 Q 48($\(OBJS\) :)129.6 565.2 R($\(.PREFIX\).c defs.h)6 E
($\(CC\) $\(CFLAGS\) -c $\(.PREFIX\).c)177.6 577.2 Q F0(These tw)93.6
595.2 Q 2.5(or)-.1 G(ules and e)-2.5 E(xamples lead to de Boor')-.15 E
2.5(sF)-.55 G(irst Corollary:)-2.5 E F2 -1.11(Va)118.6 610.8 S
(riables ar)1.11 E 2.5(ey)-.37 G(our friends.)-2.5 E F0 .507(Once you')
93.6 626.4 R .807 -.15(ve w)-.5 H .507(ritten the mak).15 F .507
(e\214le comes the sometimes-dif)-.1 F .506
(\214cult task of making sure the darn thing w)-.25 F(orks.)-.1 E -1.1
(Yo)93.6 638.4 S .035(ur most helpful tool to mak)1.1 F 2.535(es)-.1 G
.035(ure the mak)-2.535 F .035
(e\214le is at least syntactically correct is the)-.1 F/F3 10
/Times-Bold@0 SF<ad6e>2.536 E F0 .036(\215ag, which allo)2.536 F(ws)-.25
E .016(you to see if PMak)93.6 650.4 R 2.516(ew)-.1 G .016(ill chok)
-2.516 F 2.516(eo)-.1 G 2.516(nt)-2.516 G .016(he mak)-2.516 F .016
(e\214le. The second thing the)-.1 F F3<ad6e>2.516 E F0 .016
(\215ag lets you do is see what PMak)2.516 F(e)-.1 E -.1(wo)93.6 662.4 S
.348(uld do without it actually doing it, thus you can mak).1 F 2.848
(es)-.1 G .348(ure the right commands w)-2.848 F .348(ould be e)-.1 F
-.15(xe)-.15 G .348(cuted were).15 F(you to gi)93.6 674.4 Q .3 -.15
(ve P)-.25 H(Mak).15 E 2.5(ei)-.1 G(ts head.)-2.5 E 1.521
(When you \214nd your mak)93.6 690 R 1.521(e\214le isn')-.1 F 4.021(tb)
-.18 G(eha)-4.021 E 1.52
(ving as you hoped, the \214rst question that comes to mind \(after)-.2
F -.74(``)93.6 702 S .278(What time is it, an).74 F(yw)-.15 E(ay?')-.1 E
.278('\) is `)-.74 F(`Wh)-.74 E 2.778(yn)-.05 G(ot?')-2.778 E 2.778('I)
-.74 G 2.778(na)-2.778 G .278(nswering this, tw)-2.778 F 2.779<6f8d>-.1
G .279(ags will serv)-2.779 F 2.779(ey)-.15 G .279(ou well: `)-2.779 F
(`)-.74 E F1 .279(-d m)B F0 1.759 -.74('' a)D(nd).74 E -.74(``)93.6 714
S F1 .389(-p 2).74 F F0 -.7(.')C 5.389('T)-.04 G .389
(he \214rst causes PMak)-5.389 F 2.889(et)-.1 G 2.889(ot)-2.889 G .389
(ell you as it e)-2.889 F .388(xamines each tar)-.15 F .388
(get in the mak)-.18 F .388(e\214le and indicate wh)-.1 F 2.888(yi)-.05
G(t)-2.888 E .471(is deciding whate)93.6 726 R -.15(ve)-.25 G 2.971(ri)
.15 G 2.971(ti)-2.971 G 2.971(sd)-2.971 G .471(eciding. Y)-2.971 F .471
(ou can then use the information printed for other tar)-1.1 F .472
(gets to see where)-.18 F EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 300.33(PSD:12-10 PMak)93.6 48 R 2.5(e\212AT)-.1
G(utorial)-2.95 E .467(you went wrong. The `)93.6 84 R(`)-.74 E/F1 10
/Courier@0 SF .467(-p 2)B F0 1.947 -.74('' \215)D .466(ag mak).74 F .466
(es PMak)-.1 F 2.966(ep)-.1 G .466
(rint out its internal state when it is done, allo)-2.966 F .466
(wing you)-.25 F .314(to see that you for)93.6 96 R .314(got to mak)-.18
F 2.814(et)-.1 G .314
(hat one chapter depend on that \214le of macros you just got a ne)
-2.814 F 2.815(wv)-.25 G .315(ersion of.)-2.965 F .684
(The output from `)93.6 108 R(`)-.74 E F1 .684(-p 2)B F0 2.164 -.74
('' i)D 3.184(si).74 G .684(ntended to resemble closely a real mak)
-3.184 F .683(e\214le, b)-.1 F .683(ut with additional information)-.2 F
(pro)93.6 120 Q(vided and with v)-.15 E(ariables e)-.25 E
(xpanded in those commands PMak)-.15 E 2.5(ea)-.1 G
(ctually printed or e)-2.5 E -.15(xe)-.15 G(cuted.).15 E
(Something to be especially careful about is circular dependencies.)93.6
135.6 Q(E.g.)5 E F1 44(a:)129.6 153.6 S(b)-38 E 44(b:)129.6 165.6 S 6
(cd)-38 G 44(d:)129.6 177.6 S(a)-38 E F0 .529
(In this case, because of ho)93.6 195.6 R 3.029(wP)-.25 G(Mak)-3.029 E
3.029(ew)-.1 G(orks,)-3.129 E F1(c)3.029 E F0 .53
(is the only thing PMak)3.029 F 3.03(ew)-.1 G .53(ill e)-3.03 F .53
(xamine, because)-.15 F F1(d)3.03 E F0(and)3.03 E F1(a)3.03 E F0(will)
3.03 E(ef)93.6 207.6 Q(fecti)-.25 E -.15(ve)-.25 G .779(ly f).15 F .779
(all of)-.1 F 3.279(ft)-.25 G .779(he edge of the uni)-3.279 F -.15(ve)
-.25 G .778(rse, making it impossible to e).15 F(xamine)-.15 E F1(b)
3.278 E F0 .778(\(or them, for that matter\).)3.278 F(PMak)93.6 219.6 Q
2.91(ew)-.1 G .41
(ill tell you \(if run in its normal mode\) all the tar)-2.91 F .41
(gets in)-.18 F -.2(vo)-.4 G(lv).2 E .41(ed in an)-.15 F 2.91(yc)-.15 G
.41(ycle it look)-3.06 F .41(ed at \(i.e. if you)-.1 F(ha)93.6 231.6 Q
.842 -.15(ve t)-.2 H .742 -.1(wo c).15 H .542
(ycles in the graph \(naughty)-.05 F 3.042(,n)-.65 G .542(aughty\), b)
-3.042 F .542(ut only try to mak)-.2 F 3.041(eat)-.1 G(ar)-3.041 E .541
(get in one of them, PMak)-.18 F 3.041(ew)-.1 G(ill)-3.041 E .937
(only tell you about that one. Y)93.6 243.6 R(ou')-1.1 E .937(ll ha)-.1
F 1.237 -.15(ve t)-.2 H 3.438(ot).15 G .938(ry to mak)-3.438 F 3.438(et)
-.1 G .938(he other to \214nd the second c)-3.438 F .938
(ycle\). When run as)-.15 F(Mak)93.6 255.6 Q
(e, it will only print the \214rst tar)-.1 E(get in the c)-.18 E(ycle.)
-.15 E/F2 10/Times-Bold@0 SF 2.5(2.7. In)93.6 279.6 R -.1(vo)-.4 G
(king PMak).1 E(e)-.1 E F0(PMak)93.6 295.2 Q 2.567(ec)-.1 G .066
(omes with a wide v)-2.567 F .066(ariety of \215ags to choose from.)-.25
F(The)5.066 E 2.566(ym)-.15 G .066(ay appear in an)-2.566 F 2.566(yo)
-.15 G(rder)-2.566 E 2.566(,i)-.4 G .066(nterspersed with)-2.566 F
(command-line v)93.6 307.2 Q(ariable assignments and tar)-.25 E
(gets to create.)-.18 E(The \215ags are as follo)5 E(ws:)-.25 E F2<ad64>
93.6 322.8 Q/F3 10/Times-Italic@0 SF(what)2.5 E F0 .148
(This causes PMak)118.6 334.8 R 2.648(et)-.1 G 2.648(os)-2.648 G(pe)
-2.648 E 2.648(wo)-.25 G .148(ut deb)-2.648 F .148
(ugging information that may pro)-.2 F .448 -.15(ve u)-.15 H .149
(seful to you. If you can').15 F 2.649<748c>-.18 G(g-)-2.649 E .684
(ure out wh)118.6 346.8 R 3.184(yP)-.05 G(Mak)-3.184 E 3.184(ei)-.1 G
3.184(sd)-3.184 G .684(oing what it')-3.184 F 3.184(sd)-.55 G .684
(oing, you might try using this \215ag. The)-3.184 F F3(what)3.183 E F0
.683(parameter is a)3.183 F .193
(string of single characters that tell PMak)118.6 358.8 R 2.693(ew)-.1 G
.194(hat aspects you are interested in. Most of what I describe)-2.693 F
.057(will mak)118.6 370.8 R 2.557(el)-.1 G .057
(ittle sense to you, unless you')-2.557 F .357 -.15(ve d)-.5 H .056
(ealt with Mak).15 F 2.556(eb)-.1 G .056
(efore. Just remember where this table is)-2.556 F
(and come back to it as you read on.)118.6 382.8 Q
(The characters and the information the)5 E 2.5(yp)-.15 G
(roduce are as follo)-2.5 E(ws:)-.25 E 20.56(aA)118.6 398.4 S(rchi)
-20.56 E .3 -.15(ve s)-.25 H(earching and caching.).15 E 20.56(cC)118.6
414 S(onditional e)-20.56 E -.25(va)-.25 G(luation.).25 E 20(dT)118.6
429.6 S(he searching and caching of directories.)-20 E 22.22(jV)118.6
445.2 S .925(arious snippets of information related to the running of t\
he multiple shells. Not particularly)-23.33 F(interesting.)143.6 457.2 Q
17.22(mT)118.6 472.8 S .493(he making of each tar)-17.22 F .493
(get: what tar)-.18 F .493(get is being e)-.18 F .492
(xamined; when it w)-.15 F .492(as last modi\214ed; whether)-.1 F
(it is out-of-date; etc.)143.6 484.8 Q 20(pM)118.6 500.4 S(ak)-20 E
(e\214le parsing.)-.1 E 21.67(rR)118.6 516 S(emote e)-21.67 E -.15(xe)
-.15 G(cution.).15 E 21.11(sT)118.6 531.6 S(he application of suf)-21.11
E(\214x-transformation rules. \(See chapter 3\))-.25 E 22.22(tT)118.6
547.2 S(he maintenance of the list of tar)-22.22 E(gets.)-.18 E 20(vV)
118.6 562.8 S(ariable assignment.)-21.11 E .011(Of these all, the)118.6
578.4 R F1(m)2.511 E F0(and)2.511 E F1(s)2.511 E F0 .011
(letters will be most useful to you.)2.511 F .011(If the)5.011 F F2
<ad64>2.511 E F0 .012(is the \214nal ar)2.512 F .012(gument or the ar)
-.18 F(gu-)-.18 E .226(ment from which it w)118.6 590.4 R .226
(ould get these k)-.1 F .526 -.15(ey l)-.1 H .226(etters \(see belo).15
F 2.725(wf)-.25 G .225(or a note about which ar)-2.725 F .225(gument w)
-.18 F .225(ould be)-.1 F .037(used\) be)118.6 602.4 R .037(gins with a)
-.15 F F2<ad>2.537 E F0 2.538(,a)C .038(ll of these deb)-2.538 F .038
(ugging \215ags will be set, resulting in massi)-.2 F .338 -.15(ve a)
-.25 H .038(mounts of output.).15 F F2<ad66>93.6 618 Q F3(mak)2.5 E
(e\214le)-.1 E F0 1.507(Specify a mak)118.6 630 R 1.506
(e\214le to read dif)-.1 F 1.506(ferent from the standard mak)-.25 F
1.506(e\214les \()-.1 F F1(Makefile)A F0(or)4.006 E F1(makefile)4.006 E
F0 4.006(\). If)B F3(mak)118.6 642 Q(e\214le)-.1 E F0 3.261(is `)5.761 F
(`\255')-.74 E 3.261(', PMak)-.74 F 5.761(eu)-.1 G 3.261
(ses the standard input. This is useful for making quick and dirty)
-5.761 F(mak)118.6 654 Q -.834(e\214les. . .)-.1 F F2<ad68>93.6 669.6 Q
F0 .182(Prints out a summary of the v)13.74 F .182(arious \215ags PMak)
-.25 F 2.682(ea)-.1 G .181
(ccepts. It can also be used to \214nd out what le)-2.682 F -.15(ve)-.25
G 2.681(lo).15 G(f)-2.681 E(concurrenc)118.6 681.6 Q 2.926(yw)-.15 G
.426(as compiled into the v)-3.026 F .426(ersion of PMak)-.15 F 2.926
(ey)-.1 G .427(ou are using \(look at)-2.926 F F2<ad4a>2.927 E F0(and)
2.927 E F2<ad4c>2.927 E F0 2.927(\)a)C .427(nd v)-2.927 F(arious)-.25 E
(other information on ho)118.6 693.6 Q 2.5(wP)-.25 G(Mak)-2.5 E 2.5(ew)
-.1 G(as con\214gured.)-2.6 E F2<ad69>93.6 709.2 Q F0 .34(If you gi)
16.52 F .64 -.15(ve t)-.25 H .34(his \215ag, PMak).15 F 2.84(ew)-.1 G
.34(ill ignore non-zero status returned by an)-2.84 F 2.84(yo)-.15 G
2.84(fi)-2.84 G .34(ts shells. It')-2.84 F 2.84(sl)-.55 G(ik)-2.84 E
2.84(ep)-.1 G(lacing)-2.84 E 2.5(a`)118.6 721.2 S
(\255' before all the commands in the mak)-2.5 E(e\214le.)-.1 E EP
%%Page: 11 11
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PMak)93.6 48 Q 2.5(e\212AT)-.1 G 300.33
(utorial PSD:12-11)-2.95 F/F1 10/Times-Bold@0 SF<ad6b>93.6 84 Q F0 .806
(This is similar to)13.74 F F1<ad69>3.306 E F0 .806(in that it allo)
3.306 F .806(ws PMak)-.25 F 3.306(et)-.1 G 3.306(oc)-3.306 G .806
(ontinue when it sees an error)-3.306 F 3.306(,b)-.4 G .806(ut unlik)
-3.506 F(e)-.1 E F1<ad69>3.306 E F0 3.306(,w)C(here)-3.306 E(PMak)118.6
96 Q 2.717(ec)-.1 G .217(ontinues blithely as if nothing went wrong,)
-2.717 F F1<ad6b>2.717 E F0 .216
(causes it to recognize the error and only con-)2.716 F 1.796(tinue w)
118.6 108 R 1.796(ork on those things that don')-.1 F 4.297(td)-.18 G
1.797(epend on the tar)-4.297 F 1.797
(get, either directly or indirectly \(through)-.18 F .443(depending on \
something that depends on it\), whose creation returned the error)118.6
120 R 5.443(.T)-.55 G .443(he `k' is for `)-5.443 F(`k)-.74 E(eep)-.1 E
(going')118.6 132 Q -.834('. . .)-.74 F F1<ad6c>93.6 147.6 Q F0(PMak)
16.52 E 3.088(eh)-.1 G .589(as the ability to lock a directory ag)-3.088
F .589(ainst other people e)-.05 F -.15(xe)-.15 G .589
(cuting it in the same directory \(by).15 F .513
(means of a \214le called `)118.6 159.6 R(`LOCK.mak)-.74 E(e')-.1 E
3.013('t)-.74 G .513
(hat it creates and checks for in the directory\). This is a Good)-3.013
F .027(Thing because tw)118.6 171.6 R 2.527(op)-.1 G .028(eople doing t\
he same thing in the same place can be disastrous for the \214nal prod-)
-2.527 F .528(uct \(too man)118.6 183.6 R 3.028(yc)-.15 G .528
(ooks and all that\).)-3.028 F .528(Whether this locking is the def)
5.528 F .527(ault is up to your system adminis-)-.1 F(trator)118.6 195.6
Q 3.106(.I)-.55 G 3.106(fl)-3.106 G .606(ocking is on,)-3.106 F F1<ad6c>
3.106 E F0 .606(will turn it of)3.106 F .607(f, and vice v)-.25 F .607
(ersa. Note that this locking will not pre)-.15 F -.15(ve)-.25 G(nt).15
E/F2 10/Times-Italic@0 SF(you)3.107 E F0 1.366(from in)118.6 207.6 R -.2
(vo)-.4 G 1.366(king PMak).2 F 3.866(et)-.1 G 1.366
(wice in the same place \212 if you o)-3.866 F 1.365
(wn the lock \214le, PMak)-.25 F 3.865(ew)-.1 G 1.365(ill w)-3.865 F
1.365(arn you)-.1 F(about it b)118.6 219.6 Q(ut continue to e)-.2 E -.15
(xe)-.15 G(cute.).15 E F1<ad6d>93.6 235.2 Q F2(dir)2.5 E(ectory)-.37 E
F0 -.7(Te)118.6 247.2 S .87(lls PMak).7 F 3.37(ea)-.1 G .87
(nother place to search for included mak)-3.37 F .87
(e\214les via the <...> style.)-.1 F(Se)5.87 E -.15(ve)-.25 G(ral).15 E
F1<ad6d>3.37 E F0(options)3.37 E .039(can be gi)118.6 259.2 R -.15(ve)
-.25 G 2.539(nt).15 G 2.539(of)-2.539 G .039(orm a search path.)-2.539 F
.038(If this construct is used the def)5.039 F .038(ault system mak)-.1
F .038(e\214le search path is)-.1 F(completely o)118.6 271.2 Q -.15(ve)
-.15 G 2.5(rridden. T).15 F 2.5(ob)-.8 G 2.5(ee)-2.5 G
(xplained in chapter 3, section 3.2.)-2.65 E F1<ad6e>93.6 286.8 Q F0
1.067(This \215ag tells PMak)13.74 F 3.567(en)-.1 G 1.067(ot to e)-3.567
F -.15(xe)-.15 G 1.068
(cute the commands needed to update the out-of-date tar).15 F 1.068
(gets in the)-.18 F(mak)118.6 298.8 Q 1.198(e\214le. Rather)-.1 F 3.698
(,P)-.4 G(Mak)-3.698 E 3.698(ew)-.1 G 1.198
(ill simply print the commands it w)-3.698 F 1.198(ould ha)-.1 F 1.498
-.15(ve exe)-.2 H 1.198(cuted and e).15 F 1.198(xit. This is)-.15 F .112
(particularly useful for checking the correctness of a mak)118.6 310.8 R
.112(e\214le. If PMak)-.1 F 2.612(ed)-.1 G(oesn')-2.612 E 2.612(td)-.18
G 2.612(ow)-2.612 G .112(hat you e)-2.612 F .112(xpect it)-.15 F
(to, it')118.6 322.8 Q 2.5(sag)-.55 G(ood chance the mak)-2.5 E
(e\214le is wrong.)-.1 E F1<ad70>93.6 338.4 Q F2(number)2.5 E F0 1.373
(This causes PMak)118.6 350.4 R 3.873(et)-.1 G 3.873(op)-3.873 G 1.372
(rint its input in a reasonable form, though not necessarily one that w)
-3.873 F(ould)-.1 E(mak)118.6 362.4 Q 3.509(ei)-.1 G 1.009
(mmediate sense to an)-3.509 F 1.009(yone b)-.15 F 1.009(ut me. The)-.2
F F2(number)3.509 E F0 1.01(is a bitwise-or of 1 and 2 where 1 means it)
3.509 F .79(should print the input before doing an)118.6 374.4 R 3.29
(yp)-.15 G .789(rocessing and 2 says it should print it after e)-3.29 F
-.15(ve)-.25 G .789(rything has).15 F .342(been re-created. Thus)118.6
386.4 R/F3 10/Courier@0 SF .342(\255p 3)2.842 F F0 -.1(wo)2.842 G .343(\
uld print it twice\212once before processing and once after \(you might)
.1 F 1.378(\214nd the dif)118.6 398.4 R 1.377(ference between the tw)
-.25 F 3.877(oi)-.1 G 1.377
(nteresting\). This is mostly useful to me, b)-3.877 F 1.377
(ut you may \214nd it)-.2 F(informati)118.6 410.4 Q .3 -.15(ve i)-.25 H
2.5(ns).15 G(ome bizarre circumstances.)-2.5 E F1<ad71>93.6 426 Q F0
.447(If you gi)13.74 F .747 -.15(ve P)-.25 H(Mak).15 E 2.947(et)-.1 G
.447(his \215ag, it will not try to re-create an)-2.947 F .447
(ything. It will just see if an)-.15 F .447(ything is out-of-)-.15 F
(date and e)118.6 438 Q(xit non-zero if so.)-.15 E F1<ad72>93.6 453.6 Q
F0 .373(When PMak)14.86 F 2.873(es)-.1 G .373(tarts up, it reads a def)
-2.873 F .373(ault mak)-.1 F .372
(e\214le that tells it what sort of system it')-.1 F 2.872(so)-.55 G
2.872(na)-2.872 G .372(nd gi)-2.872 F -.15(ve)-.25 G 2.872(si).15 G(t)
-2.872 E .136(some idea of what to do if you don')118.6 465.6 R 2.636
(tt)-.18 G .136(ell it an)-2.636 F .136(ything. I')-.15 F .136
(ll tell you about it in chapter 3. If you gi)-.1 F .437 -.15(ve t)-.25
H(his).15 E(\215ag, PMak)118.6 477.6 Q 2.5(ew)-.1 G(on')-2.6 E 2.5(tr)
-.18 G(ead the def)-2.5 E(ault mak)-.1 E(e\214le.)-.1 E F1<ad73>93.6
493.2 Q F0 .556(This causes PMak)15.41 F 3.056(et)-.1 G 3.056(on)-3.056
G .556(ot print commands before the)-3.056 F(y')-.15 E .556(re e)-.5 F
-.15(xe)-.15 G .555(cuted. It is the equi).15 F -.25(va)-.25 G .555
(lent of putting an).25 F(`@' before e)118.6 505.2 Q -.15(ve)-.25 G
(ry command in the mak).15 E(e\214le.)-.1 E F1<ad74>93.6 520.8 Q F0 .095
(Rather than try to re-create a tar)15.97 F .095(get, PMak)-.18 F 2.595
(ew)-.1 G .096(ill simply `)-2.595 F(`touch')-.74 E 2.596('i)-.74 G
2.596(ts)-2.596 G 2.596(oa)-2.596 G 2.596(st)-2.596 G 2.596(om)-2.596 G
(ak)-2.596 E 2.596(ei)-.1 G 2.596(ta)-2.596 G .096(ppear up-to-date.)
-2.596 F .431(If the tar)118.6 532.8 R .431(get didn')-.18 F 2.931(te)
-.18 G .431(xist before, it will when PMak)-3.081 F 2.931<658c>-.1 G .43
(nishes, b)-2.931 F .43(ut if the tar)-.2 F .43(get did e)-.18 F .43
(xist, it will appear)-.15 F(to ha)118.6 544.8 Q .3 -.15(ve b)-.2 H
(een updated.).15 E F1<ad76>93.6 560.4 Q F0 .18(This is a mix)14.3 F .18
(ed-compatibility \215ag intended to mimic the System V v)-.15 F .181
(ersion of Mak)-.15 F .181(e. It is the same as)-.1 F(gi)118.6 572.4 Q
(ving)-.25 E F1<ad42>3.542 E F0 3.542(,a)C(nd)-3.542 E F1<ad56>3.542 E
F0 1.041(as well as turning of)3.541 F 3.541(fd)-.25 G 1.041
(irectory locking. T)-3.541 F(ar)-.8 E 1.041
(gets can still be created in parallel,)-.18 F(ho)118.6 584.4 Q(we)-.25
E -.15(ve)-.25 G 1.1 -.55(r. T).15 H(his is the mode PMak).55 E 2.5(ew)
-.1 G(ill enter if it is in)-2.5 E -.2(vo)-.4 G -.1(ke).2 G 2.5(de).1 G
(ither as `)-2.5 E(`)-.74 E F3(smake)A F0 1.48 -.74('' o)D 2.5(r`).74 G
(`)-3.24 E F3(vmake)A F0 -.74('')C(.).74 E F1<ad78>93.6 600 Q F0 .157
(This tells PMak)14.3 F 2.657(ei)-.1 G(t')-2.657 E 2.657(so)-.55 G 2.657
(kt)-2.657 G 2.657(oe)-2.657 G .157
(xport jobs to other machines, if the)-2.807 F(y')-.15 E .157(re a)-.5 F
-.25(va)-.2 G .158(ilable. It is used when running).25 F .163(in Mak)
118.6 612 R 2.663(em)-.1 G .163(ode, as e)-2.663 F .162
(xporting in this mode tends to mak)-.15 F 2.662(et)-.1 G .162
(hings run slo)-2.662 F .162(wer than if the commands were)-.25 F
(just e)118.6 624 Q -.15(xe)-.15 G(cuted locally).15 E(.)-.65 E F1<ad42>
93.6 639.6 Q F0 -.15(Fo)12.63 G 1.249(rces PMak).15 F 3.749(et)-.1 G
3.749(ob)-3.749 G 3.749(ea)-3.749 G 3.749(sb)-3.749 G(ackw)-3.749 E
1.249(ards-compatible with Mak)-.1 F 3.749(ea)-.1 G 3.749(sp)-3.749 G
1.25(ossible while still being itself.)-3.749 F(This)6.25 E(includes:)
118.6 651.6 Q 6.5<8345>118.6 667.2 S -.15(xe)-6.5 G
(cuting one shell per shell command).15 E 6.5<8345>118.6 682.8 S 1.013
(xpanding an)-6.5 F 1.013(ything that looks e)-.15 F -.15(ve)-.25 G
3.513(nv).15 G 1.013(aguely lik)-3.763 F 3.513(eav)-.1 G 1.013
(ariable, with the empty string replacing an)-3.763 F(y)-.15 E -.25(va)
128.6 694.8 S(riable PMak).25 E 2.5(ed)-.1 G(oesn')-2.5 E 2.5(tk)-.18 G
(no)-2.5 E -.65(w.)-.25 G 6.5<8352>118.6 710.4 S(efusing to allo)-6.5 E
2.5(wy)-.25 G(ou to escape a `#' with a backslash.)-2.5 E EP
%%Page: 12 12
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 300.33(PSD:12-12 PMak)93.6 48 R 2.5(e\212AT)-.1
G(utorial)-2.95 E 6.5<8350>118.6 84 S 1.204(ermitting unde\214ned v)-6.5
F 1.204(ariables on dependenc)-.25 F 3.704(yl)-.15 G 1.205
(ines and conditionals \(see belo)-3.704 F 1.205(w\). Normally this)-.25
F(causes PMak)128.6 96 Q 2.5(et)-.1 G 2.5(oa)-2.5 G(bort.)-2.5 E/F1 10
/Times-Bold@0 SF<ad43>93.6 111.6 Q F0 .409(This nulli\214es an)12.08 F
2.909(ya)-.15 G .408(nd all compatibility mode \215ags you may ha)-2.909
F .708 -.15(ve g)-.2 H -2.15 -.25(iv e).15 H 2.908(no).25 G 2.908(ri)
-2.908 G .408(mplied up to the time the)-2.908 F F1<ad43>118.6 123.6 Q
F0 1.049(is encountered. It is useful mostly in a mak)3.548 F 1.049
(e\214le that you wrote for PMak)-.1 F 3.549(et)-.1 G 3.549(oa)-3.549 G
-.2(vo)-3.749 G 1.049(id bad things).2 F .443
(happening when someone runs PMak)118.6 135.6 R 2.943(ea)-.1 G 2.943(s`)
-2.943 G(`)-3.683 E/F2 10/Courier@0 SF(make)A F0 1.922 -.74('' o)D 2.942
(rh).74 G .442(as things set in the en)-2.942 F .442
(vironment that tell it to)-.4 F 2.404(be compatible.)118.6 147.6 R F1
<ad43>7.404 E F0(is)4.904 E/F3 10/Times-Italic@0 SF(not)4.904 E F0 2.404
(placed in the)4.904 F F2(PMAKE)4.904 E F0(en)4.904 E 2.404(vironment v)
-.4 F 2.405(ariable or the)-.25 F F2(.MAKEFLAGS)4.905 E F0(or)4.905 E F2
(MFLAGS)118.6 159.6 Q F0(global v)2.5 E(ariables.)-.25 E F1<ad44>93.6
175.2 Q F3(variable)2.5 E F0(Allo)118.6 187.2 Q .028
(ws you to de\214ne a v)-.25 F .028(ariable to ha)-.25 F .328 -.15(ve `)
-.2 H(`)-.59 E F2(1)A F0 1.508 -.74('' a)D 2.528(si).74 G .027(ts v)
-2.528 F 2.527(alue. The)-.25 F -.25(va)2.527 G .027
(riable is a global v).25 F .027(ariable, not a com-)-.25 F .728
(mand-line v)118.6 199.2 R .728(ariable. This is useful mostly for peop\
le who are used to the C compiler ar)-.25 F .729(guments and)-.18 F
(those using conditionals, which I')118.6 211.2 Q
(ll get into in section 4.3)-.1 E F1<ad49>93.6 226.8 Q F3(dir)2.5 E
(ectory)-.37 E F0 -.7(Te)118.6 238.8 S 1.534(lls PMak).7 F 4.034(ea)-.1
G 1.534(nother place to search for included mak)-4.034 F 1.534
(e\214les. Y)-.1 F 1.534(et another thing to be e)-1 F 1.534
(xplained in)-.15 F(chapter 3 \(section 3.2, to be precise\).)118.6
250.8 Q F1<ad4a>93.6 266.4 Q F3(number)2.5 E F0(Gi)118.6 278.4 Q -.15
(ve)-.25 G 2.5(st).15 G(he absolute maximum number of tar)-2.5 E
(gets to create at once on both local and remote machines.)-.18 E F1
<ad4c>93.6 294 Q F3(number)2.5 E F0 .217
(This speci\214es the maximum number of tar)118.6 306 R .217
(gets to create on the local machine at once. This may be 0,)-.18 F .159
(though you should be w)118.6 318 R .159(ary of doing this, as PMak)-.1
F 2.659(em)-.1 G .159(ay hang until a remote machine becomes a)-2.659 F
-.25(va)-.2 G(il-).25 E(able, if one is not a)118.6 330 Q -.25(va)-.2 G
(ilable when it is started.).25 E F1<ad4d>93.6 345.6 Q F0 .694
(This is the \215ag that pro)9.86 F .694
(vides absolute, complete, full compatibility with Mak)-.15 F .695
(e. It still allo)-.1 F .695(ws you to)-.25 F .02(use all b)118.6 357.6
R .02(ut a fe)-.2 F 2.52(wo)-.25 G 2.52(ft)-2.52 G .02
(he features of PMak)-2.52 F .02(e, b)-.1 F .019
(ut it is non-parallel. This is the mode PMak)-.2 F 2.519(ee)-.1 G .019
(nters if you)-2.519 F(call it `)118.6 369.6 Q(`)-.74 E F2(make)A F0 -.7
(.')C(')-.04 E F1<ad50>93.6 385.2 Q F0 .555(When creating tar)13.19 F
.555(gets in parallel, se)-.18 F -.15(ve)-.25 G .555(ral shells are e)
.15 F -.15(xe)-.15 G .555(cuting at once, each w).15 F .555
(anting to write its o)-.1 F(wn)-.25 E(tw)118.6 397.2 Q 2.699(oc)-.1 G
(ent')-2.699 E(s-w)-.55 E .199(orth to the screen.)-.1 F .198
(This output must be captured by PMak)5.199 F 2.698(ei)-.1 G 2.698(ns)
-2.698 G .198(ome w)-2.698 F .198(ay in order to pre-)-.1 F -.15(ve)
118.6 409.2 S .037(nt the screen from being \214lled with g).15 F .037
(arbage e)-.05 F -.15(ve)-.25 G 2.537(nm).15 G .038
(ore indecipherable than you usually see. PMak)-2.537 F(e)-.1 E 1.091
(has tw)118.6 421.2 R 3.591(ow)-.1 G 1.091
(ays of doing this, one of which pro)-3.691 F 1.09
(vides for much cleaner output and a clear separation)-.15 F .553
(between the output of dif)118.6 433.2 R .554
(ferent jobs, the other of which pro)-.25 F .554
(vides a more immediate response so one)-.15 F .295(can tell what is re\
ally happpening. The former is done by notifying you when the creation \
of a tar)118.6 445.2 R(get)-.18 E .331(starts, capturing the output and\
 transferring it to the screen all at once when the job \214nishes. The\
 lat-)118.6 457.2 R .347(ter is done by catching the output of the shel\
l \(and its children\) and b)118.6 469.2 R(uf)-.2 E .347
(fering it until an entire line is)-.25 F(recei)118.6 481.2 Q -.15(ve)
-.25 G .501(d, then printing that line preceded by an indication of whi\
ch job produced the output. Since I).15 F .322
(prefer this second method, it is the one used by def)118.6 493.2 R .321
(ault. The \214rst method will be used if you gi)-.1 F .621 -.15(ve t)
-.25 H(he).15 E F1<ad50>118.6 505.2 Q F0(\215ag to PMak)2.5 E(e.)-.1 E
F1<ad56>93.6 520.8 Q F0 .555(As mentioned before, the)12.08 F F1<ad56>
3.055 E F0 .555(\215ag tells PMak)3.055 F 3.055(et)-.1 G 3.055(ou)-3.055
G .555(se Mak)-3.055 F(e')-.1 E 3.056(ss)-.55 G .556(tyle of e)-3.056 F
.556(xpanding v)-.15 F .556(ariables, substitut-)-.25 F
(ing the empty string for an)118.6 532.8 Q 2.5(yv)-.15 G
(ariable it doesn')-2.75 E 2.5(tk)-.18 G(no)-2.5 E -.65(w.)-.25 G F1
<ad57>93.6 548.4 Q F0 .989(There are se)9.3 F -.15(ve)-.25 G .989
(ral times when PMak).15 F 3.489(ew)-.1 G .988
(ill print a message at you that is only a w)-3.489 F .988
(arning, i.e. it can)-.1 F .665(continue to w)118.6 560.4 R .665
(ork in spite of your ha)-.1 F .665
(ving done something silly \(such as for)-.2 F .665
(gotten a leading tab for a)-.18 F .306
(shell command\). Sometimes you are well a)118.6 572.4 R -.1(wa)-.15 G
.306(re of silly things you ha).1 F .605 -.15(ve d)-.2 H .305(one and w)
.15 F .305(ould lik)-.1 F 2.805(eP)-.1 G(Mak)-2.805 E(e)-.1 E
(to stop bothering you. This \215ag tells it to shut up about an)118.6
584.4 Q(ything non-f)-.15 E(atal.)-.1 E F1<ad58>93.6 600 Q F0
(This \215ag causes PMak)12.08 E 2.5(et)-.1 G 2.5(on)-2.5 G
(ot attempt to e)-2.5 E(xport an)-.15 E 2.5(yj)-.15 G
(obs to another machine.)-2.5 E(Se)93.6 615.6 Q -.15(ve)-.25 G .19
(ral \215ags may follo).15 F 2.69(was)-.25 G .191
(ingle `\255'. Those \215ags that require ar)-2.69 F .191(guments tak)
-.18 F 2.691(et)-.1 G .191(hem from successi)-2.691 F .491 -.15(ve p)
-.25 H(aram-).15 E(eters. E.g.)93.6 627.6 Q F2
(pmake -fDnI server.mk DEBUG /chip2/X/server/include)129.6 645.6 Q F0
.679(will cause PMak)93.6 663.6 R 3.179(et)-.1 G 3.179(or)-3.179 G(ead)
-3.179 E F2(server.mk)3.179 E F0 .679(as the input mak)3.179 F .679
(e\214le, de\214ne the v)-.1 F(ariable)-.25 E F2(DEBUG)3.179 E F0 .678
(as a global v)3.179 F(ari-)-.25 E(able and look for included mak)93.6
675.6 Q(e\214les in the directory)-.1 E F2(/chip2/X/server/include)2.5 E
F0(.)A F1 2.5(2.8. Summary)93.6 699.6 R F0 2.5(Am)93.6 715.2 S(ak)-2.5 E
(e\214le is made of four types of lines:)-.1 E EP
%%Page: 13 13
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PMak)93.6 48 Q 2.5(e\212AT)-.1 G 300.33
(utorial PSD:12-13)-2.95 F 6.5<8344>118.6 84 S(ependenc)-6.5 E 2.5(yl)
-.15 G(ines)-2.5 E 6.5<8343>118.6 99.6 S(reation commands)-6.5 E 6.5
<8356>118.6 115.2 S(ariable assignments)-7.61 E 6.5<8343>118.6 130.8 S
(omments, include statements and conditional directi)-6.5 E -.15(ve)-.25
G(s).15 E 2.758(Ad)93.6 146.4 S(ependenc)-2.758 E 2.758(yl)-.15 G .258
(ine is a list of one or more tar)-2.758 F .258(gets, an operator \(`)
-.18 F/F1 10/Courier@0 SF(:)A F0 .258(', `)B F1(::)A F0 .258(', or `)B
F1(!)A F0 .259('\), and a list of zero or more)B
(sources. Sources may contain wildcards and certain local v)93.6 158.4 Q
(ariables.)-.25 E 3.208(Ac)93.6 174 S .708(reation command is a re)
-3.208 F .708(gular shell command preceded by a tab)-.15 F 3.208(.I)-.4
G 3.208(na)-3.208 G .707(ddition, if the \214rst tw)-3.208 F 3.207(oc)
-.1 G(haracters)-3.207 E .332
(after the tab \(and other whitespace\) are a combination of `)93.6 186
R F1(@)A F0 2.832('o)C 2.832(r`)-2.832 G F1(-)-2.832 E F0 .332(', PMak)B
2.832(ew)-.1 G .332(ill cause the command to not)-2.832 F .383
(be printed \(if the character is `)93.6 198 R F1(@)A F0 .383
('\) or errors from it to be ignored \(if `)B F1(-)A F0 2.883('\). A)B
.383(blank line, dependenc)2.883 F 2.882(yl)-.15 G .382(ine or)-2.882 F
-.25(va)93.6 210 S .314(riable assignment terminates a creation script.\
 There may be only one creation script for each tar).25 F .315(get with)
-.18 F 2.5(a`)93.6 222 S F1(:)-2.5 E F0 2.5('o)C 2.5(r`)-2.5 G F1(!)-2.5
E F0 5('o)C(perator)-5 E(.)-.55 E -1.11(Va)93.6 237.6 S 2.905
(riables are places to store te)1.11 F 2.904(xt. The)-.15 F 5.404(ym)
-.15 G 2.904(ay be unconditionally assigned-to using the `)-5.404 F F1
(=)A F0 5.404('o)C(perator)-5.404 E(,)-.4 E .682
(appended-to using the `)93.6 249.6 R F1(+=)A F0 3.182('o)C(perator)
-3.182 E 3.182(,c)-.4 G .682(onditionally \(if the v)-3.182 F .682
(ariable is unde\214ned\) assigned-to with the `)-.25 F F1(?=)A F0(')A
(operator)93.6 261.6 Q 3.354(,a)-.4 G .854(nd assigned-to with v)-3.354
F .854(ariable e)-.25 F .854(xpansion with the `)-.15 F F1(:=)A F0 3.354
('o)C(perator)-3.354 E 3.354(.T)-.55 G .854
(he output of a shell command)-3.354 F .223(may be assigned to a v)93.6
273.6 R .223(ariable using the `)-.25 F F1(!=)A F0 2.724('o)C(perator)
-2.724 E 5.224(.V)-.55 G .224(ariables may be e)-6.334 F .224
(xpanded \(their v)-.15 F .224(alue inserted\) by)-.25 F 1.79(enclosing\
 their name in parentheses or curly braces, prceeded by a dollar sign.)
93.6 285.6 R 4.289(Ad)6.789 G 1.789(ollar sign may be)-4.289 F .243
(escaped with another dollar sign. V)93.6 297.6 R .243
(ariables are not e)-1.11 F .243(xpanded if PMak)-.15 F 2.743(ed)-.1 G
(oesn')-2.743 E 2.743(tk)-.18 G(no)-2.743 E 2.743(wa)-.25 G .244
(bout them. There are)-2.743 F(se)93.6 309.6 Q -.15(ve)-.25 G 3.412(nl)
.15 G .912(ocal v)-3.412 F(ariables:)-.25 E F1(.TARGET)3.412 E F0(,)A F1
(.ALLSRC)3.412 E F0(,)A F1(.OODATE)3.412 E F0(,)A F1(.PREFIX)3.412 E F0
(,)A F1(.IMPSRC)3.412 E F0(,)A F1(.ARCHIVE)3.412 E F0 3.412(,a)C(nd)
-3.412 E F1(.MEM-)3.412 E(BER)93.6 321.6 Q F0 5.165(.F)C .165
(our of them \()-5.315 F F1(.TARGET)A F0(,)A F1(.PREFIX)2.666 E F0(,)A
F1(.ARCHIVE)2.666 E F0 2.666(,a)C(nd)-2.666 E F1(.MEMBER)2.666 E F0
2.666(\)m)C .166(ay be used to specify `)-2.666 F(`dynamic)-.74 E
(sources.)93.6 333.6 Q 3.98 -.74('' V)-.7 H(ariables are good. Kno)-.37
E 2.5(wt)-.25 G(hem. Lo)-2.5 E .3 -.15(ve t)-.15 H(hem. Li).15 E .3 -.15
(ve t)-.25 H(hem.).15 E(Deb)93.6 349.2 Q(ugging of mak)-.2 E
(e\214les is best accomplished using the)-.1 E/F2 10/Times-Bold@0 SF
<ad6e>2.5 E F0(,)A F2(\255d m)2.5 E F0 2.5(,a)C(nd)-2.5 E F2(\255p 2)2.5
E F0(\215ags.)2.5 E F2 2.5(2.9. Exer)93.6 373.2 R(cises)-.18 E/F3 14
/Times-Bold@0 SF(TB)295.418 385.2 Q(A)-.42 E F2 2.5(3. Short-cuts)93.6
409.2 R(and Other Nice Things)2.5 E F0 .205(Based on what I')93.6 424.8
R .505 -.15(ve t)-.5 H .205(old you so f).15 F(ar)-.1 E 2.705(,y)-.4 G
.205(ou may ha)-2.705 F .505 -.15(ve g)-.2 H .205
(otten the impression that PMak).15 F 2.705(ei)-.1 G 2.704(sj)-2.705 G
.204(ust a w)-2.704 F .204(ay of storing)-.1 F -2.3 -.15(aw a)93.6 436.8
T 4.036(yc).15 G 1.536(ommands and making sure you don')-4.036 F 4.036
(tf)-.18 G(or)-4.036 E 1.536(get to compile something. Good. That')-.18
F 4.037(sj)-.55 G 1.537(ust what it is.)-4.037 F(Ho)93.6 448.8 Q(we)-.25
E -.15(ve)-.25 G 1.12 -.4(r, t).15 H .32(he w).4 F .32(ays I')-.1 F .62
-.15(ve d)-.5 H .32(escribed ha).15 F .62 -.15(ve b)-.2 H .319
(een inele).15 F -.05(ga)-.15 G .319(nt, at best, and painful, at w).05
F 2.819(orst. This)-.1 F .319(chapter contains)2.819 F .538
(things that mak)93.6 460.8 R 3.038(et)-.1 G .539(he writing of mak)
-3.038 F .539(e\214les easier and the mak)-.1 F .539(e\214les themselv)
-.1 F .539(es shorter and easier to modify)-.15 F 1.769
(\(and, occasionally)93.6 472.8 R 4.269(,s)-.65 G 1.769
(impler\). In this chapter)-4.269 F 4.269(,Ia)-.4 G 1.769
(ssume you are some)-4.269 F 1.768(what more f)-.25 F 1.768
(amiliar with Sprite \(or)-.1 F .597(UNIX, if that')93.6 484.8 R 3.097
(sw)-.55 G .597(hat you')-3.097 F .597
(re using\) than I did in chapter 2, just so you')-.5 F .597
(re on your toes.)-.5 F .597(So without further)5.597 F(ado...)93.6
496.8 Q F2 2.5(3.1. T)93.6 520.8 R(ransf)-.74 E(ormation Rules)-.25 E F0
.416(As you kno)93.6 536.4 R 1.716 -.65(w, a \214)-.25 H(le').65 E 2.916
(sn)-.55 G .415(ame consists of tw)-2.916 F 2.915(op)-.1 G .415
(arts: a base name, which gi)-2.915 F -.15(ve)-.25 G 2.915(ss).15 G .415
(ome hint as to the contents of)-2.915 F .921(the \214le, and a suf)93.6
548.4 R .921(\214x, which usually indicates the format of the \214le.)
-.25 F(Ov)5.921 E .921(er the years, as)-.15 F/F4 8/Times-Roman@0 SF
(UNIX)3.421 E F0 3.421<ae68>C .921(as de)-3.421 F -.15(ve)-.25 G(l-).15
E .51(oped, naming con)93.6 560.4 R -.15(ve)-.4 G .51(ntions, with re)
.15 F -.05(ga)-.15 G .51(rd to suf).05 F<8c78>-.25 E .51(es, ha)-.15 F
.81 -.15(ve a)-.2 H .51(lso de).15 F -.15(ve)-.25 G .51(loped that ha)
.15 F .81 -.15(ve b)-.2 H .51(ecome almost as incon-).15 F(tro)93.6
572.4 Q -.15(ve)-.15 G .923(rtible as La).15 F 2.223 -.65(w. E)-.15 H
.923(.g. a \214le ending in).65 F F1(.c)3.423 E F0 .923
(is assumed to contain C source code; one with a)3.423 F F1(.o)3.424 E
F0(suf)3.424 E .924(\214x is)-.25 F .899
(assumed to be a compiled, relocatable object \214le that may be link)
93.6 584.4 R .899(ed into an)-.1 F 3.399(yp)-.15 G .899
(rogram; a \214le with a)-3.399 F F1(.ms)3.398 E F0(suf)93.6 596.4 Q
.021(\214x is usually a te)-.25 F .022(xt \214le to be processed by T)
-.15 F(rof)-.35 E 2.522(fw)-.25 G .022
(ith the \255ms macro package, and so on.)-2.522 F .022(One of the best)
5.022 F .511(aspects of both Mak)93.6 608.4 R 3.011(ea)-.1 G .511
(nd PMak)-3.011 F 3.011(ec)-.1 G .511
(omes from their understanding of ho)-3.011 F 3.01(wt)-.25 G .51(he suf)
-3.01 F .51(\214x of a \214le pertains to its)-.25 F .77
(contents and their ability to do things with a \214le based sole)93.6
620.4 R 3.27(yo)-.15 G 3.27(ni)-3.27 G .77(ts suf)-3.27 F .77
(\214x. This ability comes from some-)-.25 F .656(thing kno)93.6 632.4 R
.655(wn as a transformation rule. A transformation rule speci\214es ho)
-.25 F 3.155(wt)-.25 G 3.155(oc)-3.155 G .655
(hange a \214le with one suf)-3.155 F<8c78>-.25 E
(into a \214le with another suf)93.6 644.4 Q(\214x.)-.25 E 3.059(At)93.6
660 S .559(ransformation rule looks much lik)-3.059 F 3.059(ead)-.1 G
(ependenc)-3.059 E 3.059(yl)-.15 G .559(ine, e)-3.059 F .559
(xcept the tar)-.15 F .56(get is made of tw)-.18 F 3.06(ok)-.1 G(no)
-3.06 E .56(wn suf)-.25 F<8c78>-.25 E(es)-.15 E .24(stuck together)93.6
672 R 2.74(.S)-.55 G(uf)-2.74 E<8c78>-.25 E .24(es are made kno)-.15 F
.24(wn to PMak)-.25 F 2.74(eb)-.1 G 2.74(yp)-2.74 G .24
(lacing them as sources on a dependenc)-2.74 F 2.74(yl)-.15 G .24
(ine whose)-2.74 F(tar)93.6 684 Q(get is the special tar)-.18 E(get)-.18
E F1(.SUFFIXES)2.5 E F0 5(.E)C(.g.)-5 E EP
%%Page: 14 14
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 300.33(PSD:12-14 PMak)93.6 48 R 2.5(e\212AT)-.1
G(utorial)-2.95 E/F1 10/Courier@0 SF 36(.SUFFIXES :)129.6 84 R(.o .c)6 E
66(.c.o :)129.6 96 R($\(CC\) $\(CFLAGS\) -c $\(.IMPSRC\))177.6 108 Q F0
.022(The creation script attached to the tar)93.6 126 R .023
(get is used to transform a \214le with the \214rst suf)-.18 F .023
(\214x \(in this case,)-.25 F F1(.c)2.523 E F0 2.523(\)i)C(nto)-2.523 E
2.505<618c>93.6 138 S .004(le with the second suf)-2.505 F .004
(\214x \(here,)-.25 F F1(.o)2.504 E F0 2.504(\). In)B .004
(addition, the tar)2.504 F .004(get inherits whate)-.18 F -.15(ve)-.25 G
2.504(ra).15 G(ttrib)-2.504 E .004(utes ha)-.2 F .304 -.15(ve b)-.2 H
.004(een applied).15 F .189(to the transformation rule.)93.6 150 R .189
(The simple rule gi)5.189 F -.15(ve)-.25 G 2.689(na).15 G(bo)-2.689 E
.489 -.15(ve s)-.15 H .189
(ays that to transform a C source \214le into an object).15 F .514
(\214le, you compile it using)93.6 162 R F1(cc)3.013 E F0 .513(with the)
3.013 F F1<ad63>3.013 E F0 3.013(\215ag. This)3.013 F .513(rule is tak)
3.013 F .513(en straight from the system mak)-.1 F .513(e\214le. Man)-.1
F(y)-.15 E .232(transformation rules \(and suf)93.6 174 R<8c78>-.25 E
.232(es\) are de\214ned there, and I refer you to it for more e)-.15 F
.233(xamples \(type `)-.15 F(`)-.74 E F1(pmake)A(-h)93.6 186 Q F0 1.48
-.74('' t)D 2.5<6f8c>.74 G(nd out where it is\).)-2.5 E(There are se)
93.6 201.6 Q -.15(ve)-.25 G
(ral things to note about the transformation rule gi).15 E -.15(ve)-.25
G 2.5(na).15 G(bo)-2.5 E -.15(ve)-.15 G(:).15 E 14.17(1\) The)118.6
217.2 R F1(.IMPSRC)3.136 E F0 -.25(va)3.136 G 3.136(riable. This).25 F
-.25(va)3.136 G .636(riable is set to the `).25 F .636(`implied source')
-.74 F 3.136('\()-.74 G .636(the \214le from which the)-3.136 F(tar)
143.6 229.2 Q(get is being created; the one with the \214rst suf)-.18 E
(\214x\), which, in this case, is the .c \214le.)-.25 E 14.17(2\) The)
118.6 244.8 R F1(CFLAGS)2.815 E F0 -.25(va)2.815 G .315
(riable. Almost all of the transformation rules in the system mak).25 F
.316(e\214le are set up)-.1 F .381(using v)143.6 256.8 R .381
(ariables that you can alter in your mak)-.25 F .38
(e\214le to tailor the rule to your needs. In this case,)-.1 F .815
(if you w)143.6 268.8 R .815
(ant all your C \214les to be compiled with the)-.1 F/F2 10/Times-Bold@0
SF<ad67>3.316 E F0 .816(\215ag, to pro)3.316 F .816
(vide information for)-.15 F F1(dbx)3.316 E F0(,)A .031(you w)143.6
280.8 R .031(ould set the)-.1 F F1(CFLAGS)2.531 E F0 -.25(va)2.531 G
.031(riable to contain).25 F F1(-g)2.531 E F0(\(`)2.531 E(`)-.74 E F1
.031(CFLAGS = -g)B F0 -.74('')C 2.53(\)a).74 G .03(nd PMak)-2.53 F 2.53
(ew)-.1 G .03(ould tak)-2.63 F(e)-.1 E(care of the rest.)143.6 292.8 Q
1.6 -.8(To g)93.6 308.4 T -2.15 -.25(iv e).8 H(you a quick e)2.75 E
(xample, the mak)-.15 E(e\214le in 2.3.4 could be changed to this:)-.1 E
F1 66(OBJS =)129.6 326.4 R(a.o b.o c.o)6 E 48(program :)129.6 338.4 R
($\(OBJS\))6 E($\(CC\) -o $\(.TARGET\) $\(.ALLSRC\))177.6 350.4 Q 48
($\(OBJS\) :)129.6 362.4 R(defs.h)6 E F0(The transformation rule I g)
93.6 380.4 Q -2.25 -.2(av e)-.05 H(abo)2.7 E .3 -.15(ve t)-.15 H(ak).15
E(es the place of the 6 lines)-.1 E/F3 7/Times-Roman@0 SF(1)-4.1 I F1 72
(a.o :)129.6 398.4 R(a.c)6 E(cc -c a.c)177.6 410.4 Q 72(b.o :)129.6
422.4 R(b.c)6 E(cc -c b.c)177.6 434.4 Q 72(c.o :)129.6 446.4 R(c.c)6 E
(cc -c c.c)177.6 458.4 Q F0(No)93.6 480 Q 2.829(wy)-.25 G .329
(ou may be w)-2.829 F .329(ondering about the dependenc)-.1 F 2.829(yb)
-.15 G .329(etween the)-2.829 F F1(.o)2.829 E F0(and)2.83 E F1(.c)2.83 E
F0 .33(\214les \212 it')2.83 F 2.83(sn)-.55 G .33(ot mentioned an)-2.83
F(y-)-.15 E .607(where in the ne)93.6 492 R 3.107(wm)-.25 G(ak)-3.107 E
.607(e\214le. This is because it isn')-.1 F 3.107(tn)-.18 G .607
(eeded: one of the ef)-3.107 F .606(fects of applying a transformation)
-.25 F(rule is the tar)93.6 504 Q
(get comes to depend on the implied source. That')-.18 E 2.5(sw)-.55 G
.1 -.05(hy i)-2.5 H(t').05 E 2.5(sc)-.55 G(alled the implied)-2.5 E/F4
10/Times-Italic@0 SF(sour)2.5 E(ce)-.37 E F0(.)A -.15(Fo)93.6 519.6 S
2.5(ram).15 G(ore detailed e)-2.5 E(xample. Say you ha)-.15 E .3 -.15
(ve a m)-.2 H(ak).15 E(e\214le lik)-.1 E 2.5(et)-.1 G(his:)-2.5 E F1 60
(a.out :)129.6 537.6 R(a.o b.o)6 E($\(CC\) $\(.ALLSRC\))177.6 549.6 Q F0
(and a directory set up lik)93.6 567.6 Q 2.5(et)-.1 G(his:)-2.5 E F1
(total 4)129.6 585.6 Q 6(-rw-rw-r-- 1)129.6 597.6 R 48(deboor 34)6 F 6
(Sep 7)6 F(00:43 Makefile)6 E 6(-rw-rw-r-- 1)129.6 609.6 R 42
(deboor 119)6 F 6(Oct 3)6 F(19:39 a.c)6 E 6(-rw-rw-r-- 1)129.6 621.6 R
42(deboor 201)6 F 6(Sep 7)6 F(00:43 a.o)6 E 6(-rw-rw-r-- 1)129.6 633.6 R
48(deboor 69)6 F 6(Sep 7)6 F(00:43 b.c)6 E F0 .463(While just typing `)
93.6 651.6 R(`)-.74 E F1(pmake)A F0 1.943 -.74('' w)D .463
(ill do the right thing, it').74 F 2.964(sm)-.55 G .464
(uch more informati)-2.964 F .764 -.15(ve t)-.25 H 2.964(ot).15 G .464
(ype `)-2.964 F(`)-.74 E F1 .464(pmake -d s)B F0 -.74('')C(.).74 E
(This will sho)93.6 663.6 Q 2.5(wy)-.25 G(ou what PMak)-2.5 E 2.5(ei)-.1
G 2.5(su)-2.5 G 2.5(pt)-2.5 G 2.5(oa)-2.5 G 2.5(si)-2.5 G 2.5(tp)-2.5 G
(rocesses the \214les. In this case, PMak)-2.5 E 2.5(ep)-.1 G
(rints the follo)-2.5 E(wing:)-.25 E .003 LW 165.6 708.2 93.6 708.2 DL
/F5 5.6/Times-Roman@0 SF(1)103.6 716.72 Q/F6 8/Times-Roman@0 SF
(This is also some)2 3.28 M(what cleaner)-.2 E 2(,It)-.32 G
(hink, than the dynamic source solution presented in 2.6)-2 E EP
%%Page: 15 15
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PMak)93.6 48 Q 2.5(e\212AT)-.1 G 300.33
(utorial PSD:12-15)-2.95 F/F1 10/Courier@0 SF(Suff_FindDeps \(a.out\))
129.6 84 Q(using existing source a.o)154.6 96 Q
(applying .o -> .out to "a.o")154.6 108 Q(Suff_FindDeps \(a.o\))129.6
120 Q(trying a.c...got it)154.6 132 Q(applying .c -> .o to "a.c")154.6
144 Q(Suff_FindDeps \(b.o\))129.6 156 Q(trying b.c...got it)154.6 168 Q
(applying .c -> .o to "b.c")154.6 180 Q(Suff_FindDeps \(a.c\))129.6 192
Q(trying a.y...not there)154.6 204 Q(trying a.l...not there)154.6 216 Q
(trying a.c,v...not there)154.6 228 Q(trying a.y,v...not there)154.6 240
Q(trying a.l,v...not there)154.6 252 Q(Suff_FindDeps \(b.c\))129.6 264 Q
(trying b.y...not there)154.6 276 Q(trying b.l...not there)154.6 288 Q
(trying b.c,v...not there)154.6 300 Q(trying b.y,v...not there)154.6 312
Q(trying b.l,v...not there)154.6 324 Q(--- a.o ---)129.6 336 Q 6(cc -c)
129.6 348 R(a.c)6 E(--- b.o ---)129.6 360 Q 6(cc -c)129.6 372 R(b.c)6 E
(--- a.out ---)129.6 384 Q(cc a.o b.o)129.6 396 Q(Suff_FindDeps)93.6
417.6 Q F0 .274(is the name of a function in PMak)2.774 F 2.774(et)-.1 G
.273(hat is called to check for implied sources for a tar)-2.774 F(-)-.2
E .821(get using transformation rules.)93.6 429.6 R .821(The transforma\
tions it tries are, naturally enough, limited to the ones that)5.821 F
(ha)93.6 441.6 Q 1.2 -.15(ve b)-.2 H .9(een de\214ned \(a transformatio\
n may be de\214ned multiple times, by the w).15 F(ay)-.1 E 3.4(,b)-.65 G
.9(ut only the most recent)-3.6 F .508(one will be used\). Y)93.6 453.6
R .508(ou will notice, ho)-1.1 F(we)-.25 E -.15(ve)-.25 G 1.308 -.4
(r, t).15 H .509(hat there is a de\214nite order to the suf).4 F<8c78>
-.25 E .509(es that are tried. This)-.15 F .392
(order is set by the relati)93.6 465.6 R .692 -.15(ve p)-.25 H .392
(ositions of the suf).15 F<8c78>-.25 E .392(es on the)-.15 F F1
(.SUFFIXES)2.891 E F0 .391(line \212 the earlier a suf)2.891 F .391
(\214x appears,)-.25 F .599(the earlier it is check)93.6 477.6 R .599
(ed as the source of a transformation. Once a suf)-.1 F .6
(\214x has been de\214ned, the only w)-.25 F .6(ay to)-.1 F .193
(change its position in the pecking order is to remo)93.6 489.6 R .492
-.15(ve a)-.15 H .192(ll the suf).15 F<8c78>-.25 E .192(es \(by ha)-.15
F .192(ving a)-.2 F F1(.SUFFIXES)2.692 E F0(dependenc)2.692 E(y)-.15 E
.087(line with no sources\) and rede\214ne them in the order you w)93.6
501.6 R .087(ant. \(Pre)-.1 F .087
(viously-de\214ned transformation rules will)-.25 F
(be automatically rede\214ned as the suf)93.6 513.6 Q<8c78>-.25 E
(es the)-.15 E 2.5(yi)-.15 G -1.9 -.4(nv o)-2.5 H(lv).4 E 2.5(ea)-.15 G
(re re-entered.\))-2.5 E .734(Another w)93.6 529.2 R .734(ay to af)-.1 F
.734(fect the search order is to mak)-.25 F 3.233(et)-.1 G .733
(he dependenc)-3.233 F 3.233(ye)-.15 G .733(xplicit. In the abo)-3.383 F
1.033 -.15(ve ex)-.15 H(ample,).15 E F1(a.out)3.233 E F0 .556
(depends on)93.6 541.2 R F1(a.o)3.056 E F0(and)3.056 E F1(b.o)3.056 E F0
5.556(.S)C .556(ince a transformation e)-5.556 F .556(xists from)-.15 F
F1(.o)3.057 E F0(to)3.057 E F1(.out)3.057 E F0 3.057(,P)C(Mak)-3.057 E
3.057(eu)-.1 G .557(ses that, as indicated)-3.057 F(by the `)93.6 553.2
Q(`)-.74 E F1(using existing source a.o)A F0 1.48 -.74('' m)D(essage.)
.74 E 1.144(The search for a transformation starts from the suf)93.6
568.8 R 1.144(\214x of the tar)-.25 F 1.144
(get and continues through all the de\214ned)-.18 F .085
(transformations, in the order dictated by the suf)93.6 580.8 R .086
(\214x ranking, until an e)-.25 F .086
(xisting \214le with the same base \(the tar)-.15 F(-)-.2 E .586
(get name minus the suf)93.6 592.8 R .586(\214x and an)-.25 F 3.085(yl)
-.15 G .585(eading directories\) is found. At that point, one or more t\
ransformation)-3.085 F(rules will ha)93.6 604.8 Q .3 -.15(ve b)-.2 H
(een found to change the one e).15 E(xisting \214le into the tar)-.15 E
(get.)-.18 E -.15(Fo)93.6 620.4 S 2.5(re).15 G(xample, ignoring what')
-2.65 E 2.5(si)-.55 G 2.5(nt)-2.5 G(he system mak)-2.5 E(e\214le for no)
-.1 E 1.3 -.65(w, s)-.25 H(ay you ha).65 E .3 -.15(ve a m)-.2 H(ak).15 E
(e\214le lik)-.1 E 2.5(et)-.1 G(his:)-2.5 E EP
%%Page: 16 16
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 300.33(PSD:12-16 PMak)93.6 48 R 2.5(e\212AT)-.1
G(utorial)-2.95 E/F1 10/Courier@0 SF 36(.SUFFIXES :)129.6 84 R
(.out .o .c .y .l)6 E 66(.l.c :)129.6 96 R(lex $\(.IMPSRC\))177.6 108 Q
(mv lex.yy.c $\(.TARGET\))177.6 120 Q 66(.y.c :)129.6 132 R
(yacc $\(.IMPSRC\))177.6 144 Q(mv y.tab.c $\(.TARGET\))177.6 156 Q 66
(.c.o :)129.6 168 R(cc -c $\(.IMPSRC\))177.6 180 Q 54(.o.out :)129.6 192
R(cc -o $\(.TARGET\) $\(.IMPSRC\))177.6 204 Q F0 .314
(and the single \214le)93.6 222 R F1(jive.l)2.814 E F0 5.314(.I)C 2.814
(fy)-5.314 G .314(ou were to type `)-2.814 F(`)-.74 E F1 .315
(pmake -rd ms jive.out)B F0 -.7(,')C 2.815('y)-.04 G .315(ou w)-2.815 F
.315(ould get the fol-)-.1 F(lo)93.6 234 Q(wing output for)-.25 E F1
(jive.out)2.5 E F0(:)A F1(Suff_FindDeps \(jive.out\))129.6 252 Q
(trying jive.o...not there)154.6 264 Q(trying jive.c...not there)154.6
276 Q(trying jive.y...not there)154.6 288 Q(trying jive.l...got it)154.6
300 Q(applying .l -> .c to "jive.l")154.6 312 Q
(applying .c -> .o to "jive.c")154.6 324 Q
(applying .o -> .out to "jive.o")154.6 336 Q F0 .234(and this is wh)93.6
354 R .234(y: PMak)-.05 F 2.734(es)-.1 G .233(tarts with the tar)-2.734
F(get)-.18 E F1(jive.out)2.733 E F0 2.733<2c8c>C .233(gures out its suf)
-2.733 F .233(\214x \()-.25 F F1(.out)A F0 2.733(\)a)C .233
(nd looks for things)-2.733 F .085(it can transform to a)93.6 366 R F1
(.out)2.585 E F0 .085(\214le. In this case, it only \214nds)2.585 F F1
(.o)2.585 E F0 2.585(,s)C 2.586(oi)-2.585 G 2.586(tl)-2.586 G .086
(ooks for the \214le)-2.586 F F1(jive.o)2.586 E F0 5.086(.I)C 2.586(tf)
-5.086 G .086(ails to \214nd)-2.686 F .323
(it, so it looks for transformations into a)93.6 378 R F1(.o)2.823 E F0
.323(\214le. Ag)2.823 F .323(ain it has only one choice:)-.05 F F1(.c)
2.823 E F0 5.323(.S)C 2.823(oi)-5.323 G 2.822(tl)-2.823 G .322(ooks for)
-2.822 F F1(jive.c)2.822 E F0 .369(and, as you kno)93.6 390 R 1.669 -.65
(w, f)-.25 H .369(ails to \214nd it. At this point it has tw).55 F 2.869
(oc)-.1 G .369(hoices: it can create the)-2.869 F F1(.c)2.869 E F0 .37
(\214le from either a)2.869 F F1(.y)2.87 E F0 .361(\214le or a)93.6 402
R F1(.l)2.861 E F0 .361(\214le. Since)2.861 F F1(.y)2.861 E F0 .361
(came \214rst on the)2.861 F F1(.SUFFIXES)2.86 E F0 .36
(line, it checks for)2.86 F F1(jive.y)2.86 E F0 .36(\214rst, b)2.86 F
.36(ut can')-.2 F 2.86<748c>-.18 G .36(nd it,)-2.86 F .233
(so it looks for)93.6 414 R F1(jive.l)2.733 E F0 .234
(and, lo and behold, there it is.)2.734 F .234
(At this point, it has de\214ned a transformation path as)5.234 F(follo)
93.6 426 Q(ws:)-.25 E F1(.l)2.684 E/F2 10/Symbol SF<ae>2.684 E F1(.c)
2.683 E F2<ae>2.683 E F1(.o)2.683 E F2<ae>2.683 E F1(.out)2.683 E F0
.183(and applies the transformation rules accordingly)2.683 F 2.683(.F)
-.65 G .183(or completeness, and)-2.833 F .07(to gi)93.6 438 R .37 -.15
(ve y)-.25 H .07(ou a better idea of what PMak).15 F 2.57(ea)-.1 G .07
(ctually did with this three-step transformation, this is what PMak)
-2.57 F(e)-.1 E(printed for the rest of the process:)93.6 450 Q F1
(Suff_FindDeps \(jive.o\))129.6 468 Q(using existing source jive.c)154.6
480 Q(applying .c -> .o to "jive.c")154.6 492 Q
(Suff_FindDeps \(jive.c\))129.6 504 Q(using existing source jive.l)154.6
516 Q(applying .l -> .c to "jive.l")154.6 528 Q
(Suff_FindDeps \(jive.l\))129.6 540 Q
(Examining jive.l...modified 17:16:01 Oct 4, 1987...up-to-date)129.6 552
Q(Examining jive.c...non-existent...out-of-date)129.6 564 Q
(--- jive.c ---)129.6 576 Q(lex jive.l)129.6 588 Q -3.332 1.666(... m)
129.6 600 T(eaningless lex output deleted .)-1.666 E 1.666(..)1.666 G
(mv lex.yy.c jive.c)129.6 612 Q
(Examining jive.o...non-existent...out-of-date)129.6 624 Q
(--- jive.o ---)129.6 636 Q(cc -c jive.c)129.6 648 Q
(Examining jive.out...non-existent...out-of-date)129.6 660 Q
(--- jive.out ---)129.6 672 Q(cc -o jive.out jive.o)129.6 684 Q F0 1.003
(One \214nal question remains: what does PMak)93.6 705.6 R 3.503(ed)-.1
G 3.503(ow)-3.503 G 1.002(ith tar)-3.503 F 1.002(gets that ha)-.18 F
1.302 -.15(ve n)-.2 H 3.502(ok).15 G(no)-3.502 E 1.002(wn suf)-.25 F
1.002(\214x? PMak)-.25 F 3.502(es)-.1 G(imply)-3.502 E .435
(pretends it actually has a kno)93.6 717.6 R .435(wn suf)-.25 F .435
(\214x and searches for transformations accordingly)-.25 F 5.436(.T)-.65
G .436(he suf)-5.436 F .436(\214x it chooses)-.25 F .998
(is the source for the)93.6 729.6 R F1(.NULL)3.498 E F0(tar)3.498 E .998
(get mentioned later)-.18 F 3.498(.I)-.55 G 3.498(nt)-3.498 G .998
(he system mak)-3.498 F(e\214le,)-.1 E F1(.out)3.498 E F0 .997
(is chosen as the `)3.498 F(`null)-.74 E EP
%%Page: 17 17
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PMak)93.6 48 Q 2.5(e\212AT)-.1 G 300.33
(utorial PSD:12-17)-2.95 F(suf)93.6 84 Q(\214x')-.25 E 2.713('b)-.74 G
.213(ecause most people use PMak)-2.713 F 2.714(et)-.1 G 2.714(oc)-2.714
G .214(reate programs. Y)-2.714 F .214(ou are, ho)-1.1 F(we)-.25 E -.15
(ve)-.25 G 1.014 -.4(r, f).15 H .214(ree and welcome to change).4 F .835
(it to a suf)93.6 96 R .835(\214x of your o)-.25 F .835(wn choosing.)
-.25 F .835(The null suf)5.835 F .835(\214x is ignored, ho)-.25 F(we)
-.25 E -.15(ve)-.25 G 1.635 -.4(r, w).15 H .835(hen PMak).4 F 3.335(ei)
-.1 G 3.335(si)-3.335 G 3.335(nc)-3.335 G(ompatibility)-3.335 E
(mode \(see chapter 4\).)93.6 108 Q/F1 10/Times-Bold@0 SF 2.5
(3.2. Including)93.6 132 R(Other Mak)2.5 E(e\214les)-.1 E F0 .185
(Just as for programs, it is often useful to e)93.6 147.6 R .185
(xtract certain parts of a mak)-.15 F .185
(e\214le into another \214le and just include)-.1 F(it in other mak)93.6
159.6 Q(e\214les someho)-.1 E 1.3 -.65(w. M)-.25 H(an).65 E 2.5(yc)-.15
G(ompilers allo)-2.5 E 2.5(wy)-.25 G(ou say something lik)-2.5 E(e)-.1 E
/F2 10/Courier@0 SF(#include "defs.h")129.6 177.6 Q F0 .181
(to include the contents of)93.6 195.6 R F2(defs.h)2.681 E F0 .181
(in the source \214le. PMak)2.681 F 2.68(ea)-.1 G(llo)-2.68 E .18
(ws you to do the same thing for mak)-.25 F(e\214les,)-.1 E .284
(with the added ability to use v)93.6 207.6 R .284
(ariables in the \214lenames.)-.25 F .285(An include directi)5.284 F
.585 -.15(ve i)-.25 H 2.785(nam).15 G(ak)-2.785 E .285
(e\214le looks either lik)-.1 F(e)-.1 E(this:)93.6 219.6 Q F2
(#include <file>)129.6 237.6 Q F0(or this)93.6 255.6 Q F2
(#include "file")129.6 273.6 Q F0 .208(The dif)93.6 291.6 R .208
(ference between the tw)-.25 F 2.708(oi)-.1 G 2.708(sw)-2.708 G .208
(here PMak)-2.708 F 2.708(es)-.1 G .208
(earches for the \214le: the \214rst w)-2.708 F(ay)-.1 E 2.708(,P)-.65 G
(Mak)-2.708 E 2.708(ew)-.1 G .207(ill look for the)-2.708 F .255
(\214le only in the system mak)93.6 303.6 R .255(e\214le directory \(or\
 directories\) \(to \214nd out what that directory is, gi)-.1 F .555
-.15(ve P)-.25 H(Mak).15 E 2.755(et)-.1 G(he)-2.755 E F1<ad68>93.6 315.6
Q F0 2.722(\215ag\). The)2.722 F .222(system mak)2.722 F .222
(e\214le directory search path can be o)-.1 F -.15(ve)-.15 G .222
(rridden via the).15 F F1<ad6d>2.721 E F0 2.721(option. F)2.721 F .221
(or \214les in dou-)-.15 F(ble-quotes, the search is more comple)93.6
327.6 Q(x:)-.15 E 14.17(1\) The)118.6 343.2 R(directory of the mak)2.5 E
(e\214le that')-.1 E 2.5(si)-.55 G(ncluding the \214le.)-2.5 E 14.17
(2\) The)118.6 358.8 R(current directory \(the one in which you in)2.5 E
-.2(vo)-.4 G -.1(ke).2 G 2.5(dP).1 G(Mak)-2.5 E(e\).)-.1 E 14.17
(3\) The)118.6 374.4 R(directories gi)2.5 E -.15(ve)-.25 G 2.5(nb).15 G
2.5(yy)-2.5 G(ou using)-2.5 E F1<ad49>2.5 E F0
(\215ags, in the order in which you g)2.5 E -2.25 -.2(av e)-.05 H(them.)
2.7 E 14.17(4\) Directories)118.6 390 R(gi)2.5 E -.15(ve)-.25 G 2.5(nb)
.15 G(y)-2.5 E F2(.PATH)2.5 E F0(dependenc)2.5 E 2.5(yl)-.15 G
(ines \(see chapter 4\).)-2.5 E 14.17(5\) The)118.6 405.6 R(system mak)
2.5 E(e\214le directory)-.1 E(.)-.65 E(in that order)93.6 421.2 Q(.)-.55
E -1.1(Yo)93.6 436.8 S 2.527(ua)1.1 G .027(re free to use PMak)-2.527 F
2.527(ev)-.1 G .027(ariables in the \214lename\212PMak)-2.777 F 2.527
(ew)-.1 G .027(ill e)-2.527 F .027
(xpand them before searching for the \214le.)-.15 F -1.1(Yo)93.6 448.8 S
3.532(um)1.1 G 1.032
(ust specify the searching method with either angle brack)-3.532 F 1.031
(ets or double-quotes)-.1 F/F3 10/Times-Italic@0 SF(outside)3.531 E F0
1.031(of a v)3.531 F(ariable)-.25 E -.15(ex)93.6 460.8 S
(pansion. I.e. the follo).15 E(wing)-.25 E F2 8(SYSTEM =)129.6 478.8 R
(<command.mk>)6 E(#include $\(SYSTEM\))129.6 502.8 Q F0 -.1(wo)93.6
520.8 S(n').1 E 2.5(tw)-.18 G(ork.)-2.6 E F1 2.5(3.3. Sa)93.6 544.8 R
(ving Commands)-.25 E F0 .18(There may come a time when you will w)93.6
560.4 R .18(ant to sa)-.1 F .48 -.15(ve c)-.2 H .18
(ertain commands to be e).15 F -.15(xe)-.15 G .18(cuted when e).15 F
-.15(ve)-.25 G .18(rything else).15 F .179(is done. F)93.6 572.4 R .179
(or instance: you')-.15 F .179(re making se)-.5 F -.15(ve)-.25 G .178
(ral dif).15 F .178(ferent libraries at one time and you w)-.25 F .178
(ant to create the mem-)-.1 F .431(bers in parallel. Problem is,)93.6
584.4 R F2(ranlib)2.931 E F0 .431
(is another one of those programs that can')2.931 F 2.931(tb)-.18 G
2.931(er)-2.931 G .431(un more than once in)-2.931 F .629
(the same directory at the same time \(each one creates a \214le called)
93.6 596.4 R F2(__.SYMDEF)3.128 E F0 .628(into which it stuf)3.128 F
.628(fs infor)-.25 F(-)-.2 E .209(mation for the link)93.6 608.4 R .209
(er to use. T)-.1 F .409 -.1(wo o)-.8 H 2.709(ft).1 G .21
(hem running at once will o)-2.709 F -.15(ve)-.15 G .21
(rwrite each other').15 F 2.71<738c>-.55 G .21(le and the result will)
-2.71 F .399(be g)93.6 620.4 R .399(arbage for both parties\). Y)-.05 F
.399(ou might w)-1.1 F .399(ant a w)-.1 F .399(ay to sa)-.1 F .699 -.15
(ve t)-.2 H .398(he ranlib commands til the end so the).15 F 2.898(yc)
-.15 G .398(an be)-2.898 F .605(run one after the other)93.6 632.4 R
3.106(,t)-.4 G .606(hus k)-3.106 F .606
(eeping them from trashing each other')-.1 F 3.106<738c>-.55 G .606
(le. PMak)-3.106 F 3.106(ea)-.1 G(llo)-3.106 E .606
(ws you to do this by)-.25 F(inserting an ellipsis \(`)93.6 644.4 Q
-.834(`. . .)-.74 F -.74('')-.7 G 2.5(\)a).74 G 2.5(sac)-2.5 G
(ommand between commands to be run at once and those to be run later)
-2.5 E(.)-.55 E(So for the)93.6 660 Q F2(ranlib)2.5 E F0(case abo)2.5 E
-.15(ve)-.15 G 2.5(,y).15 G(ou might do this:)-2.5 E EP
%%Page: 18 18
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 300.33(PSD:12-18 PMak)93.6 48 R 2.5(e\212AT)-.1
G(utorial)-2.95 E/F1 10/Courier@0 SF 54(lib1.a :)129.6 84 R
($\(LIB1OBJS\))6 E(rm -f $\(.TARGET\))177.6 96 Q
(ar cr $\(.TARGET\) $\(.ALLSRC\))177.6 108 Q(...)177.6 120 Q
(ranlib $\(.TARGET\))177.6 132 Q 54(lib2.a :)129.6 156 R($\(LIB2OBJS\))6
E(rm -f $\(.TARGET\))177.6 168 Q(ar cr $\(.TARGET\) $\(.ALLSRC\))177.6
180 Q(...)177.6 192 Q(ranlib $\(.TARGET\))177.6 204 Q F0(This w)93.6 222
Q(ould sa)-.1 E .3 -.15(ve b)-.2 H(oth).15 E F1(ranlib $\(.TARGET\))
129.6 240 Q F0 .079(commands until the end, when the)93.6 258 R 2.579
(yw)-.15 G .078(ould run one after the other \(using the correct v)
-2.679 F .078(alue for the)-.25 F F1(.TARGET)2.578 E F0 -.25(va)93.6 270
S(riable, of course\).).25 E .974(Commands sa)93.6 285.6 R -.15(ve)-.2 G
3.474(di).15 G 3.474(nt)-3.474 G .974(his manner are only e)-3.474 F
-.15(xe)-.15 G .975(cuted if PMak).15 F 3.475(em)-.1 G .975
(anages to re-create e)-3.475 F -.15(ve)-.25 G .975(rything without an)
.15 F(error)93.6 297.6 Q(.)-.55 E/F2 10/Times-Bold@0 SF 2.5(3.4. T)93.6
321.6 R(ar)-.92 E(get Attrib)-.1 E(utes)-.2 E F0(PMak)93.6 337.2 Q 3.657
(ea)-.1 G(llo)-3.657 E 1.157(ws you to gi)-.25 F 1.457 -.15(ve a)-.25 H
(ttrib).15 E 1.157(utes to tar)-.2 F 1.157
(gets by means of special sources. Lik)-.18 F 3.657(ee)-.1 G -.15(ve)
-3.907 G 1.156(rything else PMak).15 F(e)-.1 E .305
(uses, these sources be)93.6 349.2 R .305
(gin with a period and are made up of all upper)-.15 F .306
(-case letters. There are v)-.2 F .306(arious reasons)-.25 F .591
(for using them, and I will try to gi)93.6 361.2 R .891 -.15(ve ex)-.25
H .591(amples for most of them. Others you').15 F .591(ll ha)-.1 F .891
-.15(ve t)-.2 H 3.091<6f8c>.15 G .591(nd uses for your)-3.091 F(-)-.2 E
.436(self. Think of it as `)93.6 373.2 R .437(`an e)-.74 F -.15(xe)-.15
G .437(rcise for the reader).15 F -.7(.')-.55 G 2.937('B)-.04 G 2.937
(yp)-2.937 G .437
(lacing one \(or more\) of these as a source on a depen-)-2.937 F(denc)
93.6 385.2 Q 2.732(yl)-.15 G .231(ine, you are `)-2.732 F .231
(`marking the tar)-.74 F .231(get\(s\) with that attrib)-.18 F(ute.)-.2
E 1.711 -.74('' T)-.7 H(hat').74 E 2.731(sj)-.55 G .231(ust the w)-2.731
F .231(ay I phrase it, so you kno)-.1 F -.65(w.)-.25 G(An)93.6 400.8 Q
2.824(ya)-.15 G(ttrib)-2.824 E .324(utes gi)-.2 F -.15(ve)-.25 G 2.824
(na).15 G 2.824(ss)-2.824 G .325
(ources for a transformation rule are applied to the tar)-2.824 F .325
(get of the transformation rule)-.18 F(when the rule is applied.)93.6
412.8 Q(.DONTCARE)93.6 428.4 Q .834(If a tar)153.6 440.4 R .834
(get is mark)-.18 F .834(ed with this attrib)-.1 F .833(ute and PMak)-.2
F 3.333(ec)-.1 G(an')-3.333 E 3.333<748c>-.18 G .833(gure out ho)-3.333
F 3.333(wt)-.25 G 3.333(oc)-3.333 G .833(reate it, it will)-3.333 F
1.486(ignore this f)153.6 452.4 R 1.486(act and assume the \214le isn')
-.1 F 3.987(tr)-.18 G 1.487(eally needed or actually e)-3.987 F 1.487
(xists and PMak)-.15 F 3.987(ej)-.1 G(ust)-3.987 E(can')153.6 464.4 Q
3.451<748c>-.18 G .951(nd it. This may pro)-3.451 F 1.251 -.15(ve w)-.15
H .951(rong, b).15 F .95
(ut the error will be noted later on, not when PMak)-.2 F(e)-.1 E .95
(tries to create the tar)153.6 476.4 R .951(get so mark)-.18 F .951
(ed. This attrib)-.1 F .951(ute also pre)-.2 F -.15(ve)-.25 G .951
(nts PMak).15 F 3.451(ef)-.1 G .951(rom attempting to)-3.451 F
(touch the tar)153.6 488.4 Q(get if it is gi)-.18 E -.15(ve)-.25 G 2.5
(nt).15 G(he)-2.5 E F2<ad74>2.5 E F0(\215ag.)2.5 E 28.89(.EXEC This)93.6
504 R(attrib)3.916 E 1.416(ute causes its shell script to be e)-.2 F
-.15(xe)-.15 G 1.416(cuted while ha).15 F 1.416(ving no ef)-.2 F 1.416
(fect on tar)-.25 F 1.416(gets that)-.18 F 1.218(depend on it. This mak)
153.6 516 R 1.218(es the tar)-.1 F 1.218(get into a sort of subroutine.)
-.18 F 1.218(An e)6.218 F 1.219(xample. Say you ha)-.15 F -.15(ve)-.2 G
.967(some LISP \214les that need to be compiled and loaded into a LISP \
process. T)153.6 528 R 3.466(od)-.8 G 3.466(ot)-3.466 G .966(his, you)
-3.466 F .83(echo LISP commands into a \214le and e)153.6 540 R -.15(xe)
-.15 G .831(cute a LISP with this \214le as its input when e).15 F -.15
(ve)-.25 G(ry-).15 E(thing')153.6 552 Q 3.084(sd)-.55 G .584
(one. Say also that you ha)-3.084 F .884 -.15(ve t)-.2 H 3.084(ol).15 G
.584(oad other \214les from another system before you can)-3.084 F .81
(compile your \214les and further)153.6 564 R 3.31(,t)-.4 G .81
(hat you don')-3.31 F 3.31(tw)-.18 G .81
(ant to go through the loading and dumping)-3.41 F .504(unless one of)
153.6 576 R/F3 10/Times-Italic@0 SF(your)3.003 E F0 .503
(\214les has changed. Y)3.003 F .503(our mak)-1.1 F .503
(e\214le might look a little bit lik)-.1 F 3.003(et)-.1 G .503
(his \(remem-)-3.003 F(ber)153.6 588 Q 3.076(,t)-.4 G .576
(his is an educational e)-3.076 F .577(xample, and don')-.15 F 3.077(tw)
-.18 G .577(orry about the)-3.177 F F1(COMPILE)3.077 E F0 .577
(rule, all will soon)3.077 F(become clear)153.6 600 Q 2.5(,g)-.4 G
(rasshopper\):)-2.5 E EP
%%Page: 19 19
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PMak)93.6 48 Q 2.5(e\212AT)-.1 G 300.33
(utorial PSD:12-19)-2.95 F/F1 10/Courier@0 SF 54(system :)189.6 84 R
(init a.fasl b.fasl c.fasl)6 E(for i in $\(.ALLSRC\);)237.6 96 Q(do)
237.6 108 Q(echo -n '\(load "' >> input)285.6 120 Q
(echo -n ${i} >> input)285.6 132 Q(echo '"\)' >> input)285.6 144 Q(done)
237.6 156 Q(echo '\(dump "$\(.TARGET\)"\)' >> input)237.6 168 Q
(lisp < input)237.6 180 Q 54(a.fasl :)189.6 204 R(a.l init COMPILE)6 E
54(b.fasl :)189.6 216 R(b.l init COMPILE)6 E 54(c.fasl :)189.6 228 R
(c.l init COMPILE)6 E 48(COMPILE :)189.6 240 R(.USE)6 E
(echo '\(compile "$\(.ALLSRC\)"\)' >> input)237.6 252 Q 66(init :)189.6
264 R(.EXEC)6 E(echo '\(load-system\)' > input)237.6 276 Q(.EXEC)153.6
297.6 Q F0 .772(sources, don')3.272 F 3.272(ta)-.18 G .772
(ppear in the local v)-3.272 F .772(ariables of tar)-.25 F .772
(gets that depend on them \(nor are)-.18 F(the)153.6 309.6 Q 3.298(yt)
-.15 G .798(ouched if PMak)-3.298 F 3.298(ei)-.1 G 3.298(sg)-3.298 G
-2.15 -.25(iv e)-3.298 H 3.298(nt).25 G(he)-3.298 E/F2 10/Times-Bold@0
SF<ad74>3.298 E F0 3.298(\215ag\). Note)3.298 F .799
(that all the rules, not just that for)3.298 F F1(sys-)3.299 E(tem)153.6
321.6 Q F0 2.956(,i)C(nclude)-2.956 E F1(init)2.956 E F0 .456
(as a source. This is because none of the other tar)2.956 F .456
(gets can be made until)-.18 F F1(init)153.6 333.6 Q F0
(has been made, thus the)2.5 E 2.5(yd)-.15 G(epend on it.)-2.5 E(.EXPOR)
93.6 349.2 Q 19.21(TT)-.6 G .343(his is used to mark those tar)-19.21 F
.344(gets whose creation should be sent to another machine if at all)
-.18 F .007(possible. This may be used by some e)153.6 361.2 R .007
(xportation schemes if the e)-.15 F .007(xportation is e)-.15 F(xpensi)
-.15 E -.15(ve)-.25 G 2.507(.Y).15 G(ou)-3.607 E
(should ask your system administrator if it is necessary)153.6 373.2 Q
(.)-.65 E(.EXPOR)93.6 388.8 Q(TSAME)-.6 E -.7(Te)153.6 400.8 S .121
(lls the e).7 F .122(xport system that the job should be e)-.15 F .122
(xported to a machine of the same architecture)-.15 F .535
(as the current one. Certain operations \(e.g.)153.6 412.8 R .535
(running te)5.535 F .534(xt through)-.15 F F1(nroff)3.034 E F0 3.034
(\)c)C .534(an be performed)-3.034 F .34(the same on an)153.6 424.8 R
2.841(ya)-.15 G .341(rchitecture \(CPU and operating system type\), whi\
le others \(e.g. compiling)-2.841 F 3.764(ap)153.6 436.8 S 1.264
(rogram with)-3.764 F F1(cc)3.764 E F0 3.764(\)m)C 1.264
(ust be performed on a machine with the same architecture. Not all)
-3.764 F -.15(ex)153.6 448.8 S(port systems will support this attrib).15
E(ute.)-.2 E 17.23(.IGNORE Gi)93.6 464.4 R .91(ving a tar)-.25 F .91
(get the)-.18 F F1(.IGNORE)3.41 E F0(attrib)3.41 E .91(ute causes PMak)
-.2 F 3.41(et)-.1 G 3.41(oi)-3.41 G .91(gnore errors from an)-3.41 F
3.41(yo)-.15 G 3.41(ft)-3.41 G .91(he tar)-3.41 F(-)-.2 E(get')153.6
476.4 Q 2.5(sc)-.55 G(ommands, as if the)-2.5 E 2.5(ya)-.15 G
(ll had `\255' before them.)-2.5 E 6.12(.INVISIBLE This)93.6 492 R(allo)
3.402 E .902(ws you to specify one tar)-.25 F .901
(get as a source for another without the one af)-.18 F .901(fecting the)
-.25 F(other')153.6 504 Q 2.902(sl)-.55 G .402(ocal v)-2.902 F .402
(ariables. Useful if, say)-.25 F 2.902(,y)-.65 G .402(ou ha)-2.902 F
.702 -.15(ve a m)-.2 H(ak).15 E .402(e\214le that creates tw)-.1 F 2.902
(op)-.1 G .402(rograms, one of)-2.902 F
(which is used to create the other)153.6 516 Q 2.5(,s)-.4 G 2.5(oi)-2.5
G 2.5(tm)-2.5 G(ust e)-2.5 E(xist before the other is created. Y)-.15 E
(ou could say)-1.1 E F1 60(prog1 :)189.6 534 R
($\(PROG1OBJS\) prog2 MAKEINSTALL)6 E 60(prog2 :)189.6 546 R
($\(PROG2OBJS\) .INVISIBLE MAKEINSTALL)6 E F0(where)153.6 564 Q F1
(MAKEINSTALL)2.997 E F0 .496(is some comple)2.997 F 2.996(x.)-.15 G .496
(USE rule \(see belo)-2.996 F .496(w\) that depends on the)-.25 F F1
(.ALL-)2.996 E(SRC)153.6 576 Q F0 -.25(va)3.624 G 1.124
(riable containing the right things. W).25 F 1.125(ithout the)-.4 F F1
(.INVISIBLE)3.625 E F0(attrib)3.625 E 1.125(ute for)-.2 F F1(prog2)3.625
E F0(,)A(the)153.6 588 Q F1(MAKEINSTALL)3.409 E F0 .909(rule couldn')
3.409 F 3.409(tb)-.18 G 3.409(ea)-3.409 G .909
(pplied. This is not as useful as it should be, and the)-3.409 F
(semantics may change \(or the whole thing go a)153.6 600 Q -.1(wa)-.15
G(y\) in the not-too-distant future.).1 E 33.34(.JOIN This)93.6 615.6 R
.333(is another w)2.833 F .334(ay to a)-.1 F -.2(vo)-.2 G .334
(id performing some operations in parallel while permitting e).2 F -.15
(ve)-.25 G(ry-).15 E .541
(thing else to be done so. Speci\214cally it forces the tar)153.6 627.6
R(get')-.18 E 3.04(ss)-.55 G .54(hell script to be e)-3.04 F -.15(xe)
-.15 G .54(cuted only if).15 F .093(one or more of the sources w)153.6
639.6 R .094(as out-of-date. In addition, the tar)-.1 F(get')-.18 E
2.594(sn)-.55 G .094(ame, in both its)-2.594 F F1(.TAR-)2.594 E(GET)
153.6 651.6 Q F0 -.25(va)3.312 G .811(riable and all the local v).25 F
.811(ariables of an)-.25 F 3.311(yt)-.15 G(ar)-3.311 E .811
(get that depends on it, is replaced by the)-.18 F -.25(va)153.6 663.6 S
.7(lue of its).25 F F1(.ALLSRC)3.2 E F0 -.25(va)3.2 G 3.2(riable. As).25
F .701(an e)3.201 F .701(xample, suppose you ha)-.15 F 1.001 -.15
(ve a p)-.2 H .701(rogram that has four).15 F .076(libraries that compi\
le in the same directory along with, and at the same time as, the progr\
am.)153.6 675.6 R -1.1(Yo)153.6 687.6 S 3.028(ua)1.1 G -.05(ga)-3.028 G
.528(in ha).05 F .828 -.15(ve t)-.2 H .528(he problem with).15 F F1
(ranlib)3.029 E F0 .529(that I mentioned earlier)3.029 F 3.029(,o)-.4 G
.529(nly this time it')-3.029 F 3.029(sm)-.55 G(ore)-3.029 E(se)153.6
699.6 Q -.15(ve)-.25 G .187(re: you can').15 F 2.687(tj)-.18 G .187
(ust put the ranlib of)-2.687 F 2.687(ft)-.25 G 2.686(ot)-2.687 G .186
(he end since the program will need those libraries)-2.686 F
(before it can be re-created. Y)153.6 711.6 Q(ou can do something lik)
-1.1 E 2.5(et)-.1 G(his:)-2.5 E EP
%%Page: 20 20
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 300.33(PSD:12-20 PMak)93.6 48 R 2.5(e\212AT)-.1
G(utorial)-2.95 E/F1 10/Courier@0 SF 48(program :)189.6 84 R
($\(OBJS\) libraries)6 E(cc -o $\(.TARGET\) $\(.ALLSRC\))237.6 96 Q 36
(libraries :)189.6 120 R(lib1.a lib2.a lib3.a lib4.a .JOIN)6 E
(ranlib $\(.OODATE\))237.6 132 Q F0 3.248(In this case, PMak)153.6 150 R
5.748(ew)-.1 G 3.248(ill re-create the)-5.748 F F1($\(OBJS\))5.748 E F0
3.249(as necessary)5.748 F 5.749(,a)-.65 G 3.249(long with)-5.749 F F1
(lib1.a)5.749 E F0(,)A F1(lib2.a)153.6 162 Q F0(,)A F1(lib3.a)4.272 E F0
(and)4.272 E F1(lib4.a)4.272 E F0 6.772(.I)C 4.272(tw)-6.772 G 1.772
(ill then e)-4.272 F -.15(xe)-.15 G(cute).15 E F1(ranlib)4.271 E F0
1.771(on an)4.271 F 4.271(yl)-.15 G 1.771(ibrary that w)-4.271 F(as)-.1
E .174(changed and set)153.6 174 R F1(program)2.674 E F0 -.55('s)C F1
(.ALLSRC)3.224 E F0 -.25(va)2.674 G .174(riable to contain what').25 F
2.674(si)-.55 G(n)-2.674 E F1($\(OBJS\))2.674 E F0(follo)2.675 E .175
(wed by)-.25 F -.74(``)153.6 186 S F1 1.394(lib1.a lib2.a lib3.a lib4.a)
.74 F F0 -.7(.')C 6.394('I)-.04 G 3.894(nc)-6.394 G 1.394(ase you')
-3.894 F 1.394(re w)-.5 F 1.394(ondering, it')-.1 F 3.894(sc)-.55 G
(alled)-3.894 E F1(.JOIN)3.894 E F0 .291(because it joins together dif)
153.6 198 R .291(ferent threads of the `)-.25 F .291(`input graph')-.74
F 2.791('a)-.74 G 2.792(tt)-2.791 G .292(he tar)-2.792 F .292(get mark)
-.18 F .292(ed with the)-.1 F(attrib)153.6 210 Q 3.462(ute. Another)-.2
F .962(aspect of the .JOIN attrib)3.462 F .961(ute is it k)-.2 F .961
(eeps the tar)-.1 F .961(get from being created if)-.18 F(the)153.6 222
Q/F2 10/Times-Bold@0 SF<ad74>2.5 E F0(\215ag w)2.5 E(as gi)-.1 E -.15
(ve)-.25 G(n.).15 E 25.56(.MAKE The)93.6 237.6 R F1(.MAKE)2.872 E F0
(attrib)2.872 E .372(ute marks its tar)-.2 F .372
(get as being a recursi)-.18 F .672 -.15(ve i)-.25 H -1.9 -.4(nv o).15 H
.372(cation of PMak).4 F 2.873(e. This)-.1 F(forces)2.873 E(PMak)153.6
249.6 Q 3.342(et)-.1 G 3.342(oe)-3.342 G -.15(xe)-3.492 G .842
(cute the script associated with the tar).15 F .841(get \(if it')-.18 F
3.341(so)-.55 G .841(ut-of-date\) e)-3.341 F -.15(ve)-.25 G 3.341(ni).15
G 3.341(fy)-3.341 G .841(ou g)-3.341 F -2.25 -.2(av e)-.05 H(the)153.6
261.6 Q F2<ad6e>2.5 E F0(or)2.5 E F2<ad74>2.5 E F0
(\215ag. By doing this, you can start at the top of a system and type)
2.5 E F1(pmake -n)189.6 279.6 Q F0 .036(and ha)153.6 297.6 R .336 -.15
(ve i)-.2 H 2.537(td).15 G .037(escend the directory tree \(if your mak)
-2.537 F .037(e\214les are set up correctly\), printing what it)-.1 F
-.1(wo)153.6 309.6 S(uld ha).1 E .3 -.15(ve exe)-.2 H
(cuted if you hadn').15 E 2.5(ti)-.18 G(ncluded the)-2.5 E F2<ad6e>2.5 E
F0(\215ag.)2.5 E(.NOEXPOR)93.6 325.2 Q(T)-.6 E .462(If possible, PMak)
153.6 337.2 R 2.962(ew)-.1 G .462(ill attempt to e)-2.962 F .461
(xport the creation of all tar)-.15 F .461
(gets to another machine \(this)-.18 F .077(depends on ho)153.6 349.2 R
2.577(wP)-.25 G(Mak)-2.577 E 2.577(ew)-.1 G .077(as con\214gured\). Som\
etimes, the creation is so simple, it is pointless)-2.677 F .274
(to send it to another machine. If you gi)153.6 361.2 R .574 -.15(ve t)
-.25 H .273(he tar).15 F .273(get the)-.18 F F1(.NOEXPORT)2.773 E F0
(attrib)2.773 E .273(ute, it will be run)-.2 F(locally)153.6 373.2 Q 2.5
(,e)-.65 G -.15(ve)-2.75 G 2.5(ni).15 G 2.5(fy)-2.5 G(ou')-2.5 E .3 -.15
(ve g)-.5 H -2.15 -.25(iv e).15 H 2.5(nP).25 G(Mak)-2.5 E 2.5(et)-.1 G
(he)-2.5 E F2(\255L 0)2.5 E F0(\215ag.)2.5 E(.NO)93.6 388.8 Q 8.19
(TMAIN Normally)-.4 F 2.973(,i)-.65 G 2.973(fy)-2.973 G .473
(ou do not specify a tar)-2.973 F .473(get to mak)-.18 F 2.973(ei)-.1 G
2.973(na)-2.973 G .773 -.15(ny o)-2.973 H .474(ther w).15 F(ay)-.1 E
2.974(,P)-.65 G(Mak)-2.974 E 2.974(ew)-.1 G .474(ill tak)-2.974 F 2.974
(et)-.1 G .474(he \214rst)-2.974 F(tar)153.6 400.8 Q .445
(get on the \214rst dependenc)-.18 F 2.945(yl)-.15 G .445(ine of a mak)
-2.945 F .445(e\214le as the tar)-.1 F .444(get to create. That tar)-.18
F .444(get is kno)-.18 F(wn)-.25 E .6(as the `)153.6 412.8 R .6(`Main T)
-.74 F(ar)-.8 E(get')-.18 E 3.1('a)-.74 G .601
(nd is labeled as such if you print the dependencies out using the)-3.1
F F2<ad70>3.101 E F0 3.024(\215ag. Gi)153.6 424.8 R .524(ving a tar)-.25
F .524(get this attrib)-.18 F .524(ute tells PMak)-.2 F 3.024(et)-.1 G
.524(hat the tar)-3.024 F .524(get is de\214nitely)-.18 F/F3 10
/Times-Italic@0 SF(not)3.023 E F0 .523(the Main T)3.023 F(ar)-.8 E(-)-.2
E 3.018(get. This)153.6 436.8 R(allo)3.018 E .518(ws you to place tar)
-.25 F .518(gets in an included mak)-.18 F .518(e\214le and ha)-.1 F
.818 -.15(ve P)-.2 H(Mak).15 E 3.018(ec)-.1 G .518(reate some-)-3.018 F
(thing else by def)153.6 448.8 Q(ault.)-.1 E 6.66(.PRECIOUS When)93.6
464.4 R(PMak)2.882 E 2.882(ei)-.1 G 2.882(si)-2.882 G .382
(nterrupted \(you type control-C at the k)-2.882 F -.15(ey)-.1 G .382
(board\), it will attempt to clean up).15 F 1.563(after itself by remo)
153.6 476.4 R 1.563(ving an)-.15 F 4.063(yh)-.15 G 1.563(alf-made tar)
-4.063 F 1.563(gets. If a tar)-.18 F 1.563(get has the)-.18 F F1
(.PRECIOUS)4.063 E F0(attrib)4.064 E(ute,)-.2 E(ho)153.6 488.4 Q(we)-.25
E -.15(ve)-.25 G 1.421 -.4(r, P).15 H(Mak).4 E 3.121(ew)-.1 G .621
(ill lea)-3.121 F .921 -.15(ve i)-.2 H 3.121(ta).15 G .621
(lone. An additional side ef)-3.121 F .62
(fect of the `::' operator is to mark)-.25 F(the tar)153.6 500.4 Q
(gets as)-.18 E F1(.PRECIOUS)2.5 E F0(.)A 20.56(.SILENT Marking)93.6 516
R 3.877(at)3.876 G(ar)-3.877 E 1.377(get with this attrib)-.18 F 1.377
(ute k)-.2 F 1.377(eeps its commands from being printed when the)-.1 F
(y')-.15 E(re)-.5 E -.15(exe)153.6 528 S(cuted, just as if the).15 E 2.5
(yh)-.15 G(ad an `@' in front of them.)-2.5 E 36.11(.USE By)93.6 543.6 R
(gi)3.329 E .829(ving a tar)-.25 F .829(get this attrib)-.18 F .829
(ute, you turn it into PMak)-.2 F(e')-.1 E 3.329(se)-.55 G(qui)-3.329 E
-.25(va)-.25 G .828(lent of a macro. When the).25 F(tar)153.6 555.6 Q
.305(get is used as a source for another tar)-.18 F .305
(get, the other tar)-.18 F .306(get acquires the commands, sources)-.18
F .786(and attrib)153.6 567.6 R .786(utes \(e)-.2 F(xcept)-.15 E F1
(.USE)3.286 E F0 3.286(\)o)C 3.286(ft)-3.286 G .786(he source.)-3.286 F
.786(If the tar)5.786 F .785(get already has commands, the)-.18 F F1
(.USE)3.285 E F0(tar)153.6 579.6 Q(get')-.18 E 2.88(sc)-.55 G .38
(ommands are added to the end. If more than one .USE-mark)-2.88 F .381
(ed source is gi)-.1 F -.15(ve)-.25 G 2.881(nt).15 G 2.881(oa)-2.881 G
(tar)153.6 591.6 Q(get, the rules are applied sequentially)-.18 E(.)-.65
E .205(The typical .USE rule \(as I call them\) will use the sources of\
 the tar)153.6 607.2 R .205(get to which it is applied)-.18 F 1.755
(\(as stored in the)153.6 619.2 R F1(.ALLSRC)4.255 E F0 -.25(va)4.255 G
1.755(riable for the tar).25 F 1.755(get\) as its `)-.18 F(`ar)-.74 E
(guments,)-.18 E 3.236 -.74('' i)-.7 H 4.256(fy).74 G 1.756(ou will.)
-4.256 F -.15(Fo)6.756 G(r).15 E -.15(ex)153.6 631.2 S .186
(ample, you probably noticed that the commands for creating).15 F F1
(lib1.a)2.686 E F0(and)2.686 E F1(lib2.a)2.686 E F0 .186(in the)2.686 F
-.15(ex)153.6 643.2 S .736(ample in section 3.3 were e).15 F .737
(xactly the same. Y)-.15 F .737(ou can use the)-1.1 F F1(.USE)3.237 E F0
(attrib)3.237 E .737(ute to eliminate)-.2 F(the repetition, lik)153.6
655.2 Q 2.5(es)-.1 G(o:)-2.5 E EP
%%Page: 21 21
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PMak)93.6 48 Q 2.5(e\212AT)-.1 G 300.33
(utorial PSD:12-21)-2.95 F/F1 10/Courier@0 SF 54(lib1.a :)189.6 84 R
($\(LIB1OBJS\) MAKELIB)6 E 54(lib2.a :)189.6 96 R($\(LIB2OBJS\) MAKELIB)
6 E 48(MAKELIB :)189.6 120 R(.USE)6 E(rm -f $\(.TARGET\))237.6 132 Q
(ar cr $\(.TARGET\) $\(.ALLSRC\))237.6 144 Q(...)237.6 156 Q
(ranlib $\(.TARGET\))237.6 168 Q F0(Se)153.6 189.6 Q -.15(ve)-.25 G .475
(ral system mak).15 F .474
(e\214les \(not to be confused with The System Mak)-.1 F .474
(e\214le\) mak)-.1 F 2.974(eu)-.1 G .474(se of these)-2.974 F .329
(.USE rules to mak)153.6 201.6 R 2.829(ey)-.1 G .329
(our life easier \(the)-2.829 F(y')-.15 E .329(re in the def)-.5 F .33
(ault, system mak)-.1 F .33(e\214le directory)-.1 F(...tak)-.65 E 2.83
(ea)-.1 G 3.342(look\). Note)153.6 213.6 R .842
(that the .USE rule source itself \()3.342 F F1(MAKELIB)A F0 3.342(\)d)C
.842(oes not appear in an)-3.342 F 3.342(yo)-.15 G 3.341(ft)-3.342 G
.841(he tar)-3.341 F(-)-.2 E(gets')153.6 225.6 Q 3.524(sl)-.55 G 1.024
(ocal v)-3.524 F 3.524(ariables. There)-.25 F 1.024
(is no limit to the number of times I could use the)3.524 F F1(MAKELIB)
3.525 E F0 1.947
(rule. If there were more libraries, I could continue with `)153.6 237.6
R(`)-.74 E F1 1.946(lib3.a : $\(LIB3OBJS\))B(MAKELIB)153.6 249.6 Q F0
1.48 -.74('' a)D(nd so on and so forth.).74 E/F2 10/Times-Bold@0 SF 2.5
(3.5. Special)93.6 273.6 R -.92(Ta)2.5 G -.1(rg).92 G(ets).1 E F0 .281
(As there were in Mak)93.6 289.2 R .281(e, so there are certain tar)-.1
F .281(gets that ha)-.18 F .581 -.15(ve s)-.2 H .281
(pecial meaning to PMak).15 F .281(e. When you use one)-.1 F .385
(on a dependenc)93.6 301.2 R 2.885(yl)-.15 G .385
(ine, it is the only tar)-2.885 F .384
(get that may appear on the left-hand-side of the operator)-.18 F 5.384
(.A)-.55 G 2.884(sf)-5.384 G .384(or the)-2.884 F(attrib)93.6 313.2 Q
.577(utes and v)-.2 F .577(ariables, all the special tar)-.25 F .578
(gets be)-.18 F .578(gin with a period and consist of upper)-.15 F .578
(-case letters only)-.2 F 5.578(.I)-.65 G -.1(wo)93.6 325.2 S(n').1 E
3.14(td)-.18 G .64
(escribe them all in detail because some of them are rather comple)-3.14
F 3.139(xa)-.15 G .639(nd I')-3.139 F .639(ll describe them in more)-.1
F(detail than you')93.6 337.2 Q(ll w)-.1 E(ant in chapter 4.)-.1 E
(The tar)5 E(gets are as follo)-.18 E(ws:)-.25 E 14.45(.BEGIN An)93.6
352.8 R 2.66(yc)-.15 G .16(ommands attached to this tar)-2.66 F .16
(get are e)-.18 F -.15(xe)-.15 G .161(cuted before an).15 F .161
(ything else is done. Y)-.15 F .161(ou can use it)-1.1 F(for an)143.6
364.8 Q 2.5(yi)-.15 G(nitialization that needs doing.)-2.5 E(.DEF)93.6
380.4 Q -.55(AU)-.74 G -.92(LT).55 G .264
(This is sort of a .USE rule for an)143.6 392.4 R 2.764(yt)-.15 G(ar)
-2.764 E .264(get \(that w)-.18 F .264
(as used only as a source\) that PMak)-.1 F 2.764(ec)-.1 G(an')-2.764 E
2.764<748c>-.18 G(g-)-2.764 E .86(ure out an)143.6 404.4 R 3.36(yo)-.15
G .86(ther w)-3.36 F .86(ay to create. It')-.1 F 3.36(so)-.55 G .86
(nly `)-3.36 F .86(`sort of)-.74 F 2.34 -.74('' a .).55 H .86
(USE rule because only the shell script).74 F 1.838(attached to the)
143.6 416.4 R F1(.DEFAULT)4.337 E F0(tar)4.337 E 1.837(get is used. The)
-.18 F F1(.IMPSRC)4.337 E F0 -.25(va)4.337 G 1.837(riable of a tar).25 F
1.837(get that inherits)-.18 F F1(.DEFAULT)143.6 428.4 Q F0 1.1 -.55
('s c)D(ommands is set to the tar).55 E(get')-.18 E 2.5(so)-.55 G
(wn name.)-2.75 E 24.45(.END This)93.6 444 R(serv)3.23 E .73
(es a function similar to)-.15 F F1(.BEGIN)3.23 E F0 3.23(,i)C 3.23(nt)
-3.23 G .73(hat commands attached to it are e)-3.23 F -.15(xe)-.15 G .73
(cuted once).15 F -2.15 -.25(ev e)143.6 456 T .336(rything has been re-\
created \(so long as no errors occurred\). It also serv).25 F .336
(es the e)-.15 F .336(xtra function)-.15 F .612
(of being a place on which PMak)143.6 468 R 3.112(ec)-.1 G .612
(an hang commands you put of)-3.112 F 3.112(ft)-.25 G 3.112(ot)-3.112 G
.613(he end. Thus the script)-3.112 F(for this tar)143.6 480 Q
(get will be e)-.18 E -.15(xe)-.15 G(cuted before an).15 E 2.5(yo)-.15 G
2.5(ft)-2.5 G(he commands you sa)-2.5 E .3 -.15(ve w)-.2 H(ith the `).15
E -.834(`. . .)-.74 F -.74('')-.7 G(.).74 E(.EXPOR)93.6 495.6 Q 9.21(TT)
-.6 G 1.03(he sources for this tar)-9.21 F 1.03(get are passed to the e)
-.18 F 1.03(xportation system compiled into PMak)-.15 F 1.03(e. Some)-.1
F .679(systems will use these sources to con\214gure themselv)143.6
507.6 R .679(es. Y)-.15 F .68(ou should ask your system adminis-)-1.1 F
(trator about this.)143.6 519.6 Q 7.23(.IGNORE This)93.6 535.2 R(tar)
4.014 E 1.513(get marks each of its sources with the)-.18 F F1(.IGNORE)
4.013 E F0(attrib)4.013 E 1.513(ute. If you don')-.2 F 4.013(tg)-.18 G
-2.15 -.25(iv e)-4.013 H 1.513(it an)4.263 F(y)-.15 E .555
(sources, then it is lik)143.6 547.2 R 3.055(eg)-.1 G -.25(iv)-3.055 G
.555(ing the).25 F F2<ad69>3.055 E F0 .556(\215ag when you in)3.055 F
-.2(vo)-.4 G .756 -.1(ke P).2 H(Mak).1 E 3.056(e\212e)-.1 G .556
(rrors are ignored for all)-3.056 F(commands.)143.6 559.2 Q(.INCLUDES)
93.6 574.8 Q .511(The sources for this tar)143.6 586.8 R .511
(get are tak)-.18 F .511(en to be suf)-.1 F<8c78>-.25 E .51
(es that indicate a \214le that can be included in a)-.15 F 2.343
(program source \214le.)143.6 598.8 R 2.343(The suf)7.343 F 2.343
(\214x must ha)-.25 F 2.643 -.15(ve a)-.2 H 2.344
(lready been declared with).15 F F1(.SUFFIXES)4.844 E F0(\(see)4.844 E
(belo)143.6 610.8 Q 2.95(w\). An)-.25 F 2.95(ys)-.15 G(uf)-2.95 E .45
(\214x so mark)-.25 F .45(ed will ha)-.1 F .75 -.15(ve t)-.2 H .45
(he directories on its search path \(see).15 F F1(.PATH)2.95 E F0 2.95
(,b)C(elo)-2.95 E(w\))-.25 E .18(placed in the)143.6 622.8 R F1
(.INCLUDES)2.68 E F0 -.25(va)2.68 G .18(riable, each preceded by a).25 F
F2<ad49>2.681 E F0 .181(\215ag. This v)2.681 F .181
(ariable can then be used)-.25 F .368(as an ar)143.6 634.8 R .367
(gument for the compiler in the normal f)-.18 F .367(ashion. The)-.1 F
F1(.h)2.867 E F0(suf)2.867 E .367(\214x is already mark)-.25 F .367
(ed in this)-.1 F -.1(wa)143.6 646.8 S 2.5(yi).1 G 2.5(nt)-2.5 G
(he system mak)-2.5 E 2.5(e\214le. E.g.)-.1 F(if you ha)2.5 E -.15(ve)
-.2 G F1 36(.SUFFIXES :)179.6 664.8 R(.bitmap)6 E 18(.PATH.bitmap :)
179.6 676.8 R(/usr/local/X/lib/bitmaps)6 E 36(.INCLUDES :)179.6 688.8 R
(.bitmap)6 E F0(PMak)143.6 706.8 Q 3.608(ew)-.1 G 1.108(ill place `)
-3.608 F(`)-.74 E F1(-I/usr/local/X/lib/bitmaps)A F0 2.589 -.74('' i)D
3.609(nt).74 G(he)-3.609 E F1(.INCLUDES)3.609 E F0 -.25(va)3.609 G 1.109
(riable and).25 F(you can then say)143.6 718.8 Q EP
%%Page: 22 22
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 300.33(PSD:12-22 PMak)93.6 48 R 2.5(e\212AT)-.1
G(utorial)-2.95 E/F1 10/Courier@0 SF(cc $\(.INCLUDES\) -c xprogram.c)
179.6 84 Q F0 1.71(\(Note: the)143.6 102 R F1(.INCLUDES)4.21 E F0 -.25
(va)4.21 G 1.71(riable is not actually \214lled in until the entire mak)
.25 F 1.71(e\214le has been)-.1 F(read.\))143.6 114 Q(.INTERR)93.6 129.6
Q(UPT)-.4 E 1.552(When PMak)143.6 141.6 R 4.052(ei)-.1 G 4.052(si)-4.052
G 1.552(nterrupted, it will e)-4.052 F -.15(xe)-.15 G 1.553
(cute the commands in the script for this tar).15 F 1.553(get, if it)
-.18 F -.15(ex)143.6 153.6 S(ists.).15 E 23.33(.LIBS This)93.6 169.2 R
.503(does for libraries what)3.004 F F1(.INCLUDES)3.003 E F0 .503
(does for include \214les, e)3.003 F .503(xcept the \215ag used is)-.15
F/F2 10/Times-Bold@0 SF<ad4c>3.003 E F0 3.003(,a)C(s)-3.003 E .565
(required by those link)143.6 181.2 R .565(ers that allo)-.1 F 3.065(wy)
-.25 G .565(ou to tell them where to \214nd libraries. The v)-3.065 F
.565(ariable used)-.25 F(is)143.6 193.2 Q F1(.LIBS)3.082 E F0 5.582(.B)C
3.082(ef)-5.582 G(ore)-3.082 E -.1(wa)-.25 G .582(rned that PMak).1 F
3.082(em)-.1 G .582(ay not ha)-3.082 F .882 -.15(ve b)-.2 H .582
(een compiled to do this if the link).15 F .581(er on)-.1 F 1.43
(your system doesn')143.6 205.2 R 3.93(ta)-.18 G 1.43(ccept the)-3.93 F
F2<ad4c>3.931 E F0 1.431(\215ag, though the)3.931 F F1(.LIBS)3.931 E F0
-.25(va)3.931 G 1.431(riable will al).25 F -.1(wa)-.1 G 1.431
(ys be de\214ned).1 F(once the mak)143.6 217.2 Q(e\214le has been read.)
-.1 E 18.34(.MAIN If)93.6 232.8 R 1.668(you didn')4.168 F 4.168(tg)-.18
G -2.15 -.25(iv e)-4.168 H 4.168(at)4.418 G(ar)-4.168 E 1.668
(get \(or tar)-.18 F 1.668(gets\) to create when you in)-.18 F -.2(vo)
-.4 G -.1(ke).2 G 4.167(dP).1 G(Mak)-4.167 E 1.667(e, it will tak)-.1 F
4.167(et)-.1 G(he)-4.167 E(sources of this tar)143.6 244.8 Q
(get as the tar)-.18 E(gets to create.)-.18 E(.MAKEFLA)93.6 260.4 Q(GS)
-.4 E 1.361(This tar)143.6 272.4 R 1.361(get pro)-.18 F 1.361(vides a w)
-.15 F 1.361(ay for you to al)-.1 F -.1(wa)-.1 G 1.361
(ys specify \215ags for PMak).1 F 3.862(ew)-.1 G 1.362(hen the mak)
-3.862 F 1.362(e\214le is)-.1 F .115(used. The \215ags are just as the)
143.6 284.4 R 2.615(yw)-.15 G .114(ould be typed to the shell \(e)-2.715
F .114(xcept you can')-.15 F 2.614(tu)-.18 G .114(se shell v)-2.614 F
(ariables)-.25 E(unless the)143.6 296.4 Q(y')-.15 E(re in the en)-.5 E
(vironment\), though the)-.4 E F2<ad66>2.5 E F0(and)2.5 E F2<ad72>2.5 E
F0(\215ags ha)2.5 E .3 -.15(ve n)-.2 H 2.5(oe).15 G -.25(ff)-2.5 G(ect.)
.25 E 18.34(.NULL This)93.6 312 R(allo)3.701 E 1.201
(ws you to specify what suf)-.25 F 1.201(\214x PMak)-.25 F 3.701(es)-.1
G 1.201(hould pretend a \214le has if, in f)-3.701 F 1.202
(act, it has no)-.1 F(kno)143.6 324 Q .324(wn suf)-.25 F .323
(\214x. Only one suf)-.25 F .323
(\214x may be so designated. The last source on the dependenc)-.25 F
2.823(yl)-.15 G .323(ine is)-2.823 F(the suf)143.6 336 Q
(\214x that is used \(you should, ho)-.25 E(we)-.25 E -.15(ve)-.25 G .8
-.4(r, o).15 H(nly gi).4 E .3 -.15(ve o)-.25 H(ne suf).15 E -.834
(\214x. . .\).)-.25 F(.P)93.6 351.6 Q -1.11(AT)-.92 G 23.42(HI)1.11 G
3.19(fy)-23.42 G .69(ou gi)-3.19 F .99 -.15(ve s)-.25 H .69
(ources for this tar).15 F .69(get, PMak)-.18 F 3.191(ew)-.1 G .691
(ill tak)-3.191 F 3.191(et)-.1 G .691
(hem as directories in which to search for)-3.191 F .366
(\214les it cannot \214nd in the current directory)143.6 363.6 R 2.866
(.I)-.65 G 2.866(fy)-2.866 G .366(ou gi)-2.866 F .666 -.15(ve n)-.25 H
2.866(os).15 G .366(ources, it will clear out an)-2.866 F 2.866(yd)-.15
G(irecto-)-2.866 E .511
(ries added to the search path before. Since the ef)143.6 375.6 R .511
(fects of this all get v)-.25 F .511(ery comple)-.15 F .511(x, I')-.15 F
.512(ll lea)-.1 F .812 -.15(ve i)-.2 H(t).15 E(til chapter four to gi)
143.6 387.6 Q .3 -.15(ve y)-.25 H(ou a complete e).15 E(xplanation.)-.15
E(.P)93.6 403.2 Q -1.11(AT)-.92 G(H)1.11 E/F3 10/Times-Italic@0 SF(suf)A
<8c78>-.18 E F0 .119(This does a similar thing to)143.6 415.2 R F1
(.PATH)2.619 E F0 2.619(,b)C .119
(ut it does it only for \214les with the gi)-2.819 F -.15(ve)-.25 G
2.619(ns).15 G(uf)-2.619 E .119(\214x. The suf)-.25 F<8c78>-.25 E
(must ha)143.6 427.2 Q .3 -.15(ve b)-.2 H(een de\214ned already).15 E
2.5(.L)-.65 G(ook at)-2.5 E F2(Sear)2.5 E(ch P)-.18 E(aths)-.1 E F0
(\(section 4.1\) for more information.)2.5 E(.PRECIOUS)93.6 442.8 Q .863
(Similar to)143.6 454.8 R F1(.IGNORE)3.363 E F0 3.364(,t)C .864(his gi)
-3.364 F -.15(ve)-.25 G 3.364(st).15 G(he)-3.364 E F1(.PRECIOUS)3.364 E
F0(attrib)3.364 E .864(ute to each source on the dependenc)-.2 F(y)-.15
E .267(line, unless there are no sources, in which case the)143.6 466.8
R F1(.PRECIOUS)2.767 E F0(attrib)2.767 E .267(ute is gi)-.2 F -.15(ve)
-.25 G 2.767(nt).15 G 2.766(oe)-2.767 G -.15(ve)-3.016 G .266(ry tar).15
F(-)-.2 E(get in the \214le.)143.6 478.8 Q(.RECURSIVE)93.6 494.4 Q .959
(This tar)143.6 506.4 R .959(get applies the)-.18 F F1(.MAKE)3.459 E F0
(attrib)3.459 E .959
(ute to all its sources. It does nothing if you don')-.2 F 3.46(tg)-.18
G -2.15 -.25(iv e)-3.46 H(it)3.71 E(an)143.6 518.4 Q 2.5(ys)-.15 G
(ources.)-2.5 E 13.89(.SHELL PMak)93.6 534 R 3.207(ei)-.1 G 3.207(sn)
-3.207 G .707(ot constrained to only using the Bourne shell to e)-3.207
F -.15(xe)-.15 G .707(cute the commands you put in).15 F 1.041(the mak)
143.6 546 R 1.041(e\214le. Y)-.1 F 1.041
(ou can tell it some other shell to use with this tar)-1.1 F 1.041
(get. Check out)-.18 F F2 3.541(AS)3.541 G 1.041(hell is a)-3.541 F
(Shell is a Shell)143.6 558 Q F0(\(section 4.4\) for more information.)
2.5 E 10.56(.SILENT When)93.6 573.6 R .186(you use)2.686 F F1(.SILENT)
2.686 E F0 .186(as a tar)2.686 F .186(get, it applies the)-.18 F F1
(.SILENT)2.686 E F0(attrib)2.686 E .186(ute to each of its sources. If)
-.2 F .281(there are no sources on the dependenc)143.6 585.6 R 2.781(yl)
-.15 G .282(ine, then it is as if you g)-2.781 F -2.25 -.2(av e)-.05 H
(PMak)2.982 E 2.782(et)-.1 G(he)-2.782 E F2<ad73>2.782 E F0 .282
(\215ag and no)2.782 F(commands will be echoed.)143.6 597.6 Q(.SUFFIXES)
93.6 613.2 Q 1.614(This is used to gi)143.6 625.2 R 1.914 -.15(ve n)-.25
H 2.114 -.25(ew \214).15 H 1.614(le suf).25 F<8c78>-.25 E 1.614
(es for PMak)-.15 F 4.113(et)-.1 G 4.113(oh)-4.113 G 1.613
(andle. Each source is a suf)-4.113 F 1.613(\214x PMak)-.25 F(e)-.1 E
.041(should recognize. If you gi)143.6 637.2 R .341 -.15(ve a)-.25 H F1
(.SUFFIXES)2.691 E F0(dependenc)2.541 E 2.541(yl)-.15 G .042
(ine with no sources, PMak)-2.541 F 2.542(ew)-.1 G .042(ill for)-2.542 F
(-)-.2 E .218(get about all the suf)143.6 649.2 R<8c78>-.25 E .217
(es it kne)-.15 F 2.717(w\()-.25 G .217(this also nuk)-2.717 F .217
(es the null suf)-.1 F 2.717(\214x\). F)-.25 F .217(or those tar)-.15 F
.217(gets that need to)-.18 F(ha)143.6 661.2 Q .3 -.15(ve s)-.2 H(uf).15
E<8c78>-.25 E(es de\214ned, this is ho)-.15 E 2.5(wy)-.25 G(ou do it.)
-2.5 E(In addition to these tar)93.6 676.8 Q(gets, a line of the form)
-.18 E F3(attrib)129.6 694.8 Q(ute)-.2 E F1(:)6 E F3(sour)6 E(ces)-.37 E
F0(applies the)93.6 712.8 Q F3(attrib)2.5 E(ute)-.2 E F0(to all the tar)
2.5 E(gets listed as)-.18 E F3(sour)2.5 E(ces)-.37 E F0(.)A EP
%%Page: 23 23
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PMak)93.6 48 Q 2.5(e\212AT)-.1 G 300.33
(utorial PSD:12-23)-2.95 F/F1 10/Times-Bold@0 SF 2.5(3.6. Modifying)93.6
84 R -.92(Va)2.5 G(riable Expansion).92 E F0 -1.11(Va)93.6 99.6 S .279
(riables need not al)1.11 F -.1(wa)-.1 G .279(ys be e).1 F .279
(xpanded v)-.15 F .279(erbatim. PMak)-.15 F 2.779(ed)-.1 G .279
(e\214nes se)-2.779 F -.15(ve)-.25 G .28
(ral modi\214ers that may be applied to a).15 F -.25(va)93.6 111.6 S
(riable').25 E 3.638(sv)-.55 G 1.138(alue before it is e)-3.888 F 1.137
(xpanded. Y)-.15 F 1.137
(ou apply a modi\214er by placing it after the v)-1.1 F 1.137
(ariable name with a)-.25 F(colon between the tw)93.6 123.6 Q(o, lik)-.1
E 2.5(es)-.1 G(o:)-2.5 E/F2 10/Courier@0 SF(${)129.6 141.6 Q/F3 10
/Times-Italic@0 SF -.6(VA)C(RIABLE).6 E F2(:)A F3(modi\214er)A F2(})A F0
.216(Each modi\214er is a single character follo)93.6 159.6 R .217
(wed by something speci\214c to the modi\214er itself.)-.25 F -1.1(Yo)
5.217 G 2.717(um)1.1 G .217(ay apply as)-2.717 F(man)93.6 171.6 Q 3.156
(ym)-.15 G .656(odi\214ers as you w)-3.156 F .656
(ant \212 each one is applied to the result of the pre)-.1 F .656
(vious and is separated from the)-.25 F(pre)93.6 183.6 Q
(vious by another colon.)-.25 E .102(There are se)93.6 199.2 R -.15(ve)
-.25 G 2.602(nw).15 G .102(ays to modify a v)-2.702 F(ariable')-.25 E
2.602(se)-.55 G .102(xpansion, most of which come from the C shell v)
-2.752 F .103(ariable mod-)-.25 F(i\214cation characters:)93.6 211.2 Q
(M)118.6 226.8 Q F3(pattern)A F0 .467
(This is used to select only those w)143.6 238.8 R .467(ords \(a w)-.1 F
.466(ord is a series of characters that are neither spaces)-.1 F .689
(nor tabs\) that match the gi)143.6 250.8 R -.15(ve)-.25 G(n).15 E F3
(pattern)3.189 E F0 5.689(.T)C .689
(he pattern is a wildcard pattern lik)-5.689 F 3.19(et)-.1 G .69
(hat used by the)-3.19 F 1.316(shell, where)143.6 262.8 R F2(*)3.816 E
F0 1.316(means 0 or more characters of an)3.816 F 3.816(ys)-.15 G(ort;)
-3.816 E F2(?)3.815 E F0 1.315(is an)6.315 F 3.815(ys)-.15 G 1.315
(ingle character;)-3.815 F F2([abcd])3.815 E F0 .146(matches an)143.6
274.8 R 2.646(ys)-.15 G .146
(ingle character that is either `a', `b', `c' or `d' \(there may be an)
-2.646 F 2.646(yn)-.15 G .147(umber of char)-2.646 F(-)-.2 E .605
(acters between the brack)143.6 286.8 R(ets\);)-.1 E F2([0-9])3.105 E F0
.605(matches an)3.105 F 3.105(ys)-.15 G .605
(ingle character that is between `0' and `9')-3.105 F .692(\(i.e. an)
143.6 298.8 R 3.192(yd)-.15 G .692(igit. This form may be freely mix)
-3.192 F .692(ed with the other brack)-.15 F .693
(et form\), and `\\' is used to)-.1 F 1.467(escape an)143.6 310.8 R
3.967(yo)-.15 G 3.967(ft)-3.967 G 1.467
(he characters `*', `?', `[' or `:', lea)-3.967 F 1.467(ving them as re)
-.2 F 1.466(gular characters to match)-.15 F(themselv)143.6 322.8 Q
4.351(es in a w)-.15 F 6.851(ord. F)-.1 F 4.351(or e)-.15 F 4.351
(xample, the system mak)-.15 F(e\214le)-.1 E F2(<makedepend.mk>)6.851 E
F0(uses)6.851 E -.74(``)143.6 334.8 S F2($\(CFLAGS:M-[ID]*\)).74 E F0
2.387 -.74('' t)D 3.407(oe).74 G .907(xtract all the)-3.557 F F2<ad49>
3.407 E F0(and)3.407 E F2<ad44>3.407 E F0 .907(\215ags that w)3.407 F
.906(ould be passed to the C)-.1 F(compiler)143.6 346.8 Q 2.5(.T)-.55 G
(his allo)-2.5 E(ws it to properly locate include \214les and generate \
the correct dependencies.)-.25 E(N)118.6 362.4 Q F3(pattern)A F0
(This is identical to)143.6 374.4 Q F2(:M)2.5 E F0 -.15(ex)2.5 G
(cept it substitutes all w).15 E(ords that don')-.1 E 2.5(tm)-.18 G
(atch the gi)-2.5 E -.15(ve)-.25 G 2.5(np).15 G(attern.)-2.5 E(S/)118.6
390 Q F3(sear)A -.15(ch)-.37 G(-string).15 E F0(/)A F3 -.37(re)C
(placement-string).37 E F0(/[g])A 1.765
(Causes the \214rst occurrence of)143.6 402 R F3(sear)4.265 E -.15(ch)
-.37 G(-string).15 E F0 1.765(in the v)4.265 F 1.766
(ariable to be replaced by)-.25 F F3 -.37(re)4.266 G(placement-).37 E
(string)143.6 414 Q F0 4.094(,u)C 1.594(nless the)-4.094 F F2(g)4.094 E
F0 1.594(\215ag is gi)4.094 F -.15(ve)-.25 G 4.093(na).15 G 4.093(tt)
-4.093 G 1.593(he end, in which case all occurences of the string are)
-4.093 F .963(replaced. The substitution is performed on each w)143.6
426 R .964(ord in the v)-.1 F .964(ariable in turn. If)-.25 F F3(sear)
3.464 E -.15(ch)-.37 G(-string).15 E F0(be)143.6 438 Q .886(gins with a)
-.15 F F2(^)3.386 E F0 3.386(,t)C .886
(he string must match starting at the be)-3.386 F .885(ginning of the w)
-.15 F .885(ord. If)-.1 F F3(sear)3.385 E -.15(ch)-.37 G(-string).15 E
F0 .971(ends with a)143.6 450 R F2($)3.471 E F0 3.471(,t)C .972
(he string must match to the end of the w)-3.471 F .972(ord \(these tw)
-.1 F 3.472(om)-.1 G .972(ay be combined to)-3.472 F 1.07(force an e)
143.6 462 R 1.069(xact match\). If a backslash preceeds these tw)-.15 F
3.569(oc)-.1 G 1.069(haracters, ho)-3.569 F(we)-.25 E -.15(ve)-.25 G
1.869 -.4(r, t).15 H(he).4 E 3.569(yl)-.15 G 1.069(ose their)-3.569 F
.602(special meaning. V)143.6 474 R .602(ariable e)-1.11 F .602
(xpansion also occurs in the normal f)-.15 F .603
(ashion inside both the)-.1 F F3(sear)3.103 E -.15(ch)-.37 G(-).15 E
(string)143.6 486 Q F0 .199(and the)2.699 F F3 -.37(re)2.699 G
(placement-string).37 E F0(,)A F1(except)2.699 E F0 .199
(that a backslash is used to pre)2.699 F -.15(ve)-.25 G .198(nt the e)
.15 F .198(xpansion of a)-.15 F F2($)143.6 498 Q F0 2.925(,n)C .425
(ot another dollar sign, as is usual.)-2.925 F .425(Note that)5.425 F F3
(sear)2.925 E -.15(ch)-.37 G(-string).15 E F0 .425
(is just a string, not a pattern, so)2.925 F .483(none of the usual re)
143.6 510 R(gular)-.15 E(-e)-.2 E .483(xpression/wildcard characters ha)
-.15 F .782 -.15(ve a)-.2 H .782 -.15(ny s).15 H .482(pecial meaning sa)
.15 F -.15(ve)-.2 G F2(^)3.132 E F0(and)2.982 E F2($)143.6 522 Q F0
5.783(.I)C 3.283(nt)-5.783 G .783(he replacement string, the)-3.283 F F2
(&)3.284 E F0 .784(character is replaced by the)3.284 F F3(sear)3.284 E
-.15(ch)-.37 G(-string).15 E F0 .784(unless it is pre-)3.284 F .353
(ceded by a backslash.)143.6 534 R -1.1(Yo)5.353 G 2.853(ua)1.1 G .353
(re allo)-2.853 F .353(wed to use an)-.25 F 2.853(yc)-.15 G .352
(haracter e)-2.853 F .352(xcept colon or e)-.15 F .352(xclamation point)
-.15 F .33(to separate the tw)143.6 546 R 2.83(os)-.1 G .33(trings. Thi\
s so-called delimiter character may be placed in either string by)-2.83
F(preceeding it with a backslash.)143.6 558 Q 18.89(TR)118.6 573.6 S
.628(eplaces each w)-18.89 F .628(ord in the v)-.1 F .628(ariable e)-.25
F .628(xpansion by its last component \(its `)-.15 F(`tail')-.74 E .627
('\). F)-.74 F .627(or e)-.15 F(xample,)-.15 E(gi)143.6 585.6 Q -.15(ve)
-.25 G(n).15 E F2(OBJS = ../lib/a.o b /usr/lib/libm.a)179.6 603.6 Q
(TAILS = $\(OBJS:T\))179.6 615.6 Q F0(the v)143.6 633.6 Q(ariable)-.25 E
F2(TAILS)2.5 E F0 -.1(wo)2.5 G(uld e).1 E(xpand to `)-.15 E(`)-.74 E F2
(a.o b libm.a)A F0 -.7(.')C(')-.04 E 17.78(HT)118.6 649.2 S 2.39
(his is similar to)-17.78 F F2(:T)4.89 E F0 4.89(,e)C 2.39(xcept that e)
-5.04 F -.15(ve)-.25 G 2.39(ry w).15 F 2.39(ord is replaced by e)-.1 F
-.15(ve)-.25 G 2.39(rything b).15 F 2.39(ut the tail \(the)-.2 F -.74
(``)143.6 661.2 S(head').74 E 1.948('\). Using the same de\214nition of)
-.74 F F2(OBJS)4.448 E F0 4.447(,t)C 1.947(he string `)-4.447 F(`)-.74 E
F2($\(OBJS:H\))A F0 3.427 -.74('' w)D 1.947(ould e).64 F 1.947(xpand to)
-.15 F -.74(``)143.6 673.2 S F2 .155(../lib /usr/lib).74 F F0 -.7(.')C
5.155('N)-.04 G .155(ote that the \214nal slash on the heads is remo)
-5.155 F -.15(ve)-.15 G 2.655(da).15 G .155(nd an)-2.655 F .155
(ything with-)-.15 F(out a head is replaced by the empty string.)143.6
685.2 Q(E)118.6 700.8 Q F2(:E)18.89 E F0 1.06(replaces each w)3.56 F
1.059(ord by its suf)-.1 F 1.059(\214x \(`)-.25 F(`e)-.74 E(xtension')
-.15 E 1.059('\). So `)-.74 F(`)-.74 E F2($\(OBJS:E\))A F0 2.539 -.74
('' w)D 1.059(ould gi).64 F 1.359 -.15(ve y)-.25 H 1.059(ou `).15 F(`)
-.74 E F2(.o)A(.a)143.6 712.8 Q F0 -.7(.')C(')-.04 E EP
%%Page: 24 24
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 300.33(PSD:12-24 PMak)93.6 48 R 2.5(e\212AT)-.1
G(utorial)-2.95 E 18.33(RT)118.6 84 S 5.397(his replaces each w)-18.33 F
5.397(ord by e)-.1 F -.15(ve)-.25 G 5.397(rything b).15 F 5.397
(ut the suf)-.2 F 5.397(\214x \(the `)-.25 F(`root')-.74 E 7.897('o)-.74
G 7.897(ft)-7.897 G 5.397(he w)-7.897 F(ord\).)-.1 E -.74(``)143.6 96 S
/F1 10/Courier@0 SF($\(OBJS:R\)).74 E F0 1.48 -.74('' e)D(xpands to `)
.59 E(`)-.74 E F1(../lib/a b /usr/lib/libm)2.5 E F0 -.7(.')C(')-.04 E
(In addition, the System V style of substitution is also supported.)93.6
111.6 Q(This looks lik)5 E(e:)-.1 E F1($\()129.6 129.6 Q/F2 10
/Times-Italic@0 SF -.6(VA)C(RIABLE).6 E F1(:)A F2(sear)A -.15(ch)-.37 G
(-string).15 E F1(=)A F2 -.37(re)C(placement).37 E F1(\))A F0 .193(It m\
ust be the last modi\214er in the chain. The search is anchored at the \
end of each w)93.6 147.6 R .192(ord, so only suf)-.1 F<8c78>-.25 E .192
(es or)-.15 F(whole w)93.6 159.6 Q(ords may be replaced.)-.1 E/F3 10
/Times-Bold@0 SF 2.5(3.7. Mor)93.6 183.6 R 2.5(eo)-.18 G 2.5(nD)-2.5 G
(eb)-2.5 E(ugging)-.2 E 2.5(3.8. Mor)93.6 207.6 R 2.5(eE)-.18 G(xer)-2.5
E(cises)-.18 E F0 3.34(\(3.1\) Y)93.6 223.2 R(ou')-1.1 E .503 -.15(ve g)
-.5 H .204(ot a set programs, each of which is created from its o).15 F
.204(wn assembly-language source \214le \(suf-)-.25 F<8c78>118.6 235.2 Q
F1(.asm)2.971 E F0 2.971(\). Each)B .471
(program can be assembled into tw)2.971 F 2.971(ov)-.1 G .47
(ersions, one with error)-3.121 F .47(-checking code assem-)-.2 F 1.659
(bled in and one without. Y)118.6 247.2 R 1.659
(ou could assemble them into \214les with dif)-1.1 F 1.66(ferent suf)
-.25 F<8c78>-.25 E 1.66(es \()-.15 F F1(.eobj)A F0(and)4.16 E F1(.obj)
118.6 259.2 Q F0 3.494(,f)C .994(or instance\), b)-3.494 F .994
(ut your link)-.2 F .993(er only understands \214les that end in)-.1 F
F1(.obj)3.493 E F0 5.993(.T)C 3.493(ot)-6.793 G .993(op it all of)-3.493
F .993(f, the)-.25 F 1.342(\214nal e)118.6 271.2 R -.15(xe)-.15 G
(cutables).15 E F2(must)3.842 E F0(ha)3.842 E 1.642 -.15(ve t)-.2 H
1.342(he suf).15 F<8c78>-.25 E F1(.exe)3.842 E F0 6.342(.H)C 1.842 -.25
(ow c)-6.342 H 1.342(an you still use transformation rules to mak).25 F
(e)-.1 E(your life easier \(Hint: assume the error)118.6 283.2 Q
(-checking v)-.2 E(ersions ha)-.15 E -.15(ve)-.2 G F1(ec)2.65 E F0(tack)
2.5 E(ed onto their pre\214x\)?)-.1 E 3.34(\(3.2\) Assume,)93.6 298.8 R
.359(for a moment or tw)2.859 F .359(o, you w)-.1 F .358
(ant to perform a sort of `)-.1 F(`indirection')-.74 E 2.858('b)-.74 G
2.858(yp)-2.858 G .358(lacing the name of a)-2.858 F -.25(va)118.6 310.8
S .572(riable into another one, then you w).25 F .573(ant to get the v)
-.1 F .573(alue of the \214rst by e)-.25 F .573
(xpanding the second some-)-.15 F(ho)118.6 322.8 Q 1.3 -.65(w. U)-.25 H
(nfortunately).65 E 2.5(,P)-.65 G(Mak)-2.5 E 2.5(ed)-.1 G(oesn')-2.5 E
2.5(ta)-.18 G(llo)-2.5 E 2.5(wc)-.25 G(onstructs lik)-2.5 E(e)-.1 E F1
($\($\(FOO\)\))154.6 340.8 Q F0 .277(What do you do? Hint: no further v)
118.6 358.8 R .276(ariable e)-.25 F .276
(xpansion is performed after modi\214ers are applied, thus if)-.15 F
(you cause a $ to occur in the e)118.6 370.8 Q(xpansion, that')-.15 E
2.5(sw)-.55 G(hat will be in the result.)-2.5 E F3 2.5(4. PMak)93.6
394.8 R 2.5(ef)-.1 G(or Gods)-2.75 E F0 .112(This chapter is de)93.6
410.4 R -.2(vo)-.25 G .113(ted to those f).2 F .113(acilities in PMak)
-.1 F 2.613(et)-.1 G .113(hat allo)-2.613 F 2.613(wy)-.25 G .113
(ou to do a great deal in a mak)-2.613 F .113(e\214le with v)-.1 F(ery)
-.15 E .669(little w)93.6 422.4 R .669
(ork, as well as do some things you couldn')-.1 F 3.169(td)-.18 G 3.168
(oi)-3.169 G 3.168(nM)-3.168 G(ak)-3.168 E 3.168(ew)-.1 G .668
(ithout a great deal of w)-3.168 F .668(ork \(and perhaps)-.1 F .263
(the use of other programs\). The problem with these features, is the)
93.6 434.4 R 2.763(ym)-.15 G .263(ust be handled with care, or you will)
-2.763 F(end up with a mess.)93.6 446.4 Q
(Once more, I assume a greater f)93.6 462 Q(amiliarity with)-.1 E/F4 8
/Times-Roman@0 SF(UNIX)2.5 E F0(or Sprite than I did in the pre)2.5 E
(vious tw)-.25 E 2.5(oc)-.1 G(hapters.)-2.5 E F3 2.5(4.1. Sear)93.6 486
R(ch P)-.18 E(aths)-.1 E F0(PMak)93.6 501.6 Q 2.788(es)-.1 G .287
(upports the dispersal of \214les into multiple directories by allo)
-2.788 F .287(wing you to specify places to look for)-.25 F .184
(sources with)93.6 513.6 R F1(.PATH)2.684 E F0(tar)2.684 E .184
(gets in the mak)-.18 F .184(e\214le. The directories you gi)-.1 F .485
-.15(ve a)-.25 H 2.685(ss).15 G .185(ources for these tar)-2.685 F .185
(gets mak)-.18 F 2.685(eu)-.1 G 2.685(pa)-2.685 G -.74(``)93.6 525.6 S
2.107(search path.).74 F 3.587 -.74('' O)-.7 H 2.107
(nly those \214les used e).74 F(xclusi)-.15 E -.15(ve)-.25 G 2.107
(ly as sources are actually sought on a search path, the).15 F 1.007
(assumption being that an)93.6 537.6 R 1.008(ything listed as a tar)-.15
F 1.008(get in the mak)-.18 F 1.008(e\214le can be created by the mak)
-.1 F 1.008(e\214le and thus)-.1 F(should be in the current directory)
93.6 549.6 Q(.)-.65 E .608(There are tw)93.6 565.2 R 3.108(ot)-.1 G .608
(ypes of search paths in PMak)-3.108 F .607
(e: one is used for all types of \214les \(including included mak)-.1 F
(e-)-.1 E .508(\214les\) and is speci\214ed with a plain)93.6 577.2 R F1
(.PATH)3.008 E F0(tar)3.008 E .508(get \(e.g.)-.18 F -.74(``)5.508 G F1
.508(.PATH : RCS).74 F F0 -.74('')C .509
(\), while the other is speci\214c to a).74 F .499
(certain type of \214le, as indicated by the \214le')93.6 589.2 R 2.998
(ss)-.55 G(uf)-2.998 E .498
(\214x. A speci\214c search path is indicated by immediately fol-)-.25 F
(lo)93.6 601.2 Q(wing the)-.25 E F1(.PATH)2.5 E F0(with the suf)2.5 E
(\214x of the \214le. F)-.25 E(or instance)-.15 E F1 48(.PATH.h :)129.6
619.2 R(/sprite/lib/include /sprite/att/lib/include)6 E F0 -.1(wo)93.6
637.2 S 14.153(uld tell PMak).1 F 16.653(et)-.1 G 16.653(ol)-16.653 G
14.153(ook in the directories)-16.653 F F1(/sprite/lib/include)16.654 E
F0(and)16.654 E F1(/sprite/att/lib/include)93.6 649.2 Q F0(for an)2.5 E
2.5<798c>-.15 G(les whose suf)-2.5 E(\214x is)-.25 E F1(.h)2.5 E F0(.)A
.328(The current directory is al)93.6 664.8 R -.1(wa)-.1 G .327
(ys consulted \214rst to see if a \214le e).1 F .327
(xists. Only if it cannot be found there are the)-.15 F
(directories in the speci\214c search path, follo)93.6 676.8 Q
(wed by those in the general search path, consulted.)-.25 E 3.04(As)93.6
692.4 S .54(earch path is also used when e)-3.04 F .54
(xpanding wildcard characters. If the pattern has a recognizable suf)
-.15 F .54(\214x on)-.25 F(it, the path for that suf)93.6 704.4 Q
(\214x will be used for the e)-.25 E(xpansion. Otherwise the def)-.15 E
(ault search path is emplo)-.1 E(yed.)-.1 E EP
%%Page: 25 25
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PMak)93.6 48 Q 2.5(e\212AT)-.1 G 300.33
(utorial PSD:12-25)-2.95 F .614(When a \214le is found in some director\
y other than the current one, all local v)93.6 84 R .614
(ariables that w)-.25 F .614(ould ha)-.1 F .914 -.15(ve c)-.2 H(on-).15
E .859(tained the tar)93.6 96 R(get')-.18 E 3.359(sn)-.55 G .859(ame \()
-3.359 F/F1 10/Courier@0 SF(.ALLSRC)A F0 3.359(,a)C(nd)-3.359 E F1
(.IMPSRC)3.359 E F0 3.359(\)w)C .86
(ill instead contain the path to the \214le, as found by)-3.359 F(PMak)
93.6 108 Q 2.5(e. Thus)-.1 F(if you ha)2.5 E .3 -.15(ve a \214)-.2 H(le)
.15 E F1(../lib/mumble.c)2.5 E F0(and a mak)2.5 E(e\214le)-.1 E F1 48
(.PATH.c :)129.6 126 R(../lib)6 E 54(mumble :)129.6 138 R(mumble.c)6 E
($\(CC\) -o $\(.TARGET\) $\(.ALLSRC\))177.6 150 Q F0 .777(the command e)
93.6 168 R -.15(xe)-.15 G .776(cuted to create).15 F F1(mumble)3.276 E
F0 -.1(wo)3.276 G .776(uld be `).1 F(`)-.74 E F1 .776
(cc -o mumble ../lib/mumble.c)B F0 -.7(.')C 5.776('\()-.04 G .776(As an)
-5.776 F .036(aside, the command in this case isn')93.6 180 R 2.536(ts)
-.18 G .036(trictly necessary)-2.536 F 2.536(,s)-.65 G .036
(ince it will be found using transformation rules if it)-2.536 F(isn')
93.6 192 Q 2.591(tg)-.18 G -2.15 -.25(iv e)-2.591 H .091
(n. This is because).25 F F1(.out)2.591 E F0 .091(is the null suf)2.591
F .091(\214x by def)-.25 F .09(ault and a transformation e)-.1 F .09
(xists from)-.15 F F1(.c)2.59 E F0(to)2.59 E F1(.out)2.59 E F0(.)A
(Just thought I')93.6 204 Q 2.5(dt)-.5 G(hro)-2.5 E 2.5(wt)-.25 G
(hat in.\))-2.5 E .076(If a \214le e)93.6 219.6 R .076(xists in tw)-.15
F 2.576(od)-.1 G .076(irectories on the same search path, the \214le in\
 the \214rst directory on the path will be the)-2.576 F .436(one PMak)
93.6 231.6 R 2.936(eu)-.1 G .436(ses. So if you ha)-2.936 F .735 -.15
(ve a l)-.2 H(ar).15 E .435(ge system spread o)-.18 F -.15(ve)-.15 G
2.935(rm).15 G(an)-2.935 E 2.935(yd)-.15 G .435(irectories, it w)-2.935
F .435(ould behoo)-.1 F .735 -.15(ve y)-.15 H .435(ou to fol-).15 F(lo)
93.6 243.6 Q 2.5(wan)-.25 G(aming con)-2.5 E -.15(ve)-.4 G(ntion that a)
.15 E -.2(vo)-.2 G(ids such con\215icts.).2 E .207
(Something you should kno)93.6 259.2 R 2.707(wa)-.25 G .207(bout the w)
-2.707 F .208
(ay search paths are implemented is that each directory is read, and)-.1
F .457(its contents cached, e)93.6 271.2 R .456
(xactly once \212 when it is \214rst encountered \212 so an)-.15 F 2.956
(yc)-.15 G .456(hanges to the directories while)-2.956 F(PMak)93.6 283.2
Q 4.138(ei)-.1 G 4.138(sr)-4.138 G 1.638(unning will not be noted when \
searching for implicit sources, nor will the)-4.138 F 4.139(yb)-.15 G
4.139(ef)-4.139 G 1.639(ound when)-4.139 F(PMak)93.6 295.2 Q 2.695(ea)
-.1 G .195(ttempts to disco)-2.695 F -.15(ve)-.15 G 2.695(rw).15 G .195
(hen the \214le w)-2.695 F .194(as last modi\214ed, unless the \214le w)
-.1 F .194(as created in the current direc-)-.1 F(tory)93.6 307.2 Q
3.444(.W)-.65 G .944(hile people ha)-3.444 F 1.244 -.15(ve s)-.2 H .944
(uggested that PMak).15 F 3.445(es)-.1 G .945
(hould read the directories each time, my e)-3.445 F .945
(xperience sug-)-.15 F .707(gests that the caching seldom causes proble\
ms. In addition, not caching the directories slo)93.6 319.2 R .706
(ws things do)-.25 F(wn)-.25 E 1.223(enormously because of PMak)93.6
331.2 R(e')-.1 E 3.723(sa)-.55 G 1.223
(ttempts to apply transformation rules through non-e)-3.723 F 1.223
(xistent \214les \212 the)-.15 F .777(number of e)93.6 343.2 R .777
(xtra \214le-system searches is truly staggering, especially if man)-.15
F 3.276<798c>-.15 G .776(les without suf)-3.276 F<8c78>-.25 E .776
(es are used)-.15 F(and the null suf)93.6 355.2 Q(\214x isn')-.25 E 2.5
(tc)-.18 G(hanged from)-2.5 E F1(.out)2.5 E F0(.)A/F2 10/Times-Bold@0 SF
2.5(4.2. Ar)93.6 379.2 R(chi)-.18 E -.1(ve)-.1 G 2.5(sa).1 G
(nd Libraries)-2.5 E/F3 8/Times-Roman@0 SF(UNIX)93.6 394.8 Q F0 1.017
(and Sprite allo)3.517 F 3.517(wy)-.25 G 1.018(ou to mer)-3.517 F 1.018
(ge \214les into an archi)-.18 F 1.318 -.15(ve u)-.25 H 1.018(sing the)
.15 F F1(ar)3.518 E F0 1.018(command. Further)3.518 F 3.518(,i)-.4 G
3.518(ft)-3.518 G 1.018(he \214les are)-3.518 F .107
(relocatable object \214les, you can run)93.6 406.8 R F1(ranlib)2.607 E
F0 .107(on the archi)2.607 F .407 -.15(ve a)-.25 H .107
(nd get yourself a library that you can link into).15 F(an)93.6 418.8 Q
3.816(yp)-.15 G 1.316(rogram you w)-3.816 F 1.316
(ant. The main problem with archi)-.1 F -.15(ve)-.25 G 3.817(si).15 G
3.817(st)-3.817 G(he)-3.817 E 3.817(yd)-.15 G 1.317
(ouble the space you need to store the)-3.817 F(archi)93.6 430.8 Q -.15
(ve)-.25 G 2.589<648c>.15 G .089(les, since there')-2.589 F 2.589(so)
-.55 G .089(ne cop)-2.589 F 2.589(yi)-.1 G 2.589(nt)-2.589 G .089
(he archi)-2.589 F .388 -.15(ve a)-.25 H .088(nd one cop).15 F 2.588(yo)
-.1 G .088(ut by itself. The problem with libraries is)-2.588 F 1.004
(you usually think of them as)93.6 442.8 R F1(-lm)3.505 E F0 1.005
(rather than)3.505 F F1(/usr/lib/libm.a)3.505 E F0 1.005(and the link)
3.505 F 1.005(er thinks the)-.1 F(y')-.15 E 1.005(re out-of-)-.5 F
(date if you so much as look at them.)93.6 454.8 Q(PMak)93.6 470.4 Q
3.225(es)-.1 G(olv)-3.225 E .725(es the problem with archi)-.15 F -.15
(ve)-.25 G 3.224(sb).15 G 3.224(ya)-3.224 G(llo)-3.224 E .724
(wing you to tell it to e)-.25 F .724(xamine the \214les in the archi)
-.15 F -.15(ve)-.25 G 3.224(s\().15 G(so)-3.224 E .842(you can remo)93.6
482.4 R 1.142 -.15(ve t)-.15 H .842(he indi).15 F .842
(vidual \214les without ha)-.25 F .842(ving to re)-.2 F .843
(generate them later\). T)-.15 F 3.343(oh)-.8 G .843
(andle the problem with)-3.343 F(libraries, PMak)93.6 494.4 Q 2.5(ea)-.1
G(dds an additional w)-2.5 E
(ay of deciding if a library is out-of-date:)-.1 E 6.5<8349>93.6 510 S
2.5(ft)-6.5 G(he table of contents is older than the library)-2.5 E 2.5
(,o)-.65 G 2.5(ri)-2.5 G 2.5(sm)-2.5 G
(issing, the library is out-of-date.)-2.5 E 2.841(Al)93.6 525.6 S .341
(ibrary is an)-2.841 F 2.841(yt)-.15 G(ar)-2.841 E .341
(get that looks lik)-.18 F 2.841(e`)-.1 G(`)-3.581 E F1<ad6c>A F0(name')
A 2.841('o)-.74 G 2.841(rt)-2.841 G .34(hat ends in a suf)-2.841 F .34
(\214x that w)-.25 F .34(as mark)-.1 F .34(ed as a library using)-.1 F
(the)93.6 537.6 Q F1(.LIBS)2.5 E F0(tar)2.5 E(get.)-.18 E F1(.a)5 E F0
(is so mark)2.5 E(ed in the system mak)-.1 E(e\214le.)-.1 E 2.754
(Members of an archi)93.6 553.2 R 3.054 -.15(ve a)-.25 H 2.754
(re speci\214ed as `).15 F(`)-.74 E/F4 10/Times-Italic@0 SF(ar)A -.15
(ch)-.37 G(ive).15 E F0(\()A F4(member)A F0([)A F4(member)5.254 E F0
(...]\)')A 5.254('. Thus)-.74 F -.74(``)5.254 G(').74 E F1
(libdix.a\(win-)A(dow.o\))93.6 565.2 Q F0 1.8 -.74('' s)D .32
(peci\214es the \214le).74 F F1(window.o)2.82 E F0 .319(in the archi)
2.82 F -.15(ve)-.25 G F1(libdix.a)2.969 E F0 5.319(.Y)C .319
(ou may also use wildcards to specify)-6.419 F(the members of the archi)
93.6 577.2 Q -.15(ve)-.25 G 2.5(.J).15 G
(ust remember that most the wildcard characters will only \214nd)-2.5 E
F4 -.2(ex)2.5 G(isting).2 E F0(\214les.)2.5 E 2.796<418c>93.6 592.8 S
.296(le that is a member of an archi)-2.796 F .596 -.15(ve i)-.25 H
2.796(st).15 G .296(reated specially)-2.796 F 2.797(.I)-.65 G 2.797(ft)
-2.797 G .297(he \214le doesn')-2.797 F 2.797(te)-.18 G .297(xist, b)
-2.947 F .297(ut it is in the archi)-.2 F -.15(ve)-.25 G 2.797(,t).15 G
(he)-2.797 E 1.223(modi\214cation time recorded in the archi)93.6 604.8
R 1.523 -.15(ve i)-.25 H 3.723(su).15 G 1.223
(sed for the \214le when determining if the \214le is out-of-date.)
-3.723 F .415(When \214guring out ho)93.6 616.8 R 2.915(wt)-.25 G 2.915
(om)-2.915 G(ak)-2.915 E 2.915(ea)-.1 G 2.915(na)-2.915 G(rchi)-2.915 E
-.15(ve)-.25 G 2.915(dm).15 G .415(ember tar)-2.915 F .416
(get \(not the \214le itself, b)-.18 F .416(ut the \214le in the archi)
-.2 F .716 -.15(ve \212)-.25 H(the)93.6 628.8 Q F4(ar)2.5 E -.15(ch)-.37
G(ive).15 E F0(\()A F4(member)A F0 2.5(\)t)C(ar)-2.5 E
(get\), special care is tak)-.18 E
(en with the transformation rules, as follo)-.1 E(ws:)-.25 E<83>93.6
644.4 Q F4(ar)6.5 E -.15(ch)-.37 G(ive).15 E F0(\()A F4(member)A F0 2.5
(\)i)C 2.5(sm)-2.5 G(ade to depend on)-2.5 E F4(member)2.5 E F0(.)A 6.5
<8354>93.6 660 S .014(he transformation from the)-6.5 F F4(member)2.514
E F0 1.114 -.55('s s)D(uf).55 E .013(\214x to the)-.25 F F4(ar)2.513 E
-.15(ch)-.37 G(ive).15 E F0 1.113 -.55('s s)D(uf).55 E .013
(\214x is applied to the)-.25 F F4(ar)2.513 E -.15(ch)-.37 G(ive).15 E
F0(\()A F4(member)A F0 2.513(\)t)C(ar)-2.513 E(-)-.2 E(get.)103.6 672 Q
6.5<8354>93.6 687.6 S(he)-6.5 E F4(ar)2.971 E -.15(ch)-.37 G(ive).15 E
F0(\()A F4(member)A F0(\)')A(s)-.55 E F1(.TARGET)2.971 E F0 -.25(va)
2.971 G .471(riable is set to the name of the).25 F F4(member)2.971 E F0
(if)2.971 E F4(member)2.971 E F0 .472(is actually a tar)2.971 F(-)-.2 E
(get, or the path to the member \214le if)103.6 699.6 Q F4(member)2.5 E
F0(is only a source.)2.5 E 6.5<8354>93.6 715.2 S(he)-6.5 E F1(.ARCHIVE)
2.5 E F0 -.25(va)2.5 G(riable for the).25 E F4(ar)2.5 E -.15(ch)-.37 G
(ive).15 E F0(\()A F4(member)A F0 2.5(\)t)C(ar)-2.5 E
(get is set to the name of the)-.18 E F4(ar)2.5 E -.15(ch)-.37 G(ive).15
E F0(.)A EP
%%Page: 26 26
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 300.33(PSD:12-26 PMak)93.6 48 R 2.5(e\212AT)-.1
G(utorial)-2.95 E 6.5<8354>93.6 84 S(he)-6.5 E/F1 10/Courier@0 SF
(.MEMBER)3.319 E F0 -.25(va)3.319 G .819(riable is set to the actual st\
ring inside the parentheses. In most cases, this will be the).25 F
(same as the)103.6 96 Q F1(.TARGET)2.5 E F0 -.25(va)2.5 G(riable.).25 E
6.5<8354>93.6 111.6 S(he)-6.5 E/F2 10/Times-Italic@0 SF(ar)2.546 E -.15
(ch)-.37 G(ive).15 E F0(\()A F2(member)A F0(\)')A 2.546(sp)-.55 G .047
(lace in the local v)-2.546 F .047(ariables of the tar)-.25 F .047
(gets that depend on it is tak)-.18 F .047(en by the v)-.1 F .047
(alue of)-.25 F(its)103.6 123.6 Q F1(.TARGET)2.5 E F0 -.25(va)2.5 G
(riable.).25 E(Thus, a program library could be created with the follo)
93.6 139.2 Q(wing mak)-.25 E(e\214le:)-.1 E F1 66(.o.a :)129.6 157.2 R
(...)177.6 169.2 Q(rm -f $\(.TARGET:T\))177.6 181.2 Q 66(OBJS =)129.6
193.2 R(obj1.o obj2.o obj3.o)6 E 36(libprog.a :)129.6 205.2 R
(libprog.a\($\(OBJS\)\))6 E(ar cru $\(.TARGET\) $\(.OODATE\))177.6 217.2
Q(ranlib $\(.TARGET\))177.6 229.2 Q F0 .661(This will cause the three o\
bject \214les to be compiled \(if the corresponding source \214les were\
 modi\214ed after)93.6 247.2 R 3.401(the object \214le or)93.6 259.2 R
5.902(,i)-.4 G 5.902(ft)-5.902 G 3.402(hat doesn')-5.902 F 5.902(te)-.18
G 3.402(xist, the archi)-6.052 F -.15(ve)-.25 G 5.902(do).15 G 3.402
(bject \214le\), the out-of-date ones archi)-5.902 F -.15(ve)-.25 G
5.902(di).15 G(n)-5.902 E F1(libprog.a)93.6 271.2 Q F0 2.5(,at)C
(able of contents placed in the archi)-2.5 E .3 -.15(ve a)-.25 H
(nd the ne).15 E(wly-archi)-.25 E -.15(ve)-.25 G 2.5(do).15 G
(bject \214les to be remo)-2.5 E -.15(ve)-.15 G(d.).15 E 1.112
(All this is used in the)93.6 286.8 R F1(makelib.mk)3.612 E F0 1.112
(system mak)3.612 F 1.112
(e\214le to create a single library with ease. This mak)-.1 F(e\214le)
-.1 E(looks lik)93.6 298.8 Q 2.5(et)-.1 G(his:)-2.5 E EP
%%Page: 27 27
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PMak)93.6 48 Q 2.5(e\212AT)-.1 G 300.33
(utorial PSD:12-27)-2.95 F/F1 8/Courier@0 SF(#)129.6 84 Q 4.8(#R)129.6
96 S(ules for making libraries. The object files that make up the libra\
ry are)-4.8 E 4.8(#r)129.6 108 S(emoved once they are archived.)-4.8 E
(#)129.6 120 Q 4.8(#T)129.6 132 S 4.8(om)-4.8 G
(ake several libararies in parallel, you should define the variable)-4.8
E 4.8(#")129.6 144 S
(many_libraries". This will serialize the invocations of ranlib.)-4.8 E
(#)129.6 156 Q 4.8(#T)129.6 168 S 4.8(ou)-4.8 G
(se, do something like this:)-4.8 E(#)129.6 180 Q 4.8(#O)129.6 192 S
(BJECTS = <files in the library>)-4.8 E(#)129.6 204 Q 4.8(#f)129.6 216 S
(ish.a: fish.a\($\(OBJECTS\)\) MAKELIB)-4.8 E(#)129.6 228 Q(#)129.6 240
Q(#ifndef _MAKELIB_MK)129.6 264 Q 17.4(_MAKELIB_MK =)129.6 276 R 6.8
(#include <po.mk>)129.6 300 R(.po.a .o.a)129.6 324 Q(:)2 E(...)154.6 336
Q(rm -f $\(.MEMBER\))154.6 348 Q 36.6(ARFLAGS ?=)129.6 372 R(crl)4.8 E
(#)129.6 396 Q 4.8(#R)129.6 408 S
(e-archive the out-of-date members and recreate the library's table of)
-4.8 E 4.8(#c)129.6 420 S
(ontents using ranlib. If many_libraries is defined, put the ranlib off)
-4.8 E 4.8(#t)129.6 432 S
(il the end so many libraries can be made at once.)-4.8 E(#)129.6 444 Q
36.6(MAKELIB :)129.6 456 R(.USE .PRECIOUS)4.8 E
(ar $\(ARFLAGS\) $\(.TARGET\) $\(.OODATE\))154.6 468 Q
(#ifndef no_ranlib)129.6 480 Q 4.8(#i)129.6 492 S(fdef many_libraries)
-4.8 E(...)154.6 504 Q 4.8(#e)129.6 516 S(ndif many_libraries)-4.8 E
(ranlib $\(.TARGET\))154.6 528 Q(#endif no_ranlib)129.6 540 Q
(#endif _MAKELIB_MK)129.6 564 Q/F2 10/Times-Bold@0 SF 2.5(4.3. On)93.6
594 R(the Condition...)2.5 E F0(Lik)93.6 609.6 Q 3.249(et)-.1 G .749
(he C compiler before it, PMak)-3.249 F 3.249(ea)-.1 G(llo)-3.249 E .749
(ws you to con\214gure the mak)-.25 F .75
(e\214le, based on the current en)-.1 F(viron-)-.4 E
(ment, using conditional statements. A conditional looks lik)93.6 621.6
Q 2.5(et)-.1 G(his:)-2.5 E/F3 10/Courier@0 SF(#if)129.6 639.6 Q/F4 10
/Times-Italic@0 SF(boolean e)6 E(xpr)-.2 E(ession)-.37 E(lines)129.6
651.6 Q F3(#elif)129.6 663.6 Q F4(another boolean e)6 E(xpr)-.2 E
(ession)-.37 E(mor)129.6 675.6 Q 2.5(el)-.37 G(ines)-2.5 E F3(#else)
129.6 687.6 Q F4(still mor)129.6 699.6 Q 2.5(el)-.37 G(ines)-2.5 E F3
(#endif)129.6 711.6 Q F0(The)93.6 729.6 Q 2.737(ym)-.15 G .236
(ay be nested to a maximum depth of 30 and may occur an)-2.737 F .236
(ywhere \(e)-.15 F .236(xcept in a comment, of course\).)-.15 F EP
%%Page: 28 28
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 300.33(PSD:12-28 PMak)93.6 48 R 2.5(e\212AT)-.1
G(utorial)-2.95 E(The `)93.6 84 Q(`)-.74 E/F1 10/Courier@0 SF(#)A F0
1.48 -.74('' m)D(ust the v).74 E(ery \214rst character on the line.)-.15
E(Each)93.6 99.6 Q/F2 10/Times-Italic@0 SF .16(boolean e)2.66 F(xpr)-.2
E(ession)-.37 E F0 .16(is made up of terms that look lik)2.66 F 2.661
(ef)-.1 G .161(unction calls, the standard C boolean operators)-2.661 F
F1(&&)93.6 111.6 Q F0(,)A F1(||)2.67 E F0 2.67(,a)C(nd)-2.67 E F1(!)2.67
E F0 2.67(,a)C .17(nd the standard relational operators)-2.67 F F1(==)
2.67 E F0(,)A F1(!=)2.67 E F0(,)A F1(>)2.67 E F0(,)A F1(>=)2.669 E F0(,)
A F1(<)2.669 E F0 2.669(,a)C(nd)-2.669 E F1(<=)2.669 E F0 2.669(,w)C
(ith)-2.669 E F1(==)2.669 E F0(and)2.669 E F1(!=)2.669 E F0 .169
(being o)2.669 F -.15(ve)-.15 G -.2(r-).15 G .327(loaded to allo)93.6
123.6 R 2.827(ws)-.25 G .328(tring comparisons as well.)-2.827 F F1(&&)
5.328 E F0 .328(represents logical AND;)2.828 F F1(||)2.828 E F0 .328
(is logical OR and)2.828 F F1(!)2.828 E F0 .328(is logical)5.328 F(NO)
93.6 135.6 Q 5.288 -.74(T. T)-.4 H 1.308
(he arithmetic and string operators tak).74 F 3.807(ep)-.1 G 1.307
(recedence o)-3.807 F -.15(ve)-.15 G 3.807(ra).15 G 1.307
(ll three of these operators, while NO)-3.807 F(T)-.4 E(tak)93.6 147.6 Q
.965(es precedence o)-.1 F -.15(ve)-.15 G 3.465(rA).15 G .965
(ND, which tak)-3.465 F .966(es precedence o)-.1 F -.15(ve)-.15 G 3.466
(rO).15 G 3.466(R. This)-3.466 F .966(precedence may be o)3.466 F -.15
(ve)-.15 G .966(rridden with).15 F .073(parentheses, and an e)93.6 159.6
R .073(xpression may be parenthesized to your heart')-.15 F 2.572(sc)
-.55 G 2.572(ontent. Each)-2.572 F .072(term looks lik)2.572 F 2.572
(eac)-.1 G .072(all on)-2.572 F(one of four functions:)93.6 171.6 Q(mak)
93.6 187.2 Q 23.44(eT)-.1 G .112(he syntax is)-23.44 F F1(make\()2.612 E
F2(tar)A -.1(ge)-.37 G(t).1 E F1(\))A F0(where)2.612 E F2(tar)2.613 E
-.1(ge)-.37 G(t).1 E F0 .113(is a tar)2.613 F .113(get in the mak)-.18 F
.113(e\214le. This is true if the gi)-.1 F -.15(ve)-.25 G 2.613(nt).15 G
(ar)-2.613 E(-)-.2 E 1.805(get w)138.6 199.2 R 1.805
(as speci\214ed on the command line, or as the source for a)-.1 F F1
(.MAIN)4.304 E F0(tar)4.304 E 1.804(get \(note that the)-.18 F
(sources for)138.6 211.2 Q F1(.MAIN)2.5 E F0(are only used if no tar)2.5
E(gets were gi)-.18 E -.15(ve)-.25 G 2.5(no).15 G 2.5(nt)-2.5 G
(he command line\).)-2.5 E 13.06(de\214ned The)93.6 226.8 R 2.048
(syntax is)4.548 F F1(defined\()4.548 E F2(variable)A F1(\))A F0 2.048
(and is true if)4.548 F F2(variable)4.549 E F0 2.049
(is de\214ned. Certain v)4.549 F 2.049(ariables are)-.25 F
(de\214ned in the system mak)138.6 238.8 Q
(e\214le that identify the system on which PMak)-.1 E 2.5(ei)-.1 G 2.5
(sb)-2.5 G(eing run.)-2.5 E -.15(ex)93.6 254.4 S 19.87(ists The).15 F
.75(syntax is)3.25 F F1(exists\()3.25 E F2(\214le)A F1(\))A F0 .75(and \
is true if the \214le can be found on the global search path \(i.e.)3.25
F(that de\214ned by)138.6 266.4 Q F1(.PATH)2.5 E F0(tar)2.5 E
(gets, not by)-.18 E F1(.PATH)2.5 E F2(suf)A<8c78>-.18 E F0(tar)2.5 E
(gets\).)-.18 E 17.5(empty This)93.6 282 R .396(syntax is much lik)2.896
F 2.896(et)-.1 G .396(he others, e)-2.896 F .397
(xcept the string inside the parentheses is of the same form)-.15 F .369
(as you w)138.6 294 R .369(ould put between parentheses when e)-.1 F
.368(xpanding a v)-.15 F .368(ariable, complete with modi\214ers and)
-.25 F -2.15 -.25(ev e)138.6 306 T .519(rything. The function returns t\
rue if the resulting string is empty \(NO).25 F .52
(TE: an unde\214ned v)-.4 F(ari-)-.25 E 1.162(able in this conte)138.6
318 R 1.161(xt will cause at the v)-.15 F 1.161(ery least a w)-.15 F
1.161(arning message about a malformed condi-)-.1 F .46
(tional, and at the w)138.6 330 R .461
(orst will cause the process to stop once it has read the mak)-.1 F .461
(e\214le. If you w)-.1 F(ant)-.1 E 1.968(to check for a v)138.6 342 R
1.968(ariable being de\214ned or empty)-.25 F 4.468(,u)-.65 G 1.967
(se the e)-4.468 F 1.967(xpression `)-.15 F(`)-.74 E F1(!defined\()A F2
(var)A F1 7.967(\)|)C(|)-7.967 E(empty\()138.6 354 Q F2(var)A F1(\))A F0
3.075 -.74('' a)D 4.095(st).74 G 1.595(he de\214nition of)-4.095 F F1
(||)4.095 E F0 1.595(will pre)4.095 F -.15(ve)-.25 G 1.595(nt the).15 F
F1(empty\(\))4.096 E F0 1.596(from being e)4.096 F -.25(va)-.25 G 1.596
(luated and).25 F 1(causing an error)138.6 366 R 3.5(,i)-.4 G 3.5(ft)
-3.5 G 1(he v)-3.5 F .999
(ariable is unde\214ned\). This can be used to see if a v)-.25 F .999
(ariable contains a)-.25 F(gi)138.6 378 Q -.15(ve)-.25 G 2.5(nw).15 G
(ord, for e)-2.6 E(xample:)-.15 E F1(#if !empty\()174.6 396 Q F2(var)A
F1(:M)A F2(wor)A(d)-.37 E F1(\))A F0 .252
(The arithmetic and string operators may only be used to test the v)93.6
417.6 R .252(alue of a v)-.25 F .252(ariable. The lefthand side must)
-.25 F .275(contain the v)93.6 429.6 R .275(ariable e)-.25 F .275(xpans\
ion, while the righthand side contains either a string, enclosed in dou\
ble-quotes,)-.15 F 1.058(or a number)93.6 441.6 R 3.558(.T)-.55 G 1.059
(he standard C numeric con)-3.558 F -.15(ve)-.4 G 1.059(ntions \(e).15 F
1.059(xcept for specifying an octal number\) apply to both)-.15 F
(sides. E.g.)93.6 453.6 Q F1(#if $\(OS\) == 4.3)129.6 471.6 Q
(#if $\(MACHINE\) == "sun3")129.6 495.6 Q(#if $\(LOAD_ADDR\) < 0xc000)
129.6 519.6 Q F0(are all v)93.6 537.6 Q
(alid conditionals. In addition, the numeric v)-.25 E(alue of a v)-.25 E
(ariable can be tested as a boolean as follo)-.25 E(ws:)-.25 E F1
(#if $\(LOAD\))129.6 555.6 Q F0 -.1(wo)93.6 573.6 S(uld see if).1 E F1
(LOAD)2.5 E F0(contains a non-zero v)2.5 E(alue and)-.25 E F1
(#if !$\(LOAD\))129.6 591.6 Q F0 -.1(wo)93.6 609.6 S(uld test if).1 E F1
(LOAD)2.5 E F0(contains a zero v)2.5 E(alue.)-.25 E .457
(In addition to the bare `)93.6 625.2 R(`)-.74 E F1(#if)A F0 -.7(,')C
2.957('t)-.04 G .457
(here are other forms that apply one of the \214rst tw)-2.957 F 2.957
(of)-.1 G .457(unctions to each term.)-2.957 F(The)93.6 637.2 Q 2.5(ya)
-.15 G(re as follo)-2.5 E(ws:)-.25 E F1(ifdef)154.6 655.2 Q F0
(de\214ned)20 E F1(ifndef)154.6 667.2 Q F0(!de\214ned)14 E F1(ifmake)
154.6 679.2 Q F0(mak)14 E(e)-.1 E F1(ifnmake)154.6 691.2 Q F0(!mak)8 E
(e)-.1 E(There are also the `)93.6 709.2 Q(`else if)-.74 E 1.48 -.74
('' f).55 H(orms:).74 E F1(elif)2.5 E F0(,)A F1(elifdef)2.5 E F0(,)A F1
(elifndef)2.5 E F0(,)A F1(elifmake)2.5 E F0 2.5(,a)C(nd)-2.5 E F1
(elifnmake)2.5 E F0(.)A EP
%%Page: 29 29
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PMak)93.6 48 Q 2.5(e\212AT)-.1 G 300.33
(utorial PSD:12-29)-2.95 F -.15(Fo)93.6 84 S 3.408(ri).15 G .908
(nstance, if you wish to create tw)-3.408 F 3.408(ov)-.1 G .909
(ersions of a program, one of which is optimized \(the production)-3.558
F -.15(ve)93.6 96 S .181(rsion\) and the other of which is for deb).15 F
.181(ugging \(has symbols for dbx\), you ha)-.2 F .481 -.15(ve t)-.2 H
.381 -.1(wo c).15 H .181(hoices: you can cre-).1 F .732(ate tw)93.6 108
R 3.232(om)-.1 G(ak)-3.232 E .732(e\214les, one of which uses the)-.1 F
/F1 10/Courier@0 SF<ad67>3.232 E F0 .732
(\215ag for the compilation, while the other uses the)3.232 F F1<ad4f>
3.232 E F0 .732(\215ag, or)3.232 F .583(you can use another tar)93.6 120
R .582(get \(call it)-.18 F F1(debug)3.082 E F0 3.082(\)t)C 3.082(oc)
-3.082 G .582(reate the deb)-3.082 F .582(ug v)-.2 F .582
(ersion. The construct belo)-.15 F 3.082(ww)-.25 G .582(ill tak)-3.082 F
3.082(ec)-.1 G(are)-3.082 E .029(of this for you. I ha)93.6 132 R .329
-.15(ve a)-.2 H .029(lso made it so de\214ning the v).15 F(ariable)-.25
E F1(DEBUG)2.529 E F0 .029(\(say with)2.529 F F1 .029(pmake -D DEBUG)
2.529 F F0 2.529(\)w)C .029(ill also)-2.529 F(cause the deb)93.6 144 Q
(ug v)-.2 E(ersion to be made.)-.15 E F1
(#if defined\(DEBUG\) || make\(debug\))129.6 162 Q 33(CFLAGS +=)129.6
174 R(-g)6 E(#else)129.6 186 Q 33(CFLAGS +=)129.6 198 R(-O)6 E(#endif)
129.6 210 Q F0 .975(There are, of course, problems with this approach. \
The most glaring anno)93.6 228 R .975(yance is that if you w)-.1 F .975
(ant to go)-.1 F .949(from making a deb)93.6 240 R .949(ug v)-.2 F .949
(ersion to making a production v)-.15 F .949(ersion, you ha)-.15 F 1.25
-.15(ve t)-.2 H 3.45(or).15 G(emo)-3.45 E 1.25 -.15(ve a)-.15 H .95
(ll the object \214les, or).15 F .005
(you will get some optimized and some deb)93.6 252 R .005(ug v)-.2 F
.005(ersions in the same program. Another anno)-.15 F .004
(yance is you ha)-.1 F -.15(ve)-.2 G 1.389(to be careful not to mak)93.6
264 R 3.889(et)-.1 G 1.589 -.1(wo t)-3.889 H(ar).1 E 1.389(gets that `)
-.18 F(`con\215ict')-.74 E 3.889('b)-.74 G 1.39
(ecause of some conditionals in the mak)-3.889 F 1.39(e\214le. F)-.1 F
(or)-.15 E(instance)93.6 276 Q F1(#if make\(print\))129.6 294 Q 15
(FORMATTER =)129.6 306 R(ditroff -Plaser_printer)6 E(#endif)129.6 318 Q
(#if make\(draft\))129.6 330 Q 15(FORMATTER =)129.6 342 R
(nroff -Pdot_matrix_printer)6 E(#endif)129.6 354 Q F0 -.1(wo)93.6 372 S
.934(uld wreak ha).1 F -.2(vo)-.2 G 3.433(ki).2 G 3.433(fy)-3.433 G .933
(ou tried `)-3.433 F(`)-.74 E F1 .933(pmake draft print)B F0 2.413 -.74
('' s)D .933(ince you w).74 F .933(ould use the same formatter for)-.1 F
(each tar)93.6 384 Q(get. As I said, this all gets some)-.18 E
(what complicated.)-.25 E/F2 10/Times-Bold@0 SF 2.5(4.4. A)93.6 408 R
(Shell is a Shell is a Shell)2.5 E F0 .027
(In normal operation, the Bourne Shell \(better kno)93.6 423.6 R .027
(wn as `)-.25 F(`)-.74 E F1(sh)A F0 -.74('')C 2.527(\)i).74 G 2.527(su)
-2.527 G .027(sed to e)-2.527 F -.15(xe)-.15 G .027
(cute the commands to re-create).15 F(tar)93.6 435.6 Q .953(gets. PMak)
-.18 F 3.453(ea)-.1 G .953(lso allo)-3.453 F .953
(ws you to specify a dif)-.25 F .953(ferent shell for it to use when e)
-.25 F -.15(xe)-.15 G .953(cuting these commands.).15 F .788
(There are se)93.6 447.6 R -.15(ve)-.25 G .789(ral things PMak).15 F
3.289(em)-.1 G .789(ust kno)-3.289 F 3.289(wa)-.25 G .789
(bout the shell you wish to use. These things are speci\214ed as)-3.289
F(the sources for the)93.6 459.6 Q F1(.SHELL)2.5 E F0(tar)2.5 E
(get by k)-.18 E -.15(ey)-.1 G -.1(wo).15 G(rd, as follo).1 E(ws:)-.25 E
F2(path=)93.6 475.2 Q/F3 10/Times-Italic@0 SF(path)A F0(PMak)118.6 487.2
Q 3.485(en)-.1 G .985(eeds to kno)-3.485 F 3.485(ww)-.25 G .985
(here the shell actually resides, so it can e)-3.485 F -.15(xe)-.15 G
.984(cute it. If you specify this and).15 F 1.456(nothing else, PMak)
118.6 499.2 R 3.956(ew)-.1 G 1.456(ill use the last component of the pa\
th and look in its table of the shells it)-3.956 F(kno)118.6 511.2 Q .43
(ws and use the speci\214cation it \214nds, if an)-.25 F 1.73 -.65(y. U)
-.15 H .429(se this if you just w).65 F .429(ant to use a dif)-.1 F .429
(ferent v)-.25 F .429(ersion of)-.15 F
(the Bourne or C Shell \(yes, PMak)118.6 523.2 Q 2.5(ek)-.1 G(no)-2.5 E
(ws ho)-.25 E 2.5(wt)-.25 G 2.5(ou)-2.5 G(se the C Shell too\).)-2.5 E
F2(name=)93.6 538.8 Q F3(name)A F0 .402
(This is the name by which the shell is to be kno)118.6 550.8 R .403
(wn. It is a single w)-.25 F .403(ord and, if no other k)-.1 F -.15(ey)
-.1 G -.1(wo).15 G .403(rds are).1 F .567(speci\214ed \(other than)118.6
562.8 R F2(path)3.066 E F0 .566(\), it is the name by which PMak)B 3.066
(ea)-.1 G .566(ttempts to \214nd a speci\214cation for it \(as)-3.066 F
.921(mentioned abo)118.6 574.8 R -.15(ve)-.15 G .921(\). Y).15 F .921
(ou can use this if you w)-1.1 F .922
(ould just rather use the C Shell than the Bourne Shell)-.1 F(\(`)118.6
586.8 Q(`)-.74 E F1(.SHELL: name=csh)A F0 1.48 -.74('' w)D(ill do it\).)
.74 E F2(quiet=)93.6 602.4 Q F3(ec)A(ho-of)-.15 E 2.5(fc)-.18 G(ommand)
-2.5 E F0 .899(As mentioned before, PMak)118.6 614.4 R 3.399(ea)-.1 G
.898(ctually controls whether commands are printed by introducing com-)
-3.399 F .804(mands into the shell')118.6 626.4 R 3.304(si)-.55 G .805
(nput stream. This k)-3.304 F -.15(ey)-.1 G -.1(wo).15 G .805
(rd, and the ne).1 F .805(xt tw)-.15 F .805
(o, control what those commands)-.1 F 1.011(are. The)118.6 638.4 R F2
(quiet)3.511 E F0 -.1(ke)3.511 G(yw)-.05 E 1.011
(ord is the command used to turn echoing of)-.1 F 1.01
(f. Once it is turned of)-.25 F 1.01(f, echoing is)-.25 F -.15(ex)118.6
650.4 S(pected to remain of).15 E 2.5(fu)-.25 G
(ntil the echo-on command is gi)-2.5 E -.15(ve)-.25 G(n.).15 E F2(echo=)
93.6 666 Q F3(ec)A(ho-on command)-.15 E F0(The command PMak)118.6 678 Q
2.5(es)-.1 G(hould gi)-2.5 E .3 -.15(ve t)-.25 H 2.5(ot).15 G
(urn echoing back on ag)-2.5 E(ain.)-.05 E F2(\214lter=)93.6 693.6 Q F3
(printed ec)A(ho-of)-.15 E 2.5(fc)-.18 G(ommand)-2.5 E F0(Man)118.6
705.6 Q 2.575(ys)-.15 G .075(hells will echo the echo-of)-2.575 F 2.575
(fc)-.25 G .075(ommand when it is gi)-2.575 F -.15(ve)-.25 G .075
(n. This k).15 F -.15(ey)-.1 G -.1(wo).15 G .076(rd tells PMak).1 F
2.576(ei)-.1 G 2.576(nw)-2.576 G .076(hat for)-2.576 F(-)-.2 E .965
(mat the shell actually prints the echo-of)118.6 717.6 R 3.465(fc)-.25 G
.965(ommand. Where)-3.465 F -.15(ve)-.25 G 3.465(rP).15 G(Mak)-3.465 E
3.465(es)-.1 G .964(ees this string in the shell')-3.465 F(s)-.55 E .689
(output, it will delete it and an)118.6 729.6 R 3.189(yf)-.15 G(ollo)
-3.189 E .69(wing whitespace, up to and including the ne)-.25 F .69
(xt ne)-.15 F .69(wline. See the)-.25 F EP
%%Page: 30 30
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 300.33(PSD:12-30 PMak)93.6 48 R 2.5(e\212AT)-.1
G(utorial)-2.95 E -.15(ex)118.6 84 S
(ample at the end of this section for more details.).15 E/F1 10
/Times-Bold@0 SF(echoFlag=)93.6 99.6 Q/F2 10/Times-Italic@0 SF<8d61>A
2.5(gt)-.1 G 2.5(ot)-2.5 G(urn ec)-2.5 E(hoing on)-.15 E F0 .346
(Unless a tar)118.6 111.6 R .346(get has been mark)-.18 F(ed)-.1 E/F3 10
/Courier@0 SF(.SILENT)2.846 E F0 2.846(,P)C(Mak)-2.846 E 2.846(ew)-.1 G
.345(ants to start the shell running with echoing on.)-2.946 F 1.977 -.8
(To d)118.6 123.6 T 2.877(ot).8 G .377
(his, it passes this \215ag to the shell as one of its ar)-2.877 F .378
(guments. If either this or the ne)-.18 F .378(xt \215ag be)-.15 F(gins)
-.15 E .119
(with a `\255', the \215ags will be passed to the shell as separate ar)
118.6 135.6 R .119(guments. Otherwise, the tw)-.18 F 2.619(ow)-.1 G .119
(ill be con-)-2.619 F(catenated \(if the)118.6 147.6 Q 2.5(ya)-.15 G
(re used at the same time, of course\).)-2.5 E F1(errFlag=)93.6 163.2 Q
F2<8d61>A 2.5(gt)-.1 G 2.5(ot)-2.5 G(urn err)-2.5 E(or c)-.45 E(hec)-.15
E(king on)-.2 E F0(Lik)118.6 175.2 Q -.25(ew)-.1 G .466
(ise, unless a tar).25 F .466(get is mark)-.18 F(ed)-.1 E F3(.IGNORE)
2.966 E F0 2.966(,P)C(Mak)-2.966 E 2.966(ew)-.1 G .466(ishes error)
-2.966 F .466(-checking to be on from the v)-.2 F(ery)-.15 E .775
(start. T)118.6 187.2 R 3.275(ot)-.8 G .774
(his end, it will pass this \215ag to the shell as an ar)-3.275 F .774
(gument. The same rules for an initial `\255')-.18 F(apply as for the)
118.6 199.2 Q F1(echoFlag)2.5 E F0(.)A F1(check=)93.6 214.8 Q F2
(command to turn err)A(or c)-.45 E(hec)-.15 E(king on)-.2 E F0 2.383
(Just as for echo-control, error)118.6 226.8 R 2.383(-control is achie)
-.2 F -.15(ve)-.25 G 4.883(db).15 G 4.883(yi)-4.883 G 2.383
(nserting commands into the shell')-4.883 F 4.884(si)-.55 G(nput)-4.884
E .469(stream. This is the command to mak)118.6 238.8 R 2.969(et)-.1 G
.469(he shell check for errors. It also serv)-2.969 F .469
(es another purpose if the)-.15 F 1.255(shell doesn')118.6 250.8 R 3.755
(th)-.18 G -2.25 -.2(av e)-3.755 H(error)3.955 E 1.255
(-control as commands, b)-.2 F 1.256(ut I')-.2 F 1.256
(ll get into that in a minute. Ag)-.1 F 1.256(ain, once error)-.05 F
(checking has been turned on, it is e)118.6 262.8 Q
(xpected to remain on until it is turned of)-.15 E 2.5(fa)-.25 G -.05
(ga)-2.5 G(in.).05 E F1(ignor)93.6 278.4 Q(e=)-.18 E F2
(command to turn err)A(or c)-.45 E(hec)-.15 E(king of)-.2 E(f)-.18 E F0
.283(This is the command PMak)118.6 290.4 R 2.783(eu)-.1 G .283
(ses to turn error checking of)-2.783 F .282
(f. It has another use if the shell doesn')-.25 F 2.782(td)-.18 G(o)
-2.782 E(error)118.6 302.4 Q(-control, b)-.2 E(ut I')-.2 E
(ll tell you about that.)-.1 E 1.666(..n)1.666 G -.25(ow)-1.666 G(.)-.4
E F1(hasErrCtl=)93.6 318 Q F2(yes or no)A F0 .478(This tak)118.6 330 R
.478(es a v)-.1 F .478(alue that is either)-.25 F F1 -.1(ye)2.978 G(s).1
E F0(or)2.978 E F1(no)2.978 E F0 5.478(.N)C .978 -.25(ow y)-5.478 H .478
(ou might think that the e).25 F .478(xistence of the)-.15 F F1(check)
2.978 E F0(and)2.978 E F1(ignor)118.6 342 Q(e)-.18 E F0 -.1(ke)4.345 G
(yw)-.05 E 1.845(ords w)-.1 F 1.845(ould be enough to tell PMak)-.1 F
4.345(ei)-.1 G 4.345(ft)-4.345 G 1.845(he shell can do error)-4.345 F
1.845(-control, b)-.2 F 1.845(ut you')-.2 F 4.345(db)-.5 G(e)-4.345 E
.473(wrong. If)118.6 354 R F1(hasErrCtl)2.973 E F0(is)2.973 E F1 -.1(ye)
2.973 G(s).1 E F0 2.973(,P)C(Mak)-2.973 E 2.973(eu)-.1 G .473
(ses the check and ignore commands in a straight-forw)-2.973 F .474
(ard man-)-.1 F(ner)118.6 366 Q 5.475(.I)-.55 G 2.975(ft)-5.475 G .475
(his is)-2.975 F F1(no)2.975 E F0 2.975(,h)C -.25(ow)-2.975 G -2.15 -.25
(ev e).25 H 1.275 -.4(r, t).25 H .475(heir use is rather dif).4 F .474
(ferent. In this case, the check command is used as a)-.25 F .318
(template, in which the string)118.6 378 R F1(%s)2.818 E F0 .318
(is replaced by the command that')2.818 F 2.818(sa)-.55 G .319
(bout to be e)-2.818 F -.15(xe)-.15 G .319(cuted, to produce).15 F 3.587
(ac)118.6 390 S 1.087
(ommand for the shell that will echo the command to be e)-3.587 F -.15
(xe)-.15 G 1.086(cuted. The ignore command is also).15 F .518
(used as a template, ag)118.6 402 R .519(ain with)-.05 F F1(%s)3.019 E
F0 .519(replaced by the command to be e)3.019 F -.15(xe)-.15 G .519
(cuted, to produce a command).15 F .249(that will e)118.6 414 R -.15(xe)
-.15 G .249(cute the command to be e).15 F -.15(xe)-.15 G .249
(cuted and ignore an).15 F 2.749(ye)-.15 G .249(rror it returns.)-2.749
F .248(When these strings are)5.249 F(used as templates, you must pro)
118.6 426 Q(vide ne)-.15 E(wline\(s\) \(`)-.25 E(`)-.74 E F3(\\n)A F0
-.74('')C 2.5(\)i).74 G 2.5(nt)-2.5 G(he appropriate place\(s\).)-2.5 E
1.511(The strings that follo)93.6 441.6 R 4.011(wt)-.25 G 1.512(hese k)
-4.011 F -.15(ey)-.1 G -.1(wo).15 G 1.512
(rds may be enclosed in single or double quotes \(the quotes will be).1
F .067(stripped of)93.6 453.6 R .067
(f\) and may contain the usual C backslash-characters \(\\n is ne)-.25 F
.066(wline, \\r is return, \\b is backspace, \\')-.25 F 1.083(escapes a\
 single-quote inside single-quotes, \\" escapes a double-quote inside d\
ouble-quotes\). No)93.6 465.6 R 3.583(wf)-.25 G 1.084(or an)-3.583 F
-.15(ex)93.6 477.6 S(ample.).15 E .152
(This is actually the contents of the)93.6 493.2 R F3(<shx.mk>)2.651 E
F0 .151(system mak)2.651 F .151(e\214le, and causes PMak)-.1 F 2.651(et)
-.1 G 2.651(ou)-2.651 G .151(se the Bourne Shell)-2.651 F .003
(in such a w)93.6 505.2 R .003
(ay that each command is printed as it is e)-.1 F -.15(xe)-.15 G .004
(cuted. That is, if more than one command is gi).15 F -.15(ve)-.25 G
2.504(no).15 G(n)-2.504 E 3.09(al)93.6 517.2 S .59
(ine, each will be printed separately)-3.09 F 5.59(.S)-.65 G(imilarly)
-5.59 E 3.09(,e)-.65 G .589(ach time the body of a loop is e)-3.09 F
-.15(xe)-.15 G .589(cuted, the commands).15 F
(within that loop will be printed, etc. The speci\214cation runs lik)
93.6 529.2 Q 2.5(et)-.1 G(his:)-2.5 E F3(#)129.6 547.2 Q 6(#T)129.6
559.2 S(his is a shell specification to have the bourne shell echo)-6 E
6(#t)129.6 571.2 S
(he commands just before executing them, rather than when it reads)-6 E
6(#t)129.6 583.2 S
(hem. Useful if you want to see how variables are being expanded, etc.)
-6 E(#)129.6 595.2 Q 8(.SHELL :)129.6 607.2 R(path=/bin/sh \\)6 E
(quiet="set -" \\)154.6 619.2 Q(echo="set -x" \\)154.6 631.2 Q
(filter="+ set - " \\)154.6 643.2 Q(echoFlag=x \\)154.6 655.2 Q
(errFlag=e \\)154.6 667.2 Q(hasErrCtl=yes \\)154.6 679.2 Q
(check="set -e" \\)154.6 691.2 Q(ignore="set +e")154.6 703.2 Q EP
%%Page: 31 31
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PMak)93.6 48 Q 2.5(e\212AT)-.1 G 300.33
(utorial PSD:12-31)-2.95 F(It tells PMak)93.6 84 Q 2.5(et)-.1 G
(he follo)-2.5 E(wing:)-.25 E 6.5<8354>93.6 99.6 S 1.22
(he shell is located in the \214le)-6.5 F/F1 10/Courier@0 SF(/bin/sh)
3.72 E F0 6.22(.I)C 3.72(tn)-6.22 G 1.22(eed not tell PMak)-3.72 F 3.721
(et)-.1 G 1.221(hat the name of the shell is)-3.721 F F1(sh)3.721 E F0
(as)3.721 E(PMak)103.6 111.6 Q 2.5(ec)-.1 G
(an \214gure that out for itself \(it')-2.5 E 2.5(st)-.55 G
(he last component of the path\).)-2.5 E 6.5<8354>93.6 127.2 S
(he command to stop echoing is)-6.5 E F1(set -)2.5 E F0(.)A 6.5<8354>
93.6 142.8 S(he command to start echoing is)-6.5 E F1(set -x)2.5 E F0(.)
A 6.5<8357>93.6 158.4 S .613(hen the echo of)-6.5 F 3.113(fc)-.25 G .613
(ommand is e)-3.113 F -.15(xe)-.15 G .613(cuted, the shell will print)
.15 F F1 6.613(+s)3.113 G .612(et -)-6.613 F F0 .612
(\(The `+' comes from using the)3.112 F F1<ad78>103.6 170.4 Q F0 .732
(\215ag \(rather than the)3.232 F F1<ad76>3.232 E F0 .732(\215ag PMak)
3.232 F 3.232(eu)-.1 G .732(sually uses\)\). PMak)-3.232 F 3.232(ew)-.1
G .733(ill remo)-3.232 F 1.033 -.15(ve a)-.15 H .733
(ll occurences of this string).15 F(from the output, so you don')103.6
182.4 Q 2.5(tn)-.18 G(otice e)-2.5 E(xtra commands you didn')-.15 E 2.5
(tp)-.18 G(ut there.)-2.5 E 6.5<8354>93.6 198 S .09
(he \215ag the Bourne Shell will tak)-6.5 F 2.59(et)-.1 G 2.59(os)-2.59
G .09(tart echoing in this w)-2.59 F .089(ay is the)-.1 F F1<ad78>2.589
E F0 .089(\215ag. The Bourne Shell will only)2.589 F(tak)103.6 210 Q
3.63(ei)-.1 G 1.13(ts \215ag ar)-3.63 F 1.131
(guments concatenated as its \214rst ar)-.18 F 1.131
(gument, so neither this nor the)-.18 F/F2 10/Times-Bold@0 SF(errFlag)
3.631 E F0(speci\214cation)3.631 E(be)103.6 222 Q(gins with a \255.)-.15
E 6.5<8354>93.6 237.6 S(he \215ag to use to turn error)-6.5 E
(-checking on from the start is)-.2 E F1<ad65>2.5 E F0(.)A 6.5<8354>93.6
253.2 S 1.066(he shell can turn error)-6.5 F 1.066(-checking on and of)
-.2 F 1.066(f, and the commands to do so are)-.25 F F1 1.065(set +e)
3.566 F F0(and)3.565 E F1 1.065(set -e)3.565 F F0(,)A(respecti)103.6
265.2 Q -.15(ve)-.25 G(ly).15 E(.)-.65 E 3.147(Is)93.6 280.8 S .647(hou\
ld note that this speci\214cation is for Bourne Shells that are not par\
t of Berk)-3.147 F(ele)-.1 E(y)-.15 E/F3 8/Times-Roman@0 SF(UNIX)3.148 E
F0 3.148(,a)C 3.148(ss)-3.148 G .648(hells from)-3.148 F(Berk)93.6 292.8
Q(ele)-.1 E 2.526(yd)-.15 G(on')-2.526 E 2.526(td)-.18 G 2.526(oe)-2.526
G .026(rror control. Y)-2.526 F .025(ou can get a similar ef)-1.1 F .025
(fect, ho)-.25 F(we)-.25 E -.15(ve)-.25 G .825 -.4(r, b).15 H 2.525(yc)
.4 G .025(hanging the last three lines to be:)-2.525 F F1
(hasErrCtl=no \\)154.6 310.8 Q(check="echo \\"+ %s\\"\\n" \\)154.6 322.8
Q(ignore="sh -c '%s || exit 0\\n")154.6 334.8 Q F0(This will cause PMak)
93.6 356.4 Q 2.5(et)-.1 G 2.5(oe)-2.5 G -.15(xe)-2.65 G(cute the tw).15
E 2.5(oc)-.1 G(ommands)-2.5 E F1(echo "+)129.6 374.4 Q/F4 10
/Times-Italic@0 SF(cmd)6 E F1(")A(sh -c ')129.6 386.4 Q F4(cmd)A F1
(|| true')6 E F0 .777(for each command for which errors are to be ignor\
ed. \(In case you are w)93.6 404.4 R .778(ondering, the thing for)-.1 F
F1(ignore)3.278 E F0 .731(tells the shell to e)93.6 416.4 R -.15(xe)-.15
G .731(cute another shell without error checking on and al).15 F -.1(wa)
-.1 G .73(ys e).1 F .73(xit 0, since the)-.15 F F2(||)3.23 E F0 .73
(causes the)3.23 F F1 .058(exit 0)93.6 428.4 R F0 .058(to be e)2.558 F
-.15(xe)-.15 G .058(cuted only if the \214rst command e).15 F .059
(xited non-zero, and if the \214rst command e)-.15 F .059
(xited zero, the)-.15 F(shell will also e)93.6 440.4 Q
(xit zero, since that')-.15 E 2.5(st)-.55 G(he last command it e)-2.5 E
-.15(xe)-.15 G(cuted\).).15 E F2 2.5(4.5. Compatibility)93.6 464.4 R F0
.612(There are three \(well, 3)93.6 480 R/F5 6/Times-Roman@0 SF(1)3.112
-2.8 M F0<85>2.8 I F5(2)A F0 3.112(\)l)C -2.15 -.25(ev e)-3.112 H .612
(ls of backw).25 F .612(ards-compatibility b)-.1 F .612(uilt into PMak)
-.2 F 3.112(e. Most)-.1 F(mak)3.112 E .612(e\214les will need)-.1 F .24
(none at all. Some may need a little bit of w)93.6 492 R .241
(ork to operate correctly when run in parallel. Each le)-.1 F -.15(ve)
-.25 G 2.741(le).15 G(ncom-)-2.741 E .429(passes the pre)93.6 504 R .429
(vious le)-.25 F -.15(ve)-.25 G .429(ls \(e.g.).15 F F2<ad42>5.429 E F0
.429(\(one shell per command\) implies)2.929 F F2<ad56>2.929 E F0 2.929
(\)T)C .429(he three le)-2.929 F -.15(ve)-.25 G .428
(ls are described in).15 F(the follo)93.6 516 Q(wing three sections.)
-.25 E F2 2.5(4.5.1. DEFCON)93.6 540 R 2.5(3\212V)2.5 G
(ariable Expansion)-3.42 E F0 .654(As noted before, PMak)93.6 555.6 R
3.154(ew)-.1 G .654(ill not e)-3.154 F .654(xpand a v)-.15 F .654
(ariable unless it kno)-.25 F .654(ws of a v)-.25 F .654
(alue for it. This can cause prob-)-.25 F 1.225(lems for mak)93.6 567.6
R 1.225(e\214les that e)-.1 F 1.225(xpect to lea)-.15 F 1.525 -.15(ve v)
-.2 H 1.225(ariables unde\214ned e)-.1 F 1.224
(xcept in special circumstances \(e.g. if more)-.15 F .659
(\215ags need to be passed to the C compiler or the output from a te)
93.6 579.6 R .66(xt processor should be sent to a dif)-.15 F(ferent)-.25
E .006(printer\). If the v)93.6 591.6 R .005
(ariables are enclosed in curly braces \(`)-.25 F(`)-.74 E F1
(${PRINTER})A F0 -.74('')C .005
(\), the shell will let them pass. If the).74 F(y)-.15 E 1.322
(are enclosed in parentheses, ho)93.6 603.6 R(we)-.25 E -.15(ve)-.25 G
2.123 -.4(r, t).15 H 1.323
(he shell will declare a syntax error and the mak).4 F 3.823(ew)-.1 G
1.323(ill come to a)-3.823 F(grinding halt.)93.6 615.6 Q -1.1(Yo)93.6
631.2 S 3.47(uh)1.1 G -2.25 -.2(av e)-3.47 H(tw)3.67 E 3.47(oc)-.1 G .97
(hoices: change the mak)-3.47 F .97(e\214le to de\214ne the v)-.1 F .97
(ariables \(their v)-.25 F .97(alues can be o)-.25 F -.15(ve)-.15 G .97
(rridden on the).15 F .51(command line, since that')93.6 643.2 R 3.01
(sw)-.55 G .51(here the)-3.01 F 3.01(yw)-.15 G .51(ould ha)-3.11 F .81
-.15(ve b)-.2 H .511(een set if you used Mak).15 F .511(e, an)-.1 F(yw)
-.15 E .511(ay\) or al)-.1 F -.1(wa)-.1 G .511(ys gi).1 F .811 -.15
(ve t)-.25 H(he).15 E F2<ad56>93.6 655.2 Q F0
(\215ag \(this can be done with the)2.5 E F1(.MAKEFLAGS)2.5 E F0(tar)2.5
E(get, if you w)-.18 E(ant\).)-.1 E F2 2.5(4.5.2. DEFCON)93.6 679.2 R
2.5(2\212T)2.5 G(he Number of the Beast)-2.5 E F0 .24
(Then there are the mak)93.6 694.8 R .24(e\214les that e)-.1 F .24
(xpect certain commands, such as changing to a dif)-.15 F .24
(ferent directory)-.25 F 2.74(,t)-.65 G 2.74(on)-2.74 G(ot)-2.74 E(af)
93.6 706.8 Q .518(fect other commands in a tar)-.25 F(get')-.18 E 3.018
(sc)-.55 G .518(reation script. Y)-3.018 F .518(ou can solv)-1.1 F 3.018
(et)-.15 G .519(his is either by going back to e)-3.018 F -.15(xe)-.15 G
(cuting).15 E .718(one shell per command \(which is what the)93.6 718.8
R F2<ad42>3.217 E F0 .717(\215ag forces PMak)3.217 F 3.217(et)-.1 G
3.217(od)-3.217 G .717(o\), which slo)-3.217 F .717(ws the process do)
-.25 F .717(wn a)-.25 F .528
(good bit and requires you to use semicolons and escaped ne)93.6 730.8 R
.529(wlines for shell constructs, or by changing the)-.25 F EP
%%Page: 32 32
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 300.33(PSD:12-32 PMak)93.6 48 R 2.5(e\212AT)-.1
G(utorial)-2.95 E(mak)93.6 84 Q .055(e\214le to e)-.1 F -.15(xe)-.15 G
.055(cute the of).15 F .054(fending command\(s\) in a subshell \(by pla\
cing the line inside parentheses\), lik)-.25 F 2.554(es)-.1 G(o:)-2.554
E/F1 10/Courier@0 SF(install :: .MAKE)129.6 102 Q
(\(cd src; $\(.PMAKE\) install\))154.6 114 Q
(\(cd lib; $\(.PMAKE\) install\))154.6 126 Q
(\(cd man; $\(.PMAKE\) install\))154.6 138 Q F0 .312(This will al)93.6
156 R -.1(wa)-.1 G .312(ys e).1 F -.15(xe)-.15 G .312
(cute the three mak).15 F .312(es \(e)-.1 F -.15(ve)-.25 G 2.813(ni).15
G 2.813(ft)-2.813 G(he)-2.813 E/F2 10/Times-Bold@0 SF<ad6e>2.813 E F0
.313(\215ag w)2.813 F .313(as gi)-.1 F -.15(ve)-.25 G .313
(n\) because of the combination of the).15 F -.74(``)93.6 168 S(::').74
E 3.205('o)-.74 G .705(perator and the)-3.205 F F1(.MAKE)3.205 E F0
(attrib)3.205 E .704
(ute. Each command will change to the proper directory to perform the)
-.2 F(install, lea)93.6 180 Q
(ving the main shell in the directory in which it started.)-.2 E F2 2.5
(4.5.3. DEFCON)93.6 204 R 2.5(1\212I)2.5 G
(mitation is the Not the Highest F)-2.5 E(orm of Flattery)-.25 E F0 .05
(The \214nal cate)93.6 219.6 R .05(gory of mak)-.15 F .051
(e\214le is the one where e)-.1 F -.15(ve)-.25 G .051
(ry command requires input, the dependencies are incom-).15 F .388
(pletely speci\214ed, or you simply cannot create more than one tar)93.6
231.6 R .388(get at a time, as mentioned earlier)-.18 F 2.887(.I)-.55 G
2.887(na)-2.887 G(ddi-)-2.887 E .546(tion, you may not ha)93.6 243.6 R
.846 -.15(ve t)-.2 H .546(he time or desire to upgrade the mak).15 F
.547(e\214le to run smoothly with PMak)-.1 F .547(e. If you are)-.1 F
.748(the conserv)93.6 255.6 R(ati)-.25 E 1.048 -.15(ve s)-.25 H .747(or\
t, this is the compatibility mode for you. It is entered either by gi)
.15 F .747(ving PMak)-.25 F 3.247(et)-.1 G(he)-3.247 E F2<ad4d>3.247 E
F0 1.042(\215ag \(for Mak)93.6 267.6 R 1.042(e\), or by e)-.1 F -.15(xe)
-.15 G 1.042(cuting PMak).15 F 3.542(ea)-.1 G 3.542(s`)-3.542 G(`)-4.282
E F1(make)A F0 -.7(.')C 6.043('I)-.04 G 3.543(ne)-6.043 G 1.043
(ither case, PMak)-3.543 F 3.543(ep)-.1 G 1.043(erforms things e)-3.543
F 1.043(xactly lik)-.15 F(e)-.1 E(Mak)93.6 279.6 Q 2.5(e\()-.1 G
(while still supporting most of the nice ne)-2.5 E 2.5(wf)-.25 G
(eatures PMak)-2.5 E 2.5(ep)-.1 G(ro)-2.5 E(vides\). This includes:)-.15
E 6.5<834e>93.6 295.2 S 2.5(op)-6.5 G(arallel e)-2.5 E -.15(xe)-.15 G
(cution.).15 E 6.5<8354>93.6 310.8 S(ar)-7.3 E .984
(gets are made in the e)-.18 F .983(xact order speci\214ed by the mak)
-.15 F .983(e\214le. The sources for each tar)-.1 F .983
(get are made in)-.18 F(strict left-to-right order)103.6 322.8 Q 2.5(,e)
-.4 G(tc.)-2.5 E 6.5<8341>93.6 338.4 S .247
(single Bourne shell is used to e)-3.753 F -.15(xe)-.15 G .248
(cute each command, thus the shell').15 F(s)-.55 E F1($$)2.748 E F0 -.25
(va)2.748 G .248(riable is useless, changing).25 F(directories doesn')
103.6 350.4 Q 2.5(tw)-.18 G(ork across command lines, etc.)-2.6 E 6.5
<8349>93.6 366 S 3.362(fn)-6.5 G 3.362(os)-3.362 G .862
(pecial characters e)-3.362 F .861(xist in a command line, PMak)-.15 F
3.361(ew)-.1 G .861(ill break the command into w)-3.361 F .861
(ords itself and)-.1 F -.15(exe)103.6 378 S .008
(cute the command directly).15 F 2.508(,w)-.65 G .008(ithout e)-2.508 F
-.15(xe)-.15 G .009
(cuting a shell \214rst. The characters that cause PMak).15 F 2.509(et)
-.1 G 2.509(oe)-2.509 G -.15(xe)-2.659 G(cute).15 E 2.819(as)103.6 390 S
.319(hell are:)-2.819 F F1(#)2.819 E F0(,)A F1(=)2.819 E F0(,)A F1(|)
2.819 E F0(,)A F1(^)2.819 E F0(,)A F1(\()2.819 E F0(,)A F1(\))2.819 E F0
(,)A F1({)2.819 E F0(,)A F1(})2.819 E F0(,)A F1(;)2.819 E F0(,)A F1(&)
2.819 E F0(,)A F1(<)2.819 E F0(,)A F1(>)2.819 E F0(,)A F1(*)2.819 E F0
(,)A F1(?)2.819 E F0(,)A F1([)2.819 E F0(,)A F1(])2.819 E F0(,)A F1(:)
2.819 E F0(,)A F1($)2.819 E F0(,)A F1(`)2.819 E F0 2.819(,a)C(nd)-2.819
E F1(\\)2.819 E F0 5.319(.Y)C .319(ou should notice that these are)
-6.419 F .483(all the characters that are gi)103.6 402 R -.15(ve)-.25 G
2.983(ns).15 G .483(pecial meaning by the shell \(e)-2.983 F(xcept)-.15
E F1(')2.983 E F0(and)2.983 E F1(,)9.466 E F0 .484(which PMak)2.983 F
2.984(ed)-.1 G .484(eals with)-2.984 F(all by its lonesome\).)103.6 414
Q 6.5<8354>93.6 429.6 S(he use of the null suf)-6.5 E
(\214x is turned of)-.25 E(f.)-.25 E F2 2.5(4.6. The)93.6 453.6 R -.65
(Wa)2.5 G 2.5(yT).65 G(hings W)-2.5 E(ork)-.75 E F0 .539(When PMak)93.6
469.2 R 3.039(er)-.1 G .539(eads the mak)-3.039 F .538
(e\214le, it parses sources and tar)-.1 F .538
(gets into nodes in a graph. The graph is directed)-.18 F .721
(only in the sense that PMak)93.6 481.2 R 3.221(ek)-.1 G(no)-3.221 E
.721(ws which w)-.25 F .721
(ay is up. Each node contains not only links to all its parents)-.1 F
.564(and children \(the nodes that depend on it and those on which it d\
epends, respecti)93.6 493.2 R -.15(ve)-.25 G .564(ly\), b).15 F .564
(ut also a count of)-.2 F(the number of its children that ha)93.6 505.2
Q .3 -.15(ve a)-.2 H(lready been processed.).15 E .165
(The most important thing to kno)93.6 520.8 R 2.665(wa)-.25 G .165
(bout ho)-2.665 F 2.665(wP)-.25 G(Mak)-2.665 E 2.666(eu)-.1 G .166
(ses this graph is that the tra)-2.666 F -.15(ve)-.2 G .166
(rsal is breadth-\214rst and).15 F(occurs in tw)93.6 532.8 Q 2.5(op)-.1
G(asses.)-2.5 E .917(After PMak)93.6 548.4 R 3.417(eh)-.1 G .917
(as parsed the mak)-3.417 F .917(e\214le, it be)-.1 F .917
(gins with the nodes the user has told it to mak)-.15 F 3.417(e\()-.1 G
.917(either on the)-3.417 F .233(command line, or via a)93.6 560.4 R F1
(.MAIN)2.733 E F0(tar)2.733 E .233(get, or by the tar)-.18 F .234
(get being the \214rst in the \214le not labeled with the)-.18 F F1
(.NOT-)2.734 E(MAIN)93.6 572.4 Q F0(attrib)2.74 E .239
(ute\) placed in a queue. It continues to tak)-.2 F 2.739(et)-.1 G .239
(he node of)-2.739 F 2.739(ft)-.25 G .239
(he front of the queue, mark it as some-)-2.739 F .904
(thing that needs to be made, pass the node to)93.6 584.4 R F1
(Suff_FindDeps)3.404 E F0 .904(\(mentioned earlier\) to \214nd an)3.404
F 3.404(yi)-.15 G(mplicit)-3.404 E .192
(sources for the node, and place all the node')93.6 596.4 R 2.692(sc)
-.55 G .192(hildren that ha)-2.692 F .492 -.15(ve y)-.2 H .192
(et to be mark).15 F .191(ed at the end of the queue. If)-.1 F(an)93.6
608.4 Q 2.899(yo)-.15 G 2.899(ft)-2.899 G .399(he children is a)-2.899 F
F1(.USE)2.899 E F0 .399(rule, its attrib)2.899 F .4
(utes are applied to the parent, then its commands are appended)-.2 F
1.402(to the parent')93.6 620.4 R 3.902(sl)-.55 G 1.401
(ist of commands and its children are link)-3.902 F 1.401
(ed to its parent. The parent')-.1 F 3.901(su)-.55 G 1.401
(nmade children)-3.901 F 1.11(counter is then decremented \(since the)
93.6 632.4 R F1(.USE)3.61 E F0 1.11(node has been processed\). Y)3.61 F
1.11(ou will note that this allo)-1.1 F 1.11(ws a)-.25 F F1(.USE)93.6
644.4 Q F0 .166(node to ha)2.666 F .466 -.15(ve c)-.2 H .166
(hildren that are).15 F F1(.USE)2.666 E F0 .166
(nodes and the rules will be applied in sequence.)2.666 F .166
(If the node has)5.166 F .139
(no children, it is placed at the end of another queue to be e)93.6
656.4 R .139(xamined in the second pass. This process contin-)-.15 F
(ues until the \214rst queue is empty)93.6 668.4 Q(.)-.65 E .232
(At this point, all the lea)93.6 684 R -.15(ve)-.2 G 2.732(so).15 G
2.732(ft)-2.732 G .232(he graph are in the e)-2.732 F .232
(xamination queue. PMak)-.15 F 2.732(er)-.1 G(emo)-2.732 E -.15(ve)-.15
G 2.732(st).15 G .232(he node at the head)-2.732 F .637(of the queue an\
d sees if it is out-of-date. If it is, it is passed to a function that \
will e)93.6 696 R -.15(xe)-.15 G .638(cute the commands).15 F 2.348
(for the node asynchronously)93.6 708 R 4.848(.W)-.65 G 2.348
(hen the commands ha)-4.848 F 2.648 -.15(ve c)-.2 H 2.348
(ompleted, all the node').15 F 4.848(sp)-.55 G 2.347(arents ha)-4.848 F
2.647 -.15(ve t)-.2 H(heir).15 E 1.434
(unmade children counter decremented and, if the counter is then 0, the)
93.6 720 R 3.935(ya)-.15 G 1.435(re placed on the e)-3.935 F(xamination)
-.15 E EP
%%Page: 33 33
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PMak)93.6 48 Q 2.5(e\212AT)-.1 G 300.33
(utorial PSD:12-33)-2.95 F .498(queue. Lik)93.6 84 R -.25(ew)-.1 G .497
(ise, if the node is up-to-date. Only those parents that were mark).25 F
.497(ed on the do)-.1 F(wnw)-.25 E .497(ard pass are)-.1 F .304
(processed in this w)93.6 96 R(ay)-.1 E 2.804(.T)-.65 G .304(hus PMak)
-2.804 F 2.804(et)-.1 G(ra)-2.804 E -.15(ve)-.2 G .304
(rses the graph back up to the nodes the user instructed it to create.)
.15 F(When the e)93.6 108 Q
(xamination queue is empty and no shells are running to create a tar)
-.15 E(get, PMak)-.18 E 2.5(ei)-.1 G 2.5<738c>-2.5 G(nished.)-2.5 E .966
(Once all tar)93.6 123.6 R .966(gets ha)-.18 F 1.266 -.15(ve b)-.2 H
.966(een processed, PMak).15 F 3.466(ee)-.1 G -.15(xe)-3.616 G .966
(cutes the commands attached to the).15 F/F1 10/Courier@0 SF(.END)3.466
E F0(tar)3.466 E .966(get, either)-.18 F -.15(ex)93.6 135.6 S .347(plic\
itly or through the use of an ellipsis in a shell script. If there were\
 no errors during the entire process).15 F -.2(bu)93.6 147.6 S 3.387(tt)
.2 G .887(here are still some tar)-3.387 F .887(gets unmade \(PMak)-.18
F 3.387(ek)-.1 G .887(eeps a running count of ho)-3.487 F 3.387(wm)-.25
G(an)-3.387 E 3.387(yt)-.15 G(ar)-3.387 E .886(gets are left to be)-.18
F .782(made\), there is a c)93.6 159.6 R .782(ycle in the graph. PMak)
-.15 F 3.282(ed)-.1 G .782(oes a depth-\214rst tra)-3.282 F -.15(ve)-.2
G .782(rsal of the graph to \214nd all the tar).15 F(gets)-.18 E
(that weren')93.6 171.6 Q 2.5(tm)-.18 G
(ade and prints them out one by one.)-2.5 E/F2 10/Times-Bold@0 SF 2.5
(5. Answers)93.6 195.6 R(to Exer)2.5 E(cises)-.18 E F0 3.34
(\(3.1\) This)93.6 211.2 R .464(is something of a trick question, for w\
hich I apologize. The trick comes from the UNIX de\214ni-)2.965 F 1.006
(tion of a suf)118.6 223.2 R 1.006(\214x, which PMak)-.25 F 3.506(ed)-.1
G(oesn')-3.506 E 3.506(tn)-.18 G 1.006(ecessarily share. Y)-3.506 F
1.006(ou will ha)-1.1 F 1.306 -.15(ve n)-.2 H 1.007
(oticed that all the suf).15 F<8c78>-.25 E(es)-.15 E .04
(used in this tutorial \(and in UNIX in general\) be)118.6 235.2 R .039
(gin with a period \()-.15 F F1(.ms)A F0(,)A F1(.c)2.539 E F0 2.539(,e)C
.039(tc.\). No)-2.539 F 1.339 -.65(w, P)-.25 H(Mak).65 E(e')-.1 E 2.539
(si)-.55 G(dea)-2.539 E .282(of a suf)118.6 247.2 R .283
(\214x is more lik)-.25 F 2.783(eE)-.1 G(nglish')-2.783 E .283(s: it')
-.55 F 2.783(st)-.55 G .283(he characters at the end of a w)-2.783 F
.283(ord. W)-.1 F .283(ith this in mind, one pos-)-.4 F
(sible solution to this problem goes as follo)118.6 259.2 Q(ws:)-.25 E
F1 36(.SUFFIXES :)154.6 277.2 R(ec.exe .exe ec.obj .obj .asm)6 E
(ec.objec.exe .obj.exe :)154.6 289.2 Q
(link -o $\(.TARGET\) $\(.IMPSRC\))202.6 301.2 Q 30(.asmec.obj :)154.6
313.2 R(asm -o $\(.TARGET\) -DDO_ERROR_CHECKING $\(.IMPSRC\))202.6 325.2
Q 42(.asm.obj :)154.6 337.2 R(asm -o $\(.TARGET\) $\(.IMPSRC\))202.6
349.2 Q F0 3.34(\(3.2\) The)93.6 370.8 R .797
(trick to this one lies in the `)3.298 F(`:=')-.74 E 3.297('v)-.74 G
.797(ariable-assignment operator and the `)-3.547 F(`:S')-.74 E 3.297
('v)-.74 G(ariable-e)-3.547 E(xpansion)-.15 E(modi\214er)118.6 382.8 Q
5.045(.B)-.55 G .045(asically what you w)-5.045 F .045(ant is to tak)-.1
F 2.545(et)-.1 G .046(he pointer v)-2.545 F .046
(ariable, so to speak, and transform it into an)-.25 F(in)118.6 394.8 Q
-.2(vo)-.4 G(cation of the v).2 E(ariable at which it points. Y)-.25 E
(ou might try something lik)-1.1 E(e)-.1 E F1
($\(PTR:S/^/\\$\(/:S/$/\)\))154.6 412.8 Q F0 .562(which places `)118.6
430.8 R(`)-.74 E F1($\()A F0 2.042 -.74('' a)D 3.062(tt).74 G .562
(he front of the v)-3.062 F .562(ariable name and `)-.25 F(`)-.74 E F1
(\))A F0 2.042 -.74('' a)D 3.062(tt).74 G .561
(he end, thus transforming `)-3.062 F(`)-.74 E F1(VAR)A F0 -.7(,')C(')
-.04 E 1.33(for e)118.6 442.8 R 1.33(xample, into `)-.15 F(`)-.74 E F1
($\(VAR\))A F0 -.7(,')C 3.83('w)-.04 G 1.33(hich is just what we w)-3.83
F 1.33(ant. Unfortunately \(as you kno)-.1 F 3.83(wi)-.25 G 3.83(fy)
-3.83 G(ou')-3.83 E -.15(ve)-.5 G .755
(tried it\), since, as it says in the hint, PMak)118.6 454.8 R 3.255(ed)
-.1 G .754(oes no further substitution on the result of a modi\214ed)
-3.255 F -.15(ex)118.6 466.8 S .237(pansion, that').15 F(s)-.55 E/F3 10
/Times-Italic@0 SF(all)2.737 E F0 .237(you get. The solution is to mak)
2.737 F 2.737(eu)-.1 G .237(se of `)-2.737 F(`:=')-.74 E 2.738('t)-.74 G
2.738(op)-2.738 G .238(lace that string into yet another)-2.738 F -.25
(va)118.6 478.8 S(riable, then in).25 E -.2(vo)-.4 G .2 -.1(ke t).2 H
(he other v).1 E(ariable directly:)-.25 E F1 66(*PTR :=)154.6 496.8 R
($\(PTR:S/^/\\$\(/:S/$/\)/\))6 E F0 -1.1(Yo)118.6 514.8 S 2.5(uc)1.1 G
(an then use `)-2.5 E(`)-.74 E F1($\(*PTR\))A F0 1.48 -.74('' t)D 2.5
(oy).74 G(our heart')-2.5 E 2.5(sc)-.55 G(ontent.)-2.5 E F2 2.5
(6. Glossary)93.6 538.8 R(of J)2.5 E(ar)-.15 E(gon)-.1 E(attrib)93.6
554.4 Q(ute:)-.2 E F0 2.5(Ap)2.5 G(roperty gi)-2.5 E -.15(ve)-.25 G 2.5
(nt).15 G 2.5(oat)-2.5 G(ar)-2.5 E(get that causes PMak)-.18 E 2.5(et)
-.1 G 2.5(ot)-2.5 G(reat it dif)-2.5 E(ferently)-.25 E(.)-.65 E F2 .277
(command script:)93.6 570 R F0 .277(The lines immediately follo)2.777 F
.277(wing a dependenc)-.25 F 2.776(yl)-.15 G .276
(ine that specify commands to e)-2.776 F -.15(xe)-.15 G .276(cute to).15
F .281(create each of the tar)118.6 582 R .281(gets on the dependenc)
-.18 F 2.781(yl)-.15 G .281
(ine. Each line in the command script must be)-2.781 F .282(gin with a)
-.15 F(tab)118.6 594 Q(.)-.4 E F2 .9(command-line v)93.6 609.6 R
(ariable:)-.1 E F0 3.4(Av)3.4 G .899(ariable de\214ned in an ar)-3.65 F
.899(gument when PMak)-.18 F 3.399(ei)-.1 G 3.399<738c>-3.399 G .899
(rst e)-3.399 F -.15(xe)-.15 G 3.399(cuted. Ov).15 F .899(errides all)
-.15 F(assignments to the same v)118.6 621.6 Q(ariable name in the mak)
-.25 E(e\214le.)-.1 E F2(conditional:)93.6 637.2 Q F0 2.995(Ac)2.995 G
.495(onstruct much lik)-2.995 F 2.996(et)-.1 G .496
(hat used in C that allo)-2.996 F .496(ws a mak)-.25 F .496
(e\214le to be con\214gured on the \215y based)-.1 F(on the local en)
118.6 649.2 Q(vironment, or on what is being made by that in)-.4 E -.2
(vo)-.4 G(cation of PMak).2 E(e.)-.1 E F2(cr)93.6 664.8 Q
(eation script:)-.18 E F0(Commands used to create a tar)2.5 E
(get. See `)-.18 E(`command script.)-.74 E -.74('')-.7 G F2(dependency:)
93.6 680.4 Q F0 .756(The relationship between a source and a tar)3.257 F
.756(get. This comes in three \215a)-.18 F -.2(vo)-.2 G .756
(rs, as indicated by).2 F .136(the operator between the tar)118.6 692.4
R .136(get and the source. `:' gi)-.18 F -.15(ve)-.25 G 2.636(sas).15 G
.136(traight time-wise dependenc)-2.636 F 2.637(y\()-.15 G .137
(if the tar)-2.637 F(get)-.18 E .684(is older than the source, the tar)
118.6 704.4 R .684(get is out-of-date\), while `!' pro)-.18 F .683
(vides simply an ordering and al)-.15 F -.1(wa)-.1 G(ys).1 E .154
(considers the tar)118.6 716.4 R .154(get out-of-date. `::' is much lik)
-.18 F 2.654(e`)-.1 G .154(:', sa)-2.654 F .454 -.15(ve i)-.2 H 2.654
(tc).15 G .154(reates multiple instances of a tar)-2.654 F .155
(get each)-.18 F(of which depends on its o)118.6 728.4 Q
(wn list of sources.)-.25 E EP
%%Page: 34 34
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 300.33(PSD:12-34 PMak)93.6 48 R 2.5(e\212AT)-.1
G(utorial)-2.95 E/F1 10/Times-Bold@0 SF .469(dynamic sour)93.6 84 R(ce:)
-.18 E F0 .469(This refers to a source that has a local v)2.969 F .469
(ariable in)-.25 F -.2(vo)-.4 G .469(cation in it. It allo).2 F .469
(ws a single depen-)-.25 F(denc)118.6 96 Q 2.5(yl)-.15 G
(ine to specify a dif)-2.5 E(ferent source for each tar)-.25 E
(get on the line.)-.18 E F1 .784(global v)93.6 111.6 R(ariable:)-.1 E F0
(An)3.284 E 3.284(yv)-.15 G .784(ariable de\214ned in a mak)-3.534 F
.784(e\214le. T)-.1 F(ak)-.8 E .784(es precedence o)-.1 F -.15(ve)-.15 G
3.284(rv).15 G .784(ariables de\214ned in the en)-3.534 F(vi-)-.4 E
(ronment, b)118.6 123.6 Q(ut not o)-.2 E -.15(ve)-.15 G 2.5(rc).15 G
(ommand-line or local v)-2.5 E(ariables.)-.25 E F1 .443(input graph:)
93.6 139.2 R F0 .443(What PMak)2.943 F 2.943(ec)-.1 G .443
(onstructs from a mak)-2.943 F .442
(e\214le. Consists of nodes made of the tar)-.1 F .442(gets in the mak)
-.18 F(e-)-.1 E .038(\214le, and the links between them \(the dependenc\
ies\). The links are directed \(from source to tar)118.6 151.2 R .039
(get\) and)-.18 F(there may not be an)118.6 163.2 Q 2.5(yc)-.15 G
(ycles \(loops\) in the graph.)-2.65 E F1 .885(local v)93.6 178.8 R
(ariable:)-.1 E F0 3.385(Av)3.385 G .885(ariable de\214ned by PMak)
-3.635 F 3.385(ev)-.1 G .885(isible only in a tar)-3.385 F(get')-.18 E
3.385(ss)-.55 G .884(hell script.)-3.385 F .884(There are se)5.884 F
-.15(ve)-.25 G 3.384(nl).15 G(ocal)-3.384 E -.25(va)118.6 190.8 S .162
(riables, not all of which are de\214ned for e).25 F -.15(ve)-.25 G .162
(ry tar).15 F(get:)-.18 E/F2 10/Courier@0 SF(.TARGET)2.663 E F0(,)A F2
(.ALLSRC)2.663 E F0(,)A F2(.OODATE)2.663 E F0(,)A F2(.PREFIX)2.663 E F0
(,)A F2(.IMPSRC)118.6 202.8 Q F0(,)A F2(.ARCHIVE)2.796 E F0 2.796(,a)C
(nd)-2.796 E F2(.MEMBER)2.796 E F0(.)A F2(.TARGET)5.296 E F0(,)A F2
(.PREFIX)2.796 E F0(,)A F2(.ARCHIVE)2.796 E F0 2.796(,a)C(nd)-2.796 E F2
(.MEMBER)2.796 E F0 .296(may be)2.796 F(used on dependenc)118.6 214.8 Q
2.5(yl)-.15 G(ines to create `)-2.5 E(`dynamic sources.)-.74 E -.74('')
-.7 G F1(mak)93.6 230.4 Q(e\214le:)-.1 E F0 4.471<418c>4.471 G 1.971
(le that describes ho)-4.471 F 4.471(was)-.25 G 1.971(ystem is b)-4.471
F 1.972(uilt. If you don')-.2 F 4.472(tk)-.18 G(no)-4.472 E 4.472(ww)
-.25 G 1.972(hat it is after reading this)-4.472 F -.834
(tutorial. . . .)118.6 242.4 R F1(modi\214er:)93.6 258 Q F0 2.75(Al)2.75
G(etter)-2.75 E 2.75(,f)-.4 G(ollo)-2.75 E .25
(wing a colon, used to alter ho)-.25 F 2.75(wav)-.25 G .25(ariable is e)
-3 F 2.75(xpanded. It)-.15 F .25(has no ef)2.75 F .25(fect on the v)-.25
F(ari-)-.25 E(able itself.)118.6 270 Q F1(operator:)93.6 285.6 Q F0
1.774(What separates a source from a tar)4.274 F 1.774
(get \(on a dependenc)-.18 F 4.274(yl)-.15 G 1.774
(ine\) and speci\214es the relationship)-4.274 F(between the tw)118.6
297.6 Q(o. There are three: `)-.1 E F2(:)A F0(', `)A F2(::)A F0
(', and `)A F2(!)A F0('.)A F1(sear)93.6 313.2 Q .107(ch path:)-.18 F F0
2.607(Al)2.607 G .106
(ist of directories in which a \214le should be sought. PMak)-2.607 F
(e')-.1 E 2.606(sv)-.55 G(ie)-2.606 E 2.606(wo)-.25 G 2.606(ft)-2.606 G
.106(he contents of directo-)-2.606 F .873
(ries in a search path does not change once the mak)118.6 325.2 R .874
(e\214le has been read. A \214le is sought on a search)-.1 F
(path only if it is e)118.6 337.2 Q(xclusi)-.15 E -.15(ve)-.25 G
(ly a source.).15 E F1(shell:)93.6 352.8 Q F0 2.5(Ap)2.5 G
(rogram to which commands are passed in order to create tar)-2.5 E
(gets.)-.18 E F1(sour)93.6 368.4 Q(ce:)-.18 E F0(An)2.814 E .314
(ything to the right of an operator on a dependenc)-.15 F 2.814(yl)-.15
G .314(ine. T)-2.814 F(ar)-.8 E .314(gets on the dependenc)-.18 F 2.814
(yl)-.15 G .313(ine are usu-)-2.814 F(ally created from the sources.)
118.6 380.4 Q F1(special tar)93.6 396 Q(get:)-.1 E F0 2.5(At)2.5 G(ar)
-2.5 E(get that causes PMak)-.18 E 2.5(et)-.1 G 2.5(od)-2.5 G 2.5(os)
-2.5 G(pecial things when it')-2.5 E 2.5(se)-.55 G(ncountered.)-2.5 E F1
(suf\214x:)93.6 411.6 Q F0(The tail end of a \214le name. Usually be)2.5
E(gins with a period,)-.15 E F2(.c)2.5 E F0(or)2.5 E F2(.ms)2.5 E F0 2.5
(,e)C(.g.)-2.5 E F1(tar)93.6 427.2 Q(get:)-.1 E F0 2.865(Aw)2.865 G .366
(ord to the left of the operator on a dependenc)-2.965 F 2.866(yl)-.15 G
.366(ine. More generally)-2.866 F 2.866(,a)-.65 G .666 -.15(ny \214)
-2.866 H .366(le that PMak).15 F 2.866(em)-.1 G(ight)-2.866 E .654
(create. A \214le may be \(and often is\) both a tar)118.6 439.2 R .653
(get and a source \(what it is depends on ho)-.18 F 3.153(wP)-.25 G(Mak)
-3.153 E 3.153(ei)-.1 G(s)-3.153 E
(looking at it at the time \212 sort of lik)118.6 451.2 Q 2.5(et)-.1 G
(he w)-2.5 E -2.25 -.2(av e)-.1 H(/particle duality of light, you kno).2
E(w\).)-.25 E F1(transf)93.6 466.8 Q .097(ormation rule:)-.25 F F0 2.597
(As)2.597 G .097(pecial construct in a mak)-2.597 F .097
(e\214le that speci\214es ho)-.1 F 2.597(wt)-.25 G 2.597(oc)-2.597 G
.098(reate a \214le of one type from a)-2.597 F(\214le of another)118.6
478.8 Q 2.5(,a)-.4 G 2.5(si)-2.5 G(ndicated by their suf)-2.5 E<8c78>
-.25 E(es.)-.15 E F1 -.1(va)93.6 494.4 S .059(riable expansion:).1 F F0
.059(The process of substituting the v)2.559 F .059(alue of a v)-.25 F
.059(ariable for a reference to it. Expansion may)-.25 F
(be altered by means of modi\214ers.)118.6 506.4 Q F1 -.1(va)93.6 522 S
(riable:).1 E F0 3.161(Ap)3.161 G .661(lace in which to store te)-3.161
F .661(xt that may be retrie)-.15 F -.15(ve)-.25 G 3.161(dl).15 G(ater)
-3.161 E 3.161(.A)-.55 G .661(lso used to de\214ne the local en)-3.161 F
(viron-)-.4 E(ment. Conditionals e)118.6 534 Q
(xist that test whether a v)-.15 E(ariable is de\214ned or not.)-.25 E
EP
%%Page: 35 35
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(PMak)93.6 48 Q 2.5(e\212AT)-.1 G 300.33
(utorial PSD:12-35)-2.95 F/F1 12/Times-Bold@0 SF -1.104(Ta)276.986 84 S
(ble of Contents)1.104 E F0 33.2(1. Introduction)118.6 120 R -2.5 10
(....................... 1)11.86 H 33.2(2. The)118.6 132 R
(Basics of PMak)2.5 E 13.08(e.)-.1 G -2.5 10(................... 1)-3.08
H 25.7(2.1. Dependenc)118.6 144 R 2.5(yL)-.15 G 9.25(ines .)-2.5 F -2.5
10(.................... 2)10 H 25.7(2.2. Shell)118.6 156 R 2.68
(Commands .)2.5 F -2.5 10(..................... 3)10 H 25.7(2.3. V)118.6
168 R 9.09(ariables .)-1.11 F -2.5 10(....................... 4)10 H
18.2(2.3.1. Local)118.6 180 R -1.11(Va)2.5 G 8.82(riables .)1.11 F -2.5
10(..................... 6)10 H 18.2(2.3.2. Command-line)118.6 192 R
-1.11(Va)2.5 G 9.09(riables .)1.11 F -2.5 10(.................. 6)10 H
18.2(2.3.3. Global)118.6 204 R -1.11(Va)2.5 G 4.37(riables .)1.11 F -2.5
10(..................... 6)10 H 18.2(2.3.4. En)118.6 216 R(vironment V)
-.4 E 4.77(ariables .)-1.11 F -2.5 10(................... 7)10 H 25.7
(2.4. Comments)118.6 228 R -2.5 10(........................ 7)5.46 H
25.7(2.5. P)118.6 240 R 1.45(arallelism .)-.15 F -2.5 10
(....................... 7)10 H 25.7(2.6. Writing)118.6 252 R(and Deb)
2.5 E(ugging a Mak)-.2 E 6.62(e\214le .)-.1 F -2.5 10(............... 8)
10 H 25.7(2.7. In)118.6 264 R -.2(vo)-.4 G(king PMak).2 E -7.62 7.56
(e. . . . . . . . . . . . . . . . . . . . . .)-.1 H(10)7.44 E 25.7
(2.8. Summary)118.6 276 R -7.5 10(........................ 1)9.91 H(2)
-10 E 25.7(2.9. Ex)118.6 288 R 8.13(ercises .)-.15 F -7.5 10
(....................... 1)10 H(3)-10 E 33.2(3. Short-cuts)118.6 300 R
(and Other Nice Things)2.5 E -7.5 10(................ 1)13.82 H(3)-10 E
25.7(3.1. T)118.6 312 R(ransformation Rules)-.35 E -7.5 10
(.................... 1)11.66 H(3)-10 E 25.7(3.2. Including)118.6 324 R
(Other Mak)2.5 E 3.36(e\214les .)-.1 F -7.5 10(.................. 1)10 H
(7)-10 E 25.7(3.3. Sa)118.6 336 R(ving Commands)-.2 E -7.5 10
(..................... 1)10.66 H(7)-10 E 25.7(3.4. T)118.6 348 R(ar)-.8
E(get Attrib)-.18 E 3.88(utes .)-.2 F -7.5 10(..................... 1)10
H(8)-10 E 25.7(3.5. Special)118.6 360 R -.8(Ta)2.5 G -.18(rg).8 G 10.35
(ets .).18 F -7.5 10(..................... 2)10 H(1)-10 E 25.7
(3.6. Modifying)118.6 372 R -1.11(Va)2.5 G(riable Expansion)1.11 E -7.5
10(................. 2)12.98 H(3)-10 E 25.7(3.7. More)118.6 384 R
(on Deb)2.5 E 2.9(ugging .)-.2 F -7.5 10(.................... 2)10 H(4)
-10 E 25.7(3.8. More)118.6 396 R(Ex)2.5 E 8.97(ercises .)-.15 F -7.5 10
(..................... 2)10 H(4)-10 E 33.2(4. PMak)118.6 408 R 2.5(ef)
-.1 G(or Gods)-2.5 E -7.5 10(...................... 2)7.8 H(4)-10 E 25.7
(4.1. Search)118.6 420 R -.15(Pa)2.5 G 7.57(ths .).15 F -7.5 10
(...................... 2)10 H(4)-10 E 25.7(4.2. Archi)118.6 432 R -.15
(ve)-.25 G 2.5(sa).15 G(nd Libraries)-2.5 E -7.5 10
(.................... 2)7.56 H(5)-10 E 25.7(4.3. On)118.6 444 R
(the Condition...)2.5 E -7.5 10(..................... 2)9.35 H(7)-10 E
25.7(4.4. A)118.6 456 R(Shell is a Shell is a Shell)2.5 E -7.5 10
(................... 2)2.68 H(9)-10 E 25.7(4.5. Compatibility)118.6 468
R -7.5 10(....................... 3)5.73 H(1)-10 E 18.2(4.5.1. DEFCON)
118.6 480 R 2.5(3\212V)2.5 G(ariable Expansion)-3.61 E -7.5 10
(................ 3)8.26 H(1)-10 E 18.2(4.5.2. DEFCON)118.6 492 R 2.5
(2\212T)2.5 G(he Number of the Beast)-2.5 E -7.5 10(.............. 3)
10.21 H(1)-10 E 18.2(4.5.3. DEFCON)118.6 504 R 2.5(1\212I)2.5 G
(mitation is the Not the Highest F)-2.5 E(orm of Flattery)-.15 E -7.5 10
(....... 3)3.95 H(2)-10 E 25.7(4.6. The)118.6 516 R -.8(Wa)2.5 G 2.5(yT)
.8 G(hings W)-2.5 E 5.42(ork .)-.8 F -7.5 10(................... 3)10 H
(2)-10 E 33.2(5. Answers)118.6 528 R(to Ex)2.5 E 10.36(ercises .)-.15 F
-7.5 10(................... 3)10 H(3)-10 E 33.2(6. Glossary)118.6 540 R
(of Jar)2.5 E 8.44(gon .)-.18 F -7.5 10(.................... 3)10 H(3)
-10 E EP
%%Trailer
end
%%EOF
